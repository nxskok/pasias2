<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Problems and Solutions in Applied Statistics (2nd ed) - 35&nbsp; Discriminant analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./cluster.html" rel="next">
<link href="./repeated-measures.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discriminant-analysis.html"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Discriminant analysis</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Problems and Solutions in Applied Statistics (2nd ed)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_used.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting used to R and R Studio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reading-in.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reading in data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./making-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Drawing graphs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-summaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data exploration</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./working-with-dataframes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with dataframes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./one-sample-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">One-sample inference</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./two-sample-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Two-sample inference</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./power.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Power and sample size</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sign.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The sign test</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mood-median.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Mood median test</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./matched-pairs-sign.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Matched pairs t and sign test</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./normal-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Normal quantile plots</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis-of-variance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Analysis of variance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Writing reports</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./coding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Learning to code</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dandruff.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Treating dandruff</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidying-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Tidying data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./simple-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Simple regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multiple-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Multiple regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression-categorical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Regression with categorical variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dates-and-times.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Dates and times</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vector-matrix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Vector and matrix algebra</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bootstrap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Bootstrap</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Bayesian Statistics with Stan</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression-revisited.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Regression revisited</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Logistic regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ordinal-response.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Logistic regression with ordinal response</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nominal-response.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Logistic regression with nominal response</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./survival-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Survival analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./anova-revisited.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Analysis of variance revisited</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ancova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Analysis of covariance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Multivariate analysis of variance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./repeated-measures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Repeated measures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discriminant-analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Discriminant analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Hierarchical cluster analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kmeans-cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">K-means cluster analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Drawing maps with Leaflet</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Multidimensional Scaling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Principal Components</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Factor Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./loglin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Frequency table analysis</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#telling-whether-a-banknote-is-real-or-counterfeit" id="toc-telling-whether-a-banknote-is-real-or-counterfeit" class="nav-link active" data-scroll-target="#telling-whether-a-banknote-is-real-or-counterfeit"><span class="header-section-number">35.1</span> Telling whether a banknote is real or counterfeit</a></li>
  <li><a href="#urine-and-obesity-what-makes-a-difference" id="toc-urine-and-obesity-what-makes-a-difference" class="nav-link" data-scroll-target="#urine-and-obesity-what-makes-a-difference"><span class="header-section-number">35.2</span> Urine and obesity: what makes a difference?</a></li>
  <li><a href="#understanding-a-manova" id="toc-understanding-a-manova" class="nav-link" data-scroll-target="#understanding-a-manova"><span class="header-section-number">35.3</span> Understanding a MANOVA</a></li>
  <li><a href="#what-distinguishes-people-who-do-different-jobs" id="toc-what-distinguishes-people-who-do-different-jobs" class="nav-link" data-scroll-target="#what-distinguishes-people-who-do-different-jobs"><span class="header-section-number">35.4</span> What distinguishes people who do different jobs?</a></li>
  <li><a href="#observing-children-with-adhd" id="toc-observing-children-with-adhd" class="nav-link" data-scroll-target="#observing-children-with-adhd"><span class="header-section-number">35.5</span> Observing children with ADHD</a></li>
  <li><a href="#growing-corn" id="toc-growing-corn" class="nav-link" data-scroll-target="#growing-corn"><span class="header-section-number">35.6</span> Growing corn</a></li>
  <li><a href="#understanding-athletes-height-weight-sport-and-gender" id="toc-understanding-athletes-height-weight-sport-and-gender" class="nav-link" data-scroll-target="#understanding-athletes-height-weight-sport-and-gender"><span class="header-section-number">35.7</span> Understanding athletes’ height, weight, sport and gender</a></li>
  <li><a href="#telling-whether-a-banknote-is-real-or-counterfeit-1" id="toc-telling-whether-a-banknote-is-real-or-counterfeit-1" class="nav-link" data-scroll-target="#telling-whether-a-banknote-is-real-or-counterfeit-1"><span class="header-section-number">35.8</span> Telling whether a banknote is real or counterfeit</a></li>
  <li><a href="#urine-and-obesity-what-makes-a-difference-1" id="toc-urine-and-obesity-what-makes-a-difference-1" class="nav-link" data-scroll-target="#urine-and-obesity-what-makes-a-difference-1"><span class="header-section-number">35.9</span> Urine and obesity: what makes a difference?</a></li>
  <li><a href="#understanding-a-manova-1" id="toc-understanding-a-manova-1" class="nav-link" data-scroll-target="#understanding-a-manova-1"><span class="header-section-number">35.10</span> Understanding a MANOVA</a></li>
  <li><a href="#what-distinguishes-people-who-do-different-jobs-1" id="toc-what-distinguishes-people-who-do-different-jobs-1" class="nav-link" data-scroll-target="#what-distinguishes-people-who-do-different-jobs-1"><span class="header-section-number">35.11</span> What distinguishes people who do different jobs?</a></li>
  <li><a href="#observing-children-with-adhd-1" id="toc-observing-children-with-adhd-1" class="nav-link" data-scroll-target="#observing-children-with-adhd-1"><span class="header-section-number">35.12</span> Observing children with ADHD</a></li>
  <li><a href="#growing-corn-1" id="toc-growing-corn-1" class="nav-link" data-scroll-target="#growing-corn-1"><span class="header-section-number">35.13</span> Growing corn</a></li>
  <li><a href="#understanding-athletes-height-weight-sport-and-gender-1" id="toc-understanding-athletes-height-weight-sport-and-gender-1" class="nav-link" data-scroll-target="#understanding-athletes-height-weight-sport-and-gender-1"><span class="header-section-number">35.14</span> Understanding athletes’ height, weight, sport and gender</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Discriminant analysis</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Packages for this chapter:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbiplot)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(Note: <code>ggbiplot</code> loads <code>plyr</code>, which overlaps a lot with <code>dplyr</code> (<code>filter</code>, <code>select</code> etc.). We want the <code>dplyr</code> stuff elsewhere, so we load <code>ggbiplot</code> <em>first</em>, and the things in <code>plyr</code> get hidden, as shown in the Conflicts. This, despite appearances, is what we want.)</p>
<section id="telling-whether-a-banknote-is-real-or-counterfeit" class="level2" data-number="35.1">
<h2 data-number="35.1" class="anchored" data-anchor-id="telling-whether-a-banknote-is-real-or-counterfeit"><span class="header-section-number">35.1</span> Telling whether a banknote is real or counterfeit</h2>
<p><a name="sec:swiss-money">*</a> A Swiss bank collected a number of known counterfeit (fake) bills over time, and sampled a number of known genuine bills of the same denomination. Is it possible to tell, from measurements taken from a bill, whether it is genuine or not? We will explore that issue here. The variables measured were:</p>
<ul>
<li><p>length</p></li>
<li><p>right-hand width</p></li>
<li><p>left-hand width</p></li>
<li><p>top margin</p></li>
<li><p>bottom margin</p></li>
<li><p>diagonal</p></li>
</ul>
<ol type="a">
<li><p>Read in the data from <a href="http://ritsokiguess.site/datafiles/swiss1.txt">link</a>, and check that you have 200 rows and 7 columns altogether.</p></li>
<li><p>Run a multivariate analysis of variance. What do you conclude? Is it worth running a discriminant analysis? (This is the same procedure as with basic MANOVAs before.)</p></li>
<li><p>Run a discriminant analysis. Display the output.</p></li>
<li><p>How many linear discriminants did you get? Is that making sense? Explain briefly.</p></li>
<li><p><a name="part:big">*</a> Using your output from the discriminant analysis, describe how each of the linear discriminants that you got is related to your original variables. (This can, maybe even should, be done crudely: “does each variable feature in each linear discriminant: yes or no?”.)</p></li>
<li><p>What values of your variable(s) would make <code>LD1</code> large and positive?</p></li>
<li><p><a name="part:means">*</a> Find the means of each variable for each group (genuine and counterfeit bills). You can get this from your fitted linear discriminant object.</p></li>
<li><p>Plot your linear discriminant(s), however you like. Bear in mind that there is only one linear discriminant.</p></li>
<li><p>What kind of score on <code>LD1</code> do genuine bills typically have? What kind of score do counterfeit bills typically have? What characteristics of a bill, therefore, would you look at to determine if a bill is genuine or counterfeit?</p></li>
</ol>
</section>
<section id="urine-and-obesity-what-makes-a-difference" class="level2" data-number="35.2">
<h2 data-number="35.2" class="anchored" data-anchor-id="urine-and-obesity-what-makes-a-difference"><span class="header-section-number">35.2</span> Urine and obesity: what makes a difference?</h2>
<p>A study was made of the characteristics of urine of young men. The men were classified into four groups based on their degree of obesity. (The groups are labelled <code>a, b, c, d</code>.) Four variables were measured, <code>x</code> (which you can ignore), pigment creatinine, chloride and chlorine. The data are in <a href="http://ritsokiguess.site/datafiles/urine.csv">link</a> as a <code>.csv</code> file. There are 45 men altogether.</p>
<p>Yes, you may have seen this one before. What you found was something like this, probably also with the Box M test (which has a P-value that is small, but not small enough to be a concern):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/urine.csv"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>urine <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 45 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): obesity
dbl (4): x, creatinine, chloride, chlorine

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">with</span>(urine, <span class="fu">cbind</span>(creatinine, chlorine, chloride))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>urine<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">manova</span>(response <span class="sc">~</span> obesity, <span class="at">data =</span> urine)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(urine<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Df  Pillai approx F num Df den Df  Pr(&gt;F)  
obesity    3 0.43144   2.2956      9    123 0.02034 *
Residuals 41                                         
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Our aim is to understand why this result was significant.</p>
<ol type="a">
<li><p>Read in the data again (copy the code from above) and obtain a discriminant analysis.</p></li>
<li><p>How many linear discriminants were you expecting? Explain briefly.</p></li>
<li><p>Why do you think we should pay attention to the first two linear discriminants but not the third? Explain briefly.</p></li>
<li><p>Plot the first two linear discriminant scores (against each other), with each obesity group being a different colour.</p></li>
<li><p><a name="part:plot">*</a> Looking at your plot, discuss how (if at all) the discriminants separate the obesity groups. (Where does each obesity group fall on the plot?)</p></li>
<li><p><a name="part:table">*</a> Obtain a table showing observed and predicted obesity groups. Comment on the accuracy of the predictions.</p></li>
<li><p>Do your conclusions from (<a href="#part:plot">here</a>) and (<a href="#part:table">here</a>) appear to be consistent?</p></li>
</ol>
</section>
<section id="understanding-a-manova" class="level2" data-number="35.3">
<h2 data-number="35.3" class="anchored" data-anchor-id="understanding-a-manova"><span class="header-section-number">35.3</span> Understanding a MANOVA</h2>
<p>One use of discriminant analysis is to understand the results of a MANOVA. This question is a followup to a previous MANOVA that we did, the one with two variables <code>y1</code> and <code>y2</code> and three groups <code>a</code> through <code>c</code>. The data were in <a href="http://ritsokiguess.site/datafiles/simple-manova.txt">link</a>.</p>
<ol type="a">
<li><p>Read the data in again and run the MANOVA that you did before.</p></li>
<li><p>Run a discriminant analysis “predicting” group from the two response variables. Display the output.</p></li>
<li><p><a name="part:output">*</a> In the output from the discriminant analysis, why are there exactly two linear discriminants <code>LD1</code> and <code>LD2</code>?</p></li>
<li><p><a name="part:svd">*</a> From the output, how would you say that the first linear discriminant <code>LD1</code> compares in importance to the second one <code>LD2</code>: much more important, more important, equally important, less important, much less important? Explain briefly.</p></li>
<li><p>Obtain a plot of the discriminant scores.</p></li>
<li><p>Describe briefly how <code>LD1</code> and/or <code>LD2</code> separate the groups. Does your picture confirm the relative importance of <code>LD1</code> and <code>LD2</code> that you found back in part (<a href="#part:svd">here</a>)? Explain briefly.</p></li>
<li><p>What makes group <code>a</code> have a low score on <code>LD1</code>? There are two steps that you need to make: consider the means of group <code>a</code> on variables <code>y1</code> and <code>y2</code> and how they compare to the other groups, and consider how <code>y1</code> and <code>y2</code> play into the score on <code>LD1</code>.</p></li>
<li><p>Obtain predictions for the group memberships of each observation, and make a table of the actual group memberships against the predicted ones. How many of the observations were wrongly classified?</p></li>
</ol>
</section>
<section id="what-distinguishes-people-who-do-different-jobs" class="level2" data-number="35.4">
<h2 data-number="35.4" class="anchored" data-anchor-id="what-distinguishes-people-who-do-different-jobs"><span class="header-section-number">35.4</span> What distinguishes people who do different jobs?</h2>
<p>244<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> people work at a certain company. They each have one of three jobs: customer service, mechanic, dispatcher. In the data set, these are labelled 1, 2 and 3 respectively. In addition, they each are rated on scales called <code>outdoor</code>, <code>social</code> and <code>conservative</code>. Do people with different jobs tend to have different scores on these scales, or, to put it another way, if you knew a person’s scores on <code>outdoor</code>, <code>social</code> and <code>conservative</code>, could you say something about what kind of job they were likely to hold? The data are in <a href="http://ritsokiguess.site/datafiles/jobs.txt">link</a>.</p>
<ol type="a">
<li><p>Read in the data and display some of it.</p></li>
<li><p>Note the types of each of the variables, and create any new variables that you need to.</p></li>
<li><p>Run a multivariate analysis of variance to convince yourself that there are some differences in scale scores among the jobs.</p></li>
<li><p>Run a discriminant analysis and display the output.</p></li>
<li><p>Which is the more important, <code>LD1</code> or <code>LD2</code>? How much more important? Justify your answer briefly.</p></li>
<li><p>Describe what values for an individual on the scales will make each of <code>LD1</code> and <code>LD2</code> high.</p></li>
<li><p>The first group of employees, customer service, have the highest mean on <code>social</code> and the lowest mean on both of the other two scales. Would you expect the customer service employees to score high or low on <code>LD1</code>? What about <code>LD2</code>?</p></li>
<li><p>Plot your discriminant scores (which you will have to obtain first), and see if you were right about the customer service employees in terms of <code>LD1</code> and <code>LD2</code>. The job names are rather long, and there are a lot of individuals, so it is probably best to plot the scores as coloured circles with a legend saying which colour goes with which job (rather than labelling each individual with the job they have).</p></li>
<li><p><a name="part:predjob">*</a> Obtain predicted job allocations for each individual (based on their scores on the three scales), and tabulate the true jobs against the predicted jobs. How would you describe the quality of the classification? Is that in line with what the plot would suggest?</p></li>
<li><p>Consider an employee with these scores: 20 on <code>outdoor</code>, 17 on <code>social</code> and 8 on <code>conservative</code> What job do you think they do, and how certain are you about that? Use <code>predict</code>, first making a data frame out of the values to predict for.</p></li>
<li><p>Since I am not making you hand this one in, I’m going to keep going. Re-run the analysis to incorporate cross-validation, and make a table of the predicted group memberships. Is it much different from the previous one you had? Why would that be?</p></li>
</ol>
</section>
<section id="observing-children-with-adhd" class="level2" data-number="35.5">
<h2 data-number="35.5" class="anchored" data-anchor-id="observing-children-with-adhd"><span class="header-section-number">35.5</span> Observing children with ADHD</h2>
<p>A number of children with ADHD were observed by their mother or their father (only one parent observed each child). Each parent was asked to rate occurrences of behaviours of four different types, labelled <code>q1</code> through <code>q4</code> in the data set. Also recorded was the identity of the parent doing the observation for each child: 1 is father, 2 is mother.</p>
<p>Can we tell (without looking at the <code>parent</code> column) which parent is doing the observation? Research suggests that rating the degree of impairment in different categories depends on who is doing the rating: for example, mothers may feel that a child has difficulty sitting still, while fathers, who might do more observing of a child at play, might think of such a child as simply being “active” or “just being a kid”. The data are in <a href="http://ritsokiguess.site/datafiles/adhd-parents.txt">link</a>.</p>
<ol type="a">
<li><p>Read in the data and confirm that you have four ratings and a column labelling the parent who made each observation.</p></li>
<li><p>Run a suitable discriminant analysis and display the output.</p></li>
<li><p>Which behaviour item or items seem to be most helpful at distinguishing the parent making the observations? Explain briefly.</p></li>
<li><p>Obtain the predictions from the <code>lda</code>, and make a suitable plot of the discriminant scores, bearing in mind that you only have one <code>LD</code>. Do you think there will be any misclassifications? Explain briefly.</p></li>
<li><p>Obtain the predicted group memberships and make a table of actual vs.&nbsp;predicted. Were there any misclassifications? Explain briefly.</p></li>
<li><p>Re-run the discriminant analysis using cross-validation, and again obtain a table of actual and predicted parents. Is the pattern of misclassification different from before? Hints: (i) Bear in mind that there is no <code>predict</code> step this time, because the cross-validation output includes predictions; (ii) use a different name for the predictions this time because we are going to do a comparison in a moment.</p></li>
<li><p>Display the original data (that you read in from the data file) side by side with two sets of posterior probabilities: the ones that you obtained with <code>predict</code> before, and the ones from the cross-validated analysis. Comment briefly on whether the two sets of posterior probabilities are similar. Hints: (i) use <code>data.frame</code> rather than <code>cbind</code>, for reasons that I explain elsewhere; (ii) round the posterior probabilities to 3 decimals before you display them. There are only 29 rows, so look at them all. I am going to add the <code>LD1</code> scores to my output and sort by that, but you don’t need to. (This is for something I am going to add later.)</p></li>
<li><p>Row 17 of your (original) data frame above, row 5 of the output in the previous part, is the mother that was misclassified as a father. Why is it that the cross-validated posterior probabilities are 1 and 0, while the previous posterior probabilities are a bit less than 1 and a bit more than 0?</p></li>
<li><p>Find the parents where the cross-validated posterior probability of being a father is “non-trivial”: that is, not close to zero and not close to 1. (You will have to make a judgement about what “close to zero or 1” means for you.) What do these parents have in common, all of them or most of them?</p></li>
</ol>
</section>
<section id="growing-corn" class="level2" data-number="35.6">
<h2 data-number="35.6" class="anchored" data-anchor-id="growing-corn"><span class="header-section-number">35.6</span> Growing corn</h2>
<p>A new type of corn seed has been developed. The people developing it want to know if the type of soil the seed is planted in has an impact on how well the seed performs, and if so, what kind of impact. Three outcome measures were used: the yield of corn produced (from a fixed amount of seed), the amount of water needed, and the amount of herbicide needed. The data are in <a href="http://ritsokiguess.site/datafiles/cornseed.csv">link</a>. 32 fields were planted with the seed, 8 fields with each soil type.</p>
<ol type="a">
<li><p>Read in the data and verify that you have 32 observations with the correct variables.</p></li>
<li><p>Run a multivariate analysis of variance to see whether the type of soil has any effect on any of the variables. What do you conclude from it?</p></li>
<li><p>Run a discriminant analysis on these data, “predicting” soil type from the three response variables. Display the results.</p></li>
<li><p><a name="part:corn-svd">*</a> Which linear discriminants seem to be worth paying attention to? Why did you get three linear discriminants? Explain briefly.</p></li>
<li><p>Which response variables do the important linear discriminants depend on? Answer this by extracting something from your discriminant analysis output.</p></li>
<li><p>Obtain predictions for the discriminant analysis. (You don’t need to do anything with them yet.)</p></li>
<li><p>Plot the first two discriminant scores against each other, coloured by soil type. You’ll have to start by making a data frame containing what you need.</p></li>
<li><p>On your plot that you just made, explain briefly how <code>LD1</code> distinguishes at least one of the soil types.</p></li>
<li><p>On your plot, does <code>LD2</code> appear to do anything to separate the groups? Is this surprising given your earlier findings? Explain briefly.</p></li>
<li><p>Make a table of actual and predicted <code>soil</code> group. Which soil type was classified correctly the most often?</p></li>
</ol>
</section>
<section id="understanding-athletes-height-weight-sport-and-gender" class="level2" data-number="35.7">
<h2 data-number="35.7" class="anchored" data-anchor-id="understanding-athletes-height-weight-sport-and-gender"><span class="header-section-number">35.7</span> Understanding athletes’ height, weight, sport and gender</h2>
<p>On a previous assignment, we used MANOVA on the athletes data to demonstrate that there was a significant relationship between the combination of the athletes’ height and weight, with the sport they play and the athlete’s gender. The problem with MANOVA is that it doesn’t give any information about the <em>kind</em> of relationship. To understand that, we need to do discriminant analysis, which is the purpose of this question.</p>
<p>The data can be found at <a href="https://raw.githubusercontent.com/nxskok/datafiles/master/ais.txt">link</a>.</p>
<ol type="a">
<li><p>Once again, read in and display (some of) the data, bearing in mind that the data values are separated by <em>tabs</em>. (This ought to be a free two marks.)</p></li>
<li><p>Use <code>unite</code> to make a new column in your data frame which contains the sport-gender <em>combination</em>. Display it. (You might like to display only a few columns so that it is clear that you did the right thing.) Hint: you’ve seen <code>unite</code> in the peanuts example in class.</p></li>
<li><p>Run a discriminant analysis “predicting” sport-gender combo from height and weight. Display the results. (No comment needed yet.)</p></li>
<li><p>What kind of height and weight would make an athlete have a large (positive) score on <code>LD1</code>? Explain briefly.</p></li>
<li><p>Make a guess at the sport-gender combination that has the <em>highest</em> score on LD1. Why did you choose the combination you did?</p></li>
<li><p><a name="part:ld2"><em></em></a><em> What combination of height and weight would make an athlete have a </em>small* (that is, very negative) score on LD2? Explain briefly.</p></li>
<li><p>Obtain predictions for the discriminant analysis, and use these to make a plot of <code>LD1</code> score against <code>LD2</code> score, with the individual athletes distinguished by what sport they play and gender they are. (You can use colour to distinguish them, or you can use shapes. If you want to go the latter way, there are clues in my solutions to the MANOVA question about these athletes.)</p></li>
<li><p>Look on your graph for the four athletes with the smallest (most negative) scores on <code>LD2</code>. What do they have in common? Does this make sense, given your answer to part (<a href="#part:ld2">here</a>)? Explain briefly.</p></li>
<li><p>Obtain a (very large) square table, or a (very long) table with frequencies, of actual and predicted sport-gender combinations. You will probably have to make the square table very small to fit it on the page. For that, displaying the columns in two or more sets is OK (for example, six columns and all the rows, six more columns and all the rows, then the last five columns for all the rows). Are there any sport-gender combinations that seem relatively easy to classify correctly? Explain briefly.</p></li>
</ol>
<p>My solutions follow:</p>
</section>
<section id="telling-whether-a-banknote-is-real-or-counterfeit-1" class="level2" data-number="35.8">
<h2 data-number="35.8" class="anchored" data-anchor-id="telling-whether-a-banknote-is-real-or-counterfeit-1"><span class="header-section-number">35.8</span> Telling whether a banknote is real or counterfeit</h2>
<p><a name="sec:swiss-money">*</a> A Swiss bank collected a number of known counterfeit (fake) bills over time, and sampled a number of known genuine bills of the same denomination. Is it possible to tell, from measurements taken from a bill, whether it is genuine or not? We will explore that issue here. The variables measured were:</p>
<ul>
<li><p>length</p></li>
<li><p>right-hand width</p></li>
<li><p>left-hand width</p></li>
<li><p>top margin</p></li>
<li><p>bottom margin</p></li>
<li><p>diagonal</p></li>
</ul>
<ol type="a">
<li>Read in the data from <a href="http://ritsokiguess.site/datafiles/swiss1.txt">link</a>, and check that you have 200 rows and 7 columns altogether.</li>
</ol>
<p>Solution</p>
<p>Check the data file first. It’s aligned in columns, thus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/swiss1.txt"</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>swiss <span class="ot">&lt;-</span> <span class="fu">read_table</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
── Column specification ────────────────────────────────────────────────────────
cols(
  length = col_double(),
  left = col_double(),
  right = col_double(),
  bottom = col_double(),
  top = col_double(),
  diag = col_double(),
  status = col_character()
)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>swiss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["length"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["left"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["right"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["bottom"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["top"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["diag"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["status"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"214.8","2":"131.0","3":"131.1","4":"9.0","5":"9.7","6":"141.0","7":"genuine"},{"1":"214.6","2":"129.7","3":"129.7","4":"8.1","5":"9.5","6":"141.7","7":"genuine"},{"1":"214.8","2":"129.7","3":"129.7","4":"8.7","5":"9.6","6":"142.2","7":"genuine"},{"1":"214.8","2":"129.7","3":"129.6","4":"7.5","5":"10.4","6":"142.0","7":"genuine"},{"1":"215.0","2":"129.6","3":"129.7","4":"10.4","5":"7.7","6":"141.8","7":"genuine"},{"1":"215.7","2":"130.8","3":"130.5","4":"9.0","5":"10.1","6":"141.4","7":"genuine"},{"1":"215.5","2":"129.5","3":"129.7","4":"7.9","5":"9.6","6":"141.6","7":"genuine"},{"1":"214.5","2":"129.6","3":"129.2","4":"7.2","5":"10.7","6":"141.7","7":"genuine"},{"1":"214.9","2":"129.4","3":"129.7","4":"8.2","5":"11.0","6":"141.9","7":"genuine"},{"1":"215.2","2":"130.4","3":"130.3","4":"9.2","5":"10.0","6":"140.7","7":"genuine"},{"1":"215.3","2":"130.4","3":"130.3","4":"7.9","5":"11.7","6":"141.8","7":"genuine"},{"1":"215.1","2":"129.5","3":"129.6","4":"7.7","5":"10.5","6":"142.2","7":"genuine"},{"1":"215.2","2":"130.8","3":"129.6","4":"7.9","5":"10.8","6":"141.4","7":"genuine"},{"1":"214.7","2":"129.7","3":"129.7","4":"7.7","5":"10.9","6":"141.7","7":"genuine"},{"1":"215.1","2":"129.9","3":"129.7","4":"7.7","5":"10.8","6":"141.8","7":"genuine"},{"1":"214.5","2":"129.8","3":"129.8","4":"9.3","5":"8.5","6":"141.6","7":"genuine"},{"1":"214.6","2":"129.9","3":"130.1","4":"8.2","5":"9.8","6":"141.7","7":"genuine"},{"1":"215.0","2":"129.9","3":"129.7","4":"9.0","5":"9.0","6":"141.9","7":"genuine"},{"1":"215.2","2":"129.6","3":"129.6","4":"7.4","5":"11.5","6":"141.5","7":"genuine"},{"1":"214.7","2":"130.2","3":"129.9","4":"8.6","5":"10.0","6":"141.9","7":"genuine"},{"1":"215.0","2":"129.9","3":"129.3","4":"8.4","5":"10.0","6":"141.4","7":"genuine"},{"1":"215.6","2":"130.5","3":"130.0","4":"8.1","5":"10.3","6":"141.6","7":"genuine"},{"1":"215.3","2":"130.6","3":"130.0","4":"8.4","5":"10.8","6":"141.5","7":"genuine"},{"1":"215.7","2":"130.2","3":"130.0","4":"8.7","5":"10.0","6":"141.6","7":"genuine"},{"1":"215.1","2":"129.7","3":"129.9","4":"7.4","5":"10.8","6":"141.1","7":"genuine"},{"1":"215.3","2":"130.4","3":"130.4","4":"8.0","5":"11.0","6":"142.3","7":"genuine"},{"1":"215.5","2":"130.2","3":"130.1","4":"8.9","5":"9.8","6":"142.4","7":"genuine"},{"1":"215.1","2":"130.3","3":"130.3","4":"9.8","5":"9.5","6":"141.9","7":"genuine"},{"1":"215.1","2":"130.0","3":"130.0","4":"7.4","5":"10.5","6":"141.8","7":"genuine"},{"1":"214.8","2":"129.7","3":"129.3","4":"8.3","5":"9.0","6":"142.0","7":"genuine"},{"1":"215.2","2":"130.1","3":"129.8","4":"7.9","5":"10.7","6":"141.8","7":"genuine"},{"1":"214.8","2":"129.7","3":"129.7","4":"8.6","5":"9.1","6":"142.3","7":"genuine"},{"1":"215.0","2":"130.0","3":"129.6","4":"7.7","5":"10.5","6":"140.7","7":"genuine"},{"1":"215.6","2":"130.4","3":"130.1","4":"8.4","5":"10.3","6":"141.0","7":"genuine"},{"1":"215.9","2":"130.4","3":"130.0","4":"8.9","5":"10.6","6":"141.4","7":"genuine"},{"1":"214.6","2":"130.2","3":"130.2","4":"9.4","5":"9.7","6":"141.8","7":"genuine"},{"1":"215.5","2":"130.3","3":"130.0","4":"8.4","5":"9.7","6":"141.8","7":"genuine"},{"1":"215.3","2":"129.9","3":"129.4","4":"7.9","5":"10.0","6":"142.0","7":"genuine"},{"1":"215.3","2":"130.3","3":"130.1","4":"8.5","5":"9.3","6":"142.1","7":"genuine"},{"1":"213.9","2":"130.3","3":"129.0","4":"8.1","5":"9.7","6":"141.3","7":"genuine"},{"1":"214.4","2":"129.8","3":"129.2","4":"8.9","5":"9.4","6":"142.3","7":"genuine"},{"1":"214.8","2":"130.1","3":"129.6","4":"8.8","5":"9.9","6":"140.9","7":"genuine"},{"1":"214.9","2":"129.6","3":"129.4","4":"9.3","5":"9.0","6":"141.7","7":"genuine"},{"1":"214.9","2":"130.4","3":"129.7","4":"9.0","5":"9.8","6":"140.9","7":"genuine"},{"1":"214.8","2":"129.4","3":"129.1","4":"8.2","5":"10.2","6":"141.0","7":"genuine"},{"1":"214.3","2":"129.5","3":"129.4","4":"8.3","5":"10.2","6":"141.8","7":"genuine"},{"1":"214.8","2":"129.9","3":"129.7","4":"8.3","5":"10.2","6":"141.5","7":"genuine"},{"1":"214.8","2":"129.9","3":"129.7","4":"7.3","5":"10.9","6":"142.0","7":"genuine"},{"1":"214.6","2":"129.7","3":"129.8","4":"7.9","5":"10.3","6":"141.1","7":"genuine"},{"1":"214.5","2":"129.0","3":"129.6","4":"7.8","5":"9.8","6":"142.0","7":"genuine"},{"1":"214.6","2":"129.8","3":"129.4","4":"7.2","5":"10.0","6":"141.3","7":"genuine"},{"1":"215.3","2":"130.6","3":"130.0","4":"9.5","5":"9.7","6":"141.1","7":"genuine"},{"1":"214.5","2":"130.1","3":"130.0","4":"7.8","5":"10.9","6":"140.9","7":"genuine"},{"1":"215.4","2":"130.2","3":"130.2","4":"7.6","5":"10.9","6":"141.6","7":"genuine"},{"1":"214.5","2":"129.4","3":"129.5","4":"7.9","5":"10.0","6":"141.4","7":"genuine"},{"1":"215.2","2":"129.7","3":"129.4","4":"9.2","5":"9.4","6":"142.0","7":"genuine"},{"1":"215.7","2":"130.0","3":"129.4","4":"9.2","5":"10.4","6":"141.2","7":"genuine"},{"1":"215.0","2":"129.6","3":"129.4","4":"8.8","5":"9.0","6":"141.1","7":"genuine"},{"1":"215.1","2":"130.1","3":"129.9","4":"7.9","5":"11.0","6":"141.3","7":"genuine"},{"1":"215.1","2":"130.0","3":"129.8","4":"8.2","5":"10.3","6":"141.4","7":"genuine"},{"1":"215.1","2":"129.6","3":"129.3","4":"8.3","5":"9.9","6":"141.6","7":"genuine"},{"1":"215.3","2":"129.7","3":"129.4","4":"7.5","5":"10.5","6":"141.5","7":"genuine"},{"1":"215.4","2":"129.8","3":"129.4","4":"8.0","5":"10.6","6":"141.5","7":"genuine"},{"1":"214.5","2":"130.0","3":"129.5","4":"8.0","5":"10.8","6":"141.4","7":"genuine"},{"1":"215.0","2":"130.0","3":"129.8","4":"8.6","5":"10.6","6":"141.5","7":"genuine"},{"1":"215.2","2":"130.6","3":"130.0","4":"8.8","5":"10.6","6":"140.8","7":"genuine"},{"1":"214.6","2":"129.5","3":"129.2","4":"7.7","5":"10.3","6":"141.3","7":"genuine"},{"1":"214.8","2":"129.7","3":"129.3","4":"9.1","5":"9.5","6":"141.5","7":"genuine"},{"1":"215.1","2":"129.6","3":"129.8","4":"8.6","5":"9.8","6":"141.8","7":"genuine"},{"1":"214.9","2":"130.2","3":"130.2","4":"8.0","5":"11.2","6":"139.6","7":"genuine"},{"1":"213.8","2":"129.8","3":"129.5","4":"8.4","5":"11.1","6":"140.9","7":"genuine"},{"1":"215.2","2":"129.9","3":"129.5","4":"8.2","5":"10.3","6":"141.4","7":"genuine"},{"1":"215.0","2":"129.6","3":"130.2","4":"8.7","5":"10.0","6":"141.2","7":"genuine"},{"1":"214.4","2":"129.9","3":"129.6","4":"7.5","5":"10.5","6":"141.8","7":"genuine"},{"1":"215.2","2":"129.9","3":"129.7","4":"7.2","5":"10.6","6":"142.1","7":"genuine"},{"1":"214.1","2":"129.6","3":"129.3","4":"7.6","5":"10.7","6":"141.7","7":"genuine"},{"1":"214.9","2":"129.9","3":"130.1","4":"8.8","5":"10.0","6":"141.2","7":"genuine"},{"1":"214.6","2":"129.8","3":"129.4","4":"7.4","5":"10.6","6":"141.0","7":"genuine"},{"1":"215.2","2":"130.5","3":"129.8","4":"7.9","5":"10.9","6":"140.9","7":"genuine"},{"1":"214.6","2":"129.9","3":"129.4","4":"7.9","5":"10.0","6":"141.8","7":"genuine"},{"1":"215.1","2":"129.7","3":"129.7","4":"8.6","5":"10.3","6":"140.6","7":"genuine"},{"1":"214.9","2":"129.8","3":"129.6","4":"7.5","5":"10.3","6":"141.0","7":"genuine"},{"1":"215.2","2":"129.7","3":"129.1","4":"9.0","5":"9.7","6":"141.9","7":"genuine"},{"1":"215.2","2":"130.1","3":"129.9","4":"7.9","5":"10.8","6":"141.3","7":"genuine"},{"1":"215.4","2":"130.7","3":"130.2","4":"9.0","5":"11.1","6":"141.2","7":"genuine"},{"1":"215.1","2":"129.9","3":"129.6","4":"8.9","5":"10.2","6":"141.5","7":"genuine"},{"1":"215.2","2":"129.9","3":"129.7","4":"8.7","5":"9.5","6":"141.6","7":"genuine"},{"1":"215.0","2":"129.6","3":"129.2","4":"8.4","5":"10.2","6":"142.1","7":"genuine"},{"1":"214.9","2":"130.3","3":"129.9","4":"7.4","5":"11.2","6":"141.5","7":"genuine"},{"1":"215.0","2":"129.9","3":"129.7","4":"8.0","5":"10.5","6":"142.0","7":"genuine"},{"1":"214.7","2":"129.7","3":"129.3","4":"8.6","5":"9.6","6":"141.6","7":"genuine"},{"1":"215.4","2":"130.0","3":"129.9","4":"8.5","5":"9.7","6":"141.4","7":"genuine"},{"1":"214.9","2":"129.4","3":"129.5","4":"8.2","5":"9.9","6":"141.5","7":"genuine"},{"1":"214.5","2":"129.5","3":"129.3","4":"7.4","5":"10.7","6":"141.5","7":"genuine"},{"1":"214.7","2":"129.6","3":"129.5","4":"8.3","5":"10.0","6":"142.0","7":"genuine"},{"1":"215.6","2":"129.9","3":"129.9","4":"9.0","5":"9.5","6":"141.7","7":"genuine"},{"1":"215.0","2":"130.4","3":"130.3","4":"9.1","5":"10.2","6":"141.1","7":"genuine"},{"1":"214.4","2":"129.7","3":"129.5","4":"8.0","5":"10.3","6":"141.2","7":"genuine"},{"1":"215.1","2":"130.0","3":"129.8","4":"9.1","5":"10.2","6":"141.5","7":"genuine"},{"1":"214.7","2":"130.0","3":"129.4","4":"7.8","5":"10.0","6":"141.2","7":"genuine"},{"1":"214.4","2":"130.1","3":"130.3","4":"9.7","5":"11.7","6":"139.8","7":"counterfeit"},{"1":"214.9","2":"130.5","3":"130.2","4":"11.0","5":"11.5","6":"139.5","7":"counterfeit"},{"1":"214.9","2":"130.3","3":"130.1","4":"8.7","5":"11.7","6":"140.2","7":"counterfeit"},{"1":"215.0","2":"130.4","3":"130.6","4":"9.9","5":"10.9","6":"140.3","7":"counterfeit"},{"1":"214.7","2":"130.2","3":"130.3","4":"11.8","5":"10.9","6":"139.7","7":"counterfeit"},{"1":"215.0","2":"130.2","3":"130.2","4":"10.6","5":"10.7","6":"139.9","7":"counterfeit"},{"1":"215.3","2":"130.3","3":"130.1","4":"9.3","5":"12.1","6":"140.2","7":"counterfeit"},{"1":"214.8","2":"130.1","3":"130.4","4":"9.8","5":"11.5","6":"139.9","7":"counterfeit"},{"1":"215.0","2":"130.2","3":"129.9","4":"10.0","5":"11.9","6":"139.4","7":"counterfeit"},{"1":"215.2","2":"130.6","3":"130.8","4":"10.4","5":"11.2","6":"140.3","7":"counterfeit"},{"1":"215.2","2":"130.4","3":"130.3","4":"8.0","5":"11.5","6":"139.2","7":"counterfeit"},{"1":"215.1","2":"130.5","3":"130.3","4":"10.6","5":"11.5","6":"140.1","7":"counterfeit"},{"1":"215.4","2":"130.7","3":"131.1","4":"9.7","5":"11.8","6":"140.6","7":"counterfeit"},{"1":"214.9","2":"130.4","3":"129.9","4":"11.4","5":"11.0","6":"139.9","7":"counterfeit"},{"1":"215.1","2":"130.3","3":"130.0","4":"10.6","5":"10.8","6":"139.7","7":"counterfeit"},{"1":"215.5","2":"130.4","3":"130.0","4":"8.2","5":"11.2","6":"139.2","7":"counterfeit"},{"1":"214.7","2":"130.6","3":"130.1","4":"11.8","5":"10.5","6":"139.8","7":"counterfeit"},{"1":"214.7","2":"130.4","3":"130.1","4":"12.1","5":"10.4","6":"139.9","7":"counterfeit"},{"1":"214.8","2":"130.5","3":"130.2","4":"11.0","5":"11.0","6":"140.0","7":"counterfeit"},{"1":"214.4","2":"130.2","3":"129.9","4":"10.1","5":"12.0","6":"139.2","7":"counterfeit"},{"1":"214.8","2":"130.3","3":"130.4","4":"10.1","5":"12.1","6":"139.6","7":"counterfeit"},{"1":"215.1","2":"130.6","3":"130.3","4":"12.3","5":"10.2","6":"139.6","7":"counterfeit"},{"1":"215.3","2":"130.8","3":"131.1","4":"11.6","5":"10.6","6":"140.2","7":"counterfeit"},{"1":"215.1","2":"130.7","3":"130.4","4":"10.5","5":"11.2","6":"139.7","7":"counterfeit"},{"1":"214.7","2":"130.5","3":"130.5","4":"9.9","5":"10.3","6":"140.1","7":"counterfeit"},{"1":"214.9","2":"130.0","3":"130.3","4":"10.2","5":"11.4","6":"139.6","7":"counterfeit"},{"1":"215.0","2":"130.4","3":"130.4","4":"9.4","5":"11.6","6":"140.2","7":"counterfeit"},{"1":"215.5","2":"130.7","3":"130.3","4":"10.2","5":"11.8","6":"140.0","7":"counterfeit"},{"1":"215.1","2":"130.2","3":"130.2","4":"10.1","5":"11.3","6":"140.3","7":"counterfeit"},{"1":"214.5","2":"130.2","3":"130.6","4":"9.8","5":"12.1","6":"139.9","7":"counterfeit"},{"1":"214.3","2":"130.2","3":"130.0","4":"10.7","5":"10.5","6":"139.8","7":"counterfeit"},{"1":"214.5","2":"130.2","3":"129.8","4":"12.3","5":"11.2","6":"139.2","7":"counterfeit"},{"1":"214.9","2":"130.5","3":"130.2","4":"10.6","5":"11.5","6":"139.9","7":"counterfeit"},{"1":"214.6","2":"130.2","3":"130.4","4":"10.5","5":"11.8","6":"139.7","7":"counterfeit"},{"1":"214.2","2":"130.0","3":"130.2","4":"11.0","5":"11.2","6":"139.5","7":"counterfeit"},{"1":"214.8","2":"130.1","3":"130.1","4":"11.9","5":"11.1","6":"139.5","7":"counterfeit"},{"1":"214.6","2":"129.8","3":"130.2","4":"10.7","5":"11.1","6":"139.4","7":"counterfeit"},{"1":"214.9","2":"130.7","3":"130.3","4":"9.3","5":"11.2","6":"138.3","7":"counterfeit"},{"1":"214.6","2":"130.4","3":"130.4","4":"11.3","5":"10.8","6":"139.8","7":"counterfeit"},{"1":"214.5","2":"130.5","3":"130.2","4":"11.8","5":"10.2","6":"139.6","7":"counterfeit"},{"1":"214.8","2":"130.2","3":"130.3","4":"10.0","5":"11.9","6":"139.3","7":"counterfeit"},{"1":"214.7","2":"130.0","3":"129.4","4":"10.2","5":"11.0","6":"139.2","7":"counterfeit"},{"1":"214.6","2":"130.2","3":"130.4","4":"11.2","5":"10.7","6":"139.9","7":"counterfeit"},{"1":"215.0","2":"130.5","3":"130.4","4":"10.6","5":"11.1","6":"139.9","7":"counterfeit"},{"1":"214.5","2":"129.8","3":"129.8","4":"11.4","5":"10.0","6":"139.3","7":"counterfeit"},{"1":"214.9","2":"130.6","3":"130.4","4":"11.9","5":"10.5","6":"139.8","7":"counterfeit"},{"1":"215.0","2":"130.5","3":"130.4","4":"11.4","5":"10.7","6":"139.9","7":"counterfeit"},{"1":"215.3","2":"130.6","3":"130.3","4":"9.3","5":"11.3","6":"138.1","7":"counterfeit"},{"1":"214.7","2":"130.2","3":"130.1","4":"10.7","5":"11.0","6":"139.4","7":"counterfeit"},{"1":"214.9","2":"129.9","3":"130.0","4":"9.9","5":"12.3","6":"139.4","7":"counterfeit"},{"1":"214.9","2":"130.3","3":"129.9","4":"11.9","5":"10.6","6":"139.8","7":"counterfeit"},{"1":"214.6","2":"129.9","3":"129.7","4":"11.9","5":"10.1","6":"139.0","7":"counterfeit"},{"1":"214.6","2":"129.7","3":"129.3","4":"10.4","5":"11.0","6":"139.3","7":"counterfeit"},{"1":"214.5","2":"130.1","3":"130.1","4":"12.1","5":"10.3","6":"139.4","7":"counterfeit"},{"1":"214.5","2":"130.3","3":"130.0","4":"11.0","5":"11.5","6":"139.5","7":"counterfeit"},{"1":"215.1","2":"130.0","3":"130.3","4":"11.6","5":"10.5","6":"139.7","7":"counterfeit"},{"1":"214.2","2":"129.7","3":"129.6","4":"10.3","5":"11.4","6":"139.5","7":"counterfeit"},{"1":"214.4","2":"130.1","3":"130.0","4":"11.3","5":"10.7","6":"139.2","7":"counterfeit"},{"1":"214.8","2":"130.4","3":"130.6","4":"12.5","5":"10.0","6":"139.3","7":"counterfeit"},{"1":"214.6","2":"130.6","3":"130.1","4":"8.1","5":"12.1","6":"137.9","7":"counterfeit"},{"1":"215.6","2":"130.1","3":"129.7","4":"7.4","5":"12.2","6":"138.4","7":"counterfeit"},{"1":"214.9","2":"130.5","3":"130.1","4":"9.9","5":"10.2","6":"138.1","7":"counterfeit"},{"1":"214.6","2":"130.1","3":"130.0","4":"11.5","5":"10.6","6":"139.5","7":"counterfeit"},{"1":"214.7","2":"130.1","3":"130.2","4":"11.6","5":"10.9","6":"139.1","7":"counterfeit"},{"1":"214.3","2":"130.3","3":"130.0","4":"11.4","5":"10.5","6":"139.8","7":"counterfeit"},{"1":"215.1","2":"130.3","3":"130.6","4":"10.3","5":"12.0","6":"139.7","7":"counterfeit"},{"1":"216.3","2":"130.7","3":"130.4","4":"10.0","5":"10.1","6":"138.8","7":"counterfeit"},{"1":"215.6","2":"130.4","3":"130.1","4":"9.6","5":"11.2","6":"138.6","7":"counterfeit"},{"1":"214.8","2":"129.9","3":"129.8","4":"9.6","5":"12.0","6":"139.6","7":"counterfeit"},{"1":"214.9","2":"130.0","3":"129.9","4":"11.4","5":"10.9","6":"139.7","7":"counterfeit"},{"1":"213.9","2":"130.7","3":"130.5","4":"8.7","5":"11.5","6":"137.8","7":"counterfeit"},{"1":"214.2","2":"130.6","3":"130.4","4":"12.0","5":"10.2","6":"139.6","7":"counterfeit"},{"1":"214.8","2":"130.5","3":"130.3","4":"11.8","5":"10.5","6":"139.4","7":"counterfeit"},{"1":"214.8","2":"129.6","3":"130.0","4":"10.4","5":"11.6","6":"139.2","7":"counterfeit"},{"1":"214.8","2":"130.1","3":"130.0","4":"11.4","5":"10.5","6":"139.6","7":"counterfeit"},{"1":"214.9","2":"130.4","3":"130.2","4":"11.9","5":"10.7","6":"139.0","7":"counterfeit"},{"1":"214.3","2":"130.1","3":"130.1","4":"11.6","5":"10.5","6":"139.7","7":"counterfeit"},{"1":"214.5","2":"130.4","3":"130.0","4":"9.9","5":"12.0","6":"139.6","7":"counterfeit"},{"1":"214.8","2":"130.5","3":"130.3","4":"10.2","5":"12.1","6":"139.1","7":"counterfeit"},{"1":"214.5","2":"130.2","3":"130.4","4":"8.2","5":"11.8","6":"137.8","7":"counterfeit"},{"1":"215.0","2":"130.4","3":"130.1","4":"11.4","5":"10.7","6":"139.1","7":"counterfeit"},{"1":"214.8","2":"130.6","3":"130.6","4":"8.0","5":"11.4","6":"138.7","7":"counterfeit"},{"1":"215.0","2":"130.5","3":"130.1","4":"11.0","5":"11.4","6":"139.3","7":"counterfeit"},{"1":"214.6","2":"130.5","3":"130.4","4":"10.1","5":"11.4","6":"139.3","7":"counterfeit"},{"1":"214.7","2":"130.2","3":"130.1","4":"10.7","5":"11.1","6":"139.5","7":"counterfeit"},{"1":"214.7","2":"130.4","3":"130.0","4":"11.5","5":"10.7","6":"139.4","7":"counterfeit"},{"1":"214.5","2":"130.4","3":"130.0","4":"8.0","5":"12.2","6":"138.5","7":"counterfeit"},{"1":"214.8","2":"130.0","3":"129.7","4":"11.4","5":"10.6","6":"139.2","7":"counterfeit"},{"1":"214.8","2":"129.9","3":"130.2","4":"9.6","5":"11.9","6":"139.4","7":"counterfeit"},{"1":"214.6","2":"130.3","3":"130.2","4":"12.7","5":"9.1","6":"139.2","7":"counterfeit"},{"1":"215.1","2":"130.2","3":"129.8","4":"10.2","5":"12.0","6":"139.4","7":"counterfeit"},{"1":"215.4","2":"130.5","3":"130.6","4":"8.8","5":"11.0","6":"138.6","7":"counterfeit"},{"1":"214.7","2":"130.3","3":"130.2","4":"10.8","5":"11.1","6":"139.2","7":"counterfeit"},{"1":"215.0","2":"130.5","3":"130.3","4":"9.6","5":"11.0","6":"138.5","7":"counterfeit"},{"1":"214.9","2":"130.3","3":"130.5","4":"11.6","5":"10.6","6":"139.8","7":"counterfeit"},{"1":"215.0","2":"130.4","3":"130.3","4":"9.9","5":"12.1","6":"139.6","7":"counterfeit"},{"1":"215.1","2":"130.3","3":"129.9","4":"10.3","5":"11.5","6":"139.7","7":"counterfeit"},{"1":"214.8","2":"130.3","3":"130.4","4":"10.6","5":"11.1","6":"140.0","7":"counterfeit"},{"1":"214.7","2":"130.7","3":"130.8","4":"11.2","5":"11.2","6":"139.4","7":"counterfeit"},{"1":"214.3","2":"129.9","3":"129.9","4":"10.2","5":"11.5","6":"139.6","7":"counterfeit"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Yep, 200 rows and 7 columns.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>Run a multivariate analysis of variance. What do you conclude? Is it worth running a discriminant analysis? (This is the same procedure as with basic MANOVAs before.)</li>
</ol>
<p>Solution</p>
<p>Small-m <code>manova</code> will do here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">with</span>(swiss, <span class="fu">cbind</span>(length, left, right, bottom, top, diag))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>swiss<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">manova</span>(response <span class="sc">~</span> status, <span class="at">data =</span> swiss)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(swiss<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Df  Pillai approx F num Df den Df    Pr(&gt;F)    
status      1 0.92415   391.92      6    193 &lt; 2.2e-16 ***
Residuals 198                                             
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">BoxM</span>(response, swiss<span class="sc">$</span>status))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Box's M Test 

Chi-Squared Value = 121.8991 , df = 21  and p-value: 3.2e-16 </code></pre>
</div>
</div>
<p>That is a very significant Box’s M test, which means that we shouldn’t trust the MANOVA at all. It is only the fact that the MANOVA is <em>so</em> significant that provides any evidence that the discriminant analysis is worth doing.</p>
<p>Extra: you might be wondering whether you had to go to all that trouble to make the response variable. Would this work?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>response2 <span class="ot">&lt;-</span> swiss <span class="sc">%&gt;%</span> <span class="fu">select</span>(length<span class="sc">:</span>diag)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>swiss<span class="fl">.1</span>a <span class="ot">&lt;-</span> <span class="fu">manova</span>(response2 <span class="sc">~</span> status, <span class="at">data =</span> swiss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in model.frame.default(formula = response2 ~ status, data = swiss, : invalid type (list) for variable 'response2'</code></pre>
</div>
</div>
<p>No, because <code>response2</code> needs to be an R <code>matrix</code>, and it isn’t:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(response2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
<p>The error message was a bit cryptic (nothing unusual there), but a data frame (to R) is a special kind of <code>list</code>, so that R didn’t like <code>response2</code> being a data frame, which it thought was a list.</p>
<p>This, however, works, since it turns the data frame into a matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>response4 <span class="ot">&lt;-</span> swiss <span class="sc">%&gt;%</span> <span class="fu">select</span>(length<span class="sc">:</span>diag) <span class="sc">%&gt;%</span> <span class="fu">as.matrix</span>()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>swiss<span class="fl">.2</span>a <span class="ot">&lt;-</span> <span class="fu">manova</span>(response4 <span class="sc">~</span> status, <span class="at">data =</span> swiss)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(swiss<span class="fl">.2</span>a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Df  Pillai approx F num Df den Df    Pr(&gt;F)    
status      1 0.92415   391.92      6    193 &lt; 2.2e-16 ***
Residuals 198                                             
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Anyway, the conclusion: the status of a bill (genuine or counterfeit) definitely has an influence on some or all of those other variables, since the P-value <span class="math inline">\(2.2 \times 10^{-16}\)</span> (or less) is really small. So it is apparently worth running a discriminant analysis to figure out where the differences lie.</p>
<p>As a piece of strategy, for creating the response matrix, you can always either use <code>cbind</code>, which creates a <code>matrix</code> directly, or you can use <code>select</code>, which is often easier but creates a data frame, and then turn <em>that</em> into a <code>matrix</code> using <code>as.matrix</code>. As long as you end up with a <code>matrix</code>, it’s all good.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li>Run a discriminant analysis. Display the output.</li>
</ol>
<p>Solution</p>
<p>Now we forget about all that <code>response</code> stuff. For a discriminant analysis, the grouping variable (or combination of the grouping variables) is the “response”, and the quantitative ones are “explanatory”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>swiss<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(status <span class="sc">~</span> length <span class="sc">+</span> left <span class="sc">+</span> right <span class="sc">+</span> bottom <span class="sc">+</span> top <span class="sc">+</span> diag, <span class="at">data =</span> swiss)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>swiss<span class="fl">.3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(status ~ length + left + right + bottom + top + diag, data = swiss)

Prior probabilities of groups:
counterfeit     genuine 
        0.5         0.5 

Group means:
             length    left   right bottom    top    diag
counterfeit 214.823 130.300 130.193 10.530 11.133 139.450
genuine     214.969 129.943 129.720  8.305 10.168 141.517

Coefficients of linear discriminants:
                LD1
length  0.005011113
left    0.832432523
right  -0.848993093
bottom -1.117335597
top    -1.178884468
diag    1.556520967</code></pre>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li>How many linear discriminants did you get? Is that making sense? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>I got one discriminant, which makes sense because there are two groups, and the smaller of 6 (variables, not counting the grouping one) and <span class="math inline">\(2-1\)</span> is 1.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li><a name="part:big">*</a> Using your output from the discriminant analysis, describe how each of the linear discriminants that you got is related to your original variables. (This can, maybe even should, be done crudely: “does each variable feature in each linear discriminant: yes or no?”.)</li>
</ol>
<p>Solution</p>
<p>This is the Coefficients of Linear Discriminants. Make a call about whether each of those coefficients is close to zero (small in size compared to the others), or definitely positive or definitely negative. These are judgement calls: either you can say that LD1 depends mainly on <code>diag</code> (treating the other coefficients as “small” or close to zero), or you can say that <code>LD1</code> depends on everything except <code>length</code>.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li>What values of your variable(s) would make <code>LD1</code> large and positive?</li>
</ol>
<p>Solution</p>
<p>Depending on your answer to the previous part: If you said that only <code>diag</code> was important, <code>diag</code> being large would make <code>LD1</code> large and positive. If you said that everything but <code>length</code> was important, then it’s a bit more complicated: <code>left</code> and <code>diag</code> large, <code>right</code>, <code>bottom</code> and <code>top</code> small (since their coefficients are negative).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li><a name="part:means">*</a> Find the means of each variable for each group (genuine and counterfeit bills). You can get this from your fitted linear discriminant object.</li>
</ol>
<p>Solution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>swiss<span class="fl">.3</span><span class="sc">$</span>means</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             length    left   right bottom    top    diag
counterfeit 214.823 130.300 130.193 10.530 11.133 139.450
genuine     214.969 129.943 129.720  8.305 10.168 141.517</code></pre>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="8" type="a">
<li>Plot your linear discriminant(s), however you like. Bear in mind that there is only one linear discriminant.</li>
</ol>
<p>Solution</p>
<p>With only one linear discriminant, we can plot <code>LD1</code> scores on the <span class="math inline">\(y\)</span>-axis and the grouping variable on the <span class="math inline">\(x\)</span>-axis. How you do that is up to you.</p>
<p>Before we start, though, we need the <code>LD1</code> scores. This means doing predictions. The discriminant scores are in there. We take the prediction output and make a data frame with all the things in the original data. My current preference (it changes) is to store the predictions, and then <code>cbind</code> them with the original data, thus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>swiss.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(swiss<span class="fl">.3</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(swiss, swiss.pred)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["length"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["left"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["right"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["bottom"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["top"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["diag"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["status"],"name":[7],"type":["chr"],"align":["left"]},{"label":["class"],"name":[8],"type":["fct"],"align":["left"]},{"label":["posterior.counterfeit"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.genuine"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"214.8","2":"131.0","3":"131.1","4":"9.0","5":"9.7","6":"141.0","7":"genuine","8":"genuine","9":"3.245560e-07","10":"0.9999997","11":"2.150948","_rn_":"1"},{"1":"214.6","2":"129.7","3":"129.7","4":"8.1","5":"9.5","6":"141.7","7":"genuine","8":"genuine","9":"1.450624e-14","10":"1.0000000","11":"4.587317","_rn_":"2"},{"1":"214.8","2":"129.7","3":"129.7","4":"8.7","5":"9.6","6":"142.2","7":"genuine","8":"genuine","9":"1.544496e-14","10":"1.0000000","11":"4.578290","_rn_":"3"},{"1":"214.8","2":"129.7","3":"129.6","4":"7.5","5":"10.4","6":"142.0","7":"genuine","8":"genuine","9":"4.699587e-15","10":"1.0000000","11":"4.749580","_rn_":"4"},{"1":"215.0","2":"129.6","3":"129.7","4":"10.4","5":"7.7","6":"141.8","7":"genuine","8":"genuine","9":"1.941700e-13","10":"1.0000000","11":"4.213851","_rn_":"5"},{"1":"215.7","2":"130.8","3":"130.5","4":"9.0","5":"10.1","6":"141.4","7":"genuine","8":"genuine","9":"1.017550e-08","10":"1.0000000","11":"2.649422","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I needed <code>head</code> because <code>cbind</code> makes an old-fashioned <code>data.frame</code> rather than a <code>tibble</code>, so if you display it, you get all of it.</p>
<p>This gives the LD1 scores, predicted groups, and posterior probabilities as well. That saves us having to pick out the other things later. The obvious thing is a boxplot. By examining <code>d</code> above (didn’t you?), you saw that the LD scores were in a column called <code>LD1</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> status, <span class="at">y =</span> LD1)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/antioch-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows that positive LD1 scores go (almost without exception) with genuine bills, and negative ones with counterfeit bills. It also shows that there are three outlier bills, two counterfeit ones with unusually high LD1 score, and one genuine one with unusually <em>low</em> LD1 score, at least for a genuine bill.</p>
<p>This goes to show that (the Box M test notwithstanding) the two types of bill really are different in a way that is worth investigating.</p>
<p>Or you could do faceted histograms of <code>LD1</code> by <code>status</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> LD1)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">10</span>) <span class="sc">+</span> <span class="fu">facet_grid</span>(status <span class="sc">~</span> .)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/swiss-money-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows much the same thing as <code>plot(swiss.3)</code> does (try it).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol type="i">
<li>What kind of score on <code>LD1</code> do genuine bills typically have? What kind of score do counterfeit bills typically have? What characteristics of a bill, therefore, would you look at to determine if a bill is genuine or counterfeit?</li>
</ol>
<p>Solution</p>
<p>The genuine bills almost all have a <em>positive</em> score on LD1, while the counterfeit ones all have a <em>negative</em> one. This means that the genuine bills (depending on your answer to (<a href="#part:big">here</a>)) have a large <code>diag</code>, or they have a large <code>left</code> and <code>diag</code>, and a small <code>right</code>, <code>bottom</code> and <code>top</code>. If you look at your table of means in (<a href="#part:means">here</a>), you’ll see that the genuine bills do indeed have a large <code>diag</code>, or, depending on your earlier answer, a small <code>right</code>, <code>bottom</code> and <code>top</code>, but not actually a small <code>left</code> (the <code>left</code> values are very close for the genuine and counterfeit coins).</p>
<p>Extra: as to that last point, this is easy enough to think about. A boxplot seems a nice way to display it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">y =</span> left, <span class="at">x =</span> status)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/gtabita-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There is a fair bit of overlap: the median is higher for the counterfeit bills, but the highest value actually belongs to a genuine one.</p>
<p>Compare that to <code>diag</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">y =</span> diag, <span class="at">x =</span> status)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/iggle-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here, there is an almost complete separation of the genuine and counterfeit bills, with just one low outlier amongst the genuine bills spoiling the pattern. I didn’t look at the predictions (beyond the discriminant scores), since this question (as set on an assignment a couple of years ago) was already too long, but there is no difficulty in doing so. Everything is in the data frame I called <code>d</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(d, <span class="fu">table</span>(<span class="at">obs =</span> status, <span class="at">pred =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             pred
obs           counterfeit genuine
  counterfeit         100       0
  genuine               1      99</code></pre>
</div>
</div>
<p>(this labels the rows and columns, which is not necessary but is nice.)</p>
<p>The <code>tidyverse</code> way is to make a data frame out of the actual and predicted statuses, and then <code>count</code> what’s in there:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(status, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["status"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"counterfeit","2":"counterfeit","3":"100"},{"1":"genuine","2":"counterfeit","3":"1"},{"1":"genuine","2":"genuine","3":"99"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This gives a “long” table, with frequencies for each of the combinations for which anything was observed.</p>
<p>Frequency tables are usually wide, and we can make this one so by pivot-wider-ing <code>pred</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(status, class) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> class, <span class="at">values_from =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["status"],"name":[1],"type":["chr"],"align":["left"]},{"label":["counterfeit"],"name":[2],"type":["int"],"align":["right"]},{"label":["genuine"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"counterfeit","2":"100","3":"NA"},{"1":"genuine","2":"1","3":"99"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>One of the genuine bills is incorrectly classified as a counterfeit one (evidently that low outlier on LD1), but every single one of the counterfeit bills is classified correctly. That missing value is actually a frequency that is zero, which you can fix up thus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(status, class) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> class, <span class="at">values_from =</span> n, <span class="at">values_fill =</span> <span class="dv">0</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["status"],"name":[1],"type":["chr"],"align":["left"]},{"label":["counterfeit"],"name":[2],"type":["int"],"align":["right"]},{"label":["genuine"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"counterfeit","2":"100","3":"0"},{"1":"genuine","2":"1","3":"99"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>which turns any missing values into the zeroes they should be in this kind of problem. It would be interesting to see what the posterior probabilities look like for that misclassified bill:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">filter</span>(status <span class="sc">!=</span> class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["length"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["left"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["right"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["bottom"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["top"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["diag"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["status"],"name":[7],"type":["chr"],"align":["left"]},{"label":["class"],"name":[8],"type":["fct"],"align":["left"]},{"label":["posterior.counterfeit"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.genuine"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"214.9","2":"130.2","3":"130.2","4":"8","5":"11.2","6":"139.6","7":"genuine","8":"counterfeit","9":"0.9825773","10":"0.01742267","11":"-0.5805239","_rn_":"70"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>On the basis of the six measured variables, this looks a lot more like a counterfeit bill than a genuine one. Are there any other bills where there is any doubt? One way to find out is to find the maximum of the two posterior probabilities. If this is small, there is some doubt about whether the bill is real or fake. 0.99 seems like a very stringent cutoff, but let’s try it and see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">max.post =</span> <span class="fu">pmax</span>(posterior.counterfeit, posterior.genuine)) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(max.post <span class="sc">&lt;</span> <span class="fl">0.99</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(length<span class="sc">:</span>diag))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["status"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["posterior.counterfeit"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["posterior.genuine"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["max.post"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"genuine","2":"counterfeit","3":"0.9825773","4":"0.01742267","5":"-0.5805239","6":"0.9825773","_rn_":"70"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The only one is the bill that was misclassified: it was actually genuine, but was classified as counterfeit. The posterior probabilities say that it was pretty unlikely to be genuine, but it was the only bill for which there was any noticeable doubt at all.</p>
<p>I had to use <code>pmax</code> rather than <code>max</code> there, because I wanted <code>max.post</code> to contain the larger of the two corresponding entries: that is, the first entry in <code>max.post</code> is the larger of the first entry of <code>counterfeit</code> and the first entry in <code>genuine</code>. If I used <code>max</code> instead, I’d get the largest of <em>all</em> the entries in <code>counterfeit</code> and <em>all</em> the entries in <code>genuine</code>, repeated 200 times. (Try it and see.) <code>pmax</code> stands for “parallel maximum”, that is, for each row separately. This also should work:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">max.post =</span> <span class="fu">max</span>(posterior.counterfeit, posterior.genuine)) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(max.post <span class="sc">&lt;</span> <span class="fl">0.99</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(length<span class="sc">:</span>diag))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["status"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["posterior.counterfeit"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["posterior.genuine"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["max.post"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"genuine","2":"counterfeit","3":"0.9825773","4":"0.01742267","5":"-0.5805239","6":"0.9825773"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Because we’re using <code>rowwise</code>, <code>max</code> is applied to the pairs of values of <code>posterior.counterfeit</code> and <code>posterior.genuine</code>, <em>taken one row at a time.</em></p>
<p><span class="math inline">\(\blacksquare\)</span></p>
</section>
<section id="urine-and-obesity-what-makes-a-difference-1" class="level2" data-number="35.9">
<h2 data-number="35.9" class="anchored" data-anchor-id="urine-and-obesity-what-makes-a-difference-1"><span class="header-section-number">35.9</span> Urine and obesity: what makes a difference?</h2>
<p>A study was made of the characteristics of urine of young men. The men were classified into four groups based on their degree of obesity. (The groups are labelled <code>a, b, c, d</code>.) Four variables were measured, <code>x</code> (which you can ignore), pigment creatinine, chloride and chlorine. The data are in <a href="http://ritsokiguess.site/datafiles/urine.csv">link</a> as a <code>.csv</code> file. There are 45 men altogether.</p>
<p>Yes, you may have seen this one before. What you found was something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/urine.csv"</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>urine <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 45 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): obesity
dbl (4): x, creatinine, chloride, chlorine

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">with</span>(urine, <span class="fu">cbind</span>(creatinine, chlorine, chloride))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>urine<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">manova</span>(response <span class="sc">~</span> obesity, <span class="at">data =</span> urine)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(urine<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Df  Pillai approx F num Df den Df  Pr(&gt;F)  
obesity    3 0.43144   2.2956      9    123 0.02034 *
Residuals 41                                         
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">BoxM</span>(response, urine<span class="sc">$</span>obesity))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Box's M Test 

Chi-Squared Value = 30.8322 , df = 18  and p-value: 0.0301 </code></pre>
</div>
</div>
<p>Our aim is to understand why this result was significant. (Remember that the P-value on Box’s M test is not small enough to be worried about.)</p>
<ol type="a">
<li>Read in the data again (copy the code from above) and obtain a discriminant analysis.</li>
</ol>
<p>Solution</p>
<p>As above, plus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>urine<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(obesity <span class="sc">~</span> creatinine <span class="sc">+</span> chlorine <span class="sc">+</span> chloride, <span class="at">data =</span> urine)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>urine<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(obesity ~ creatinine + chlorine + chloride, data = urine)

Prior probabilities of groups:
        a         b         c         d 
0.2666667 0.3111111 0.2444444 0.1777778 

Group means:
  creatinine chlorine chloride
a   15.89167 5.275000 6.012500
b   17.82143 7.450000 5.214286
c   16.34545 8.272727 5.372727
d   11.91250 9.675000 3.981250

Coefficients of linear discriminants:
                   LD1        LD2         LD3
creatinine  0.24429462 -0.1700525 -0.02623962
chlorine   -0.02167823 -0.1353051  0.11524045
chloride    0.23805588  0.3590364  0.30564592

Proportion of trace:
   LD1    LD2    LD3 
0.7476 0.2430 0.0093 </code></pre>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>How many linear discriminants were you expecting? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>There are 3 variables and 4 groups, so the smaller of 3 and <span class="math inline">\(4-1=3\)</span>: that is, 3.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li>Why do you think we should pay attention to the first two linear discriminants but not the third? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>The first two “proportion of trace” values are a lot bigger than the third (or, the third one is close to 0).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li>Plot the first two linear discriminant scores (against each other), with each obesity group being a different colour.</li>
</ol>
<p>Solution</p>
<p>First obtain the predictions, and then make a data frame out of the original data and the predictions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>urine.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(urine<span class="fl">.1</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(urine, urine.pred)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["x"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["creatinine"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["chloride"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["chlorine"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.a"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.b"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.c"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.d"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["x.LD3"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"24","3":"17.6","4":"5.15","5":"7.5","6":"b","7":"0.2327008","8":"0.4124974","9":"0.3022445","10":"0.052557333","11":"0.3926519","12":"-0.3290621","13":"-0.0704284","_rn_":"1"},{"1":"a","2":"32","3":"13.4","4":"5.75","5":"7.1","6":"a","7":"0.3599095","8":"0.2102510","9":"0.2633959","10":"0.166443708","11":"-0.4818807","12":"0.6547023","13":"0.1770694","_rn_":"2"},{"1":"a","2":"17","3":"20.3","4":"4.35","5":"2.3","6":"b","7":"0.2271118","8":"0.4993603","9":"0.2519562","10":"0.021571722","11":"0.9745295","12":"-0.3718462","13":"-0.9850425","_rn_":"3"},{"1":"a","2":"30","3":"22.3","4":"7.55","5":"4.0","6":"b","7":"0.2935374","8":"0.4823766","9":"0.2211991","10":"0.002886957","11":"2.1880446","12":"0.2069465","13":"0.1364540","_rn_":"4"},{"1":"a","2":"30","3":"20.5","4":"8.50","5":"2.0","6":"a","7":"0.4774623","8":"0.3258104","9":"0.1933571","10":"0.003370286","11":"2.0178238","12":"1.1247359","13":"0.2435680","_rn_":"5"},{"1":"a","2":"27","3":"18.5","4":"10.25","5":"2.0","6":"a","7":"0.6678748","8":"0.1810762","9":"0.1482500","10":"0.002799004","11":"1.9458323","12":"2.0931546","13":"0.8309276","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><code>urine</code> produced the first five columns and <code>urine.pred</code> produced the rest.</p>
<p>To go a more tidyverse way, we can combine the original data frame and the predictions using <code>bind_cols</code>, but we have to be more careful that the things we are gluing together are both data frames:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(urine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "spec_tbl_df" "tbl_df"      "tbl"         "data.frame" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(urine.pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
<p><code>urine</code> is a <code>tibble</code> all right, but <code>urine.pred</code> is a <code>list</code>. What does it look like?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(urine.pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ class    : Factor w/ 4 levels "a","b","c","d": 2 1 2 2 1 1 3 3 1 1 ...
 $ posterior: num [1:45, 1:4] 0.233 0.36 0.227 0.294 0.477 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:45] "1" "2" "3" "4" ...
  .. ..$ : chr [1:4] "a" "b" "c" "d"
 $ x        : num [1:45, 1:3] 0.393 -0.482 0.975 2.188 2.018 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:45] "1" "2" "3" "4" ...
  .. ..$ : chr [1:3] "LD1" "LD2" "LD3"</code></pre>
</div>
</div>
<p>A data frame is a list for which all the items are the same length, but some of the things in here are matrices. You can tell because they have a number of rows, 45, <em>and</em> a number of columns, 3 or 4. They <em>do</em> have the right number of rows, though, so something like <code>as.data.frame</code> (a base R function) will smoosh them all into one data frame, grabbing the columns from the matrices:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">as.data.frame</span>(urine.pred))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["class"],"name":[1],"type":["fct"],"align":["left"]},{"label":["posterior.a"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["posterior.b"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["posterior.c"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["posterior.d"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["x.LD3"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"b","2":"0.2327008","3":"0.4124974","4":"0.3022445","5":"0.052557333","6":"0.3926519","7":"-0.3290621","8":"-0.0704284","_rn_":"1"},{"1":"a","2":"0.3599095","3":"0.2102510","4":"0.2633959","5":"0.166443708","6":"-0.4818807","7":"0.6547023","8":"0.1770694","_rn_":"2"},{"1":"b","2":"0.2271118","3":"0.4993603","4":"0.2519562","5":"0.021571722","6":"0.9745295","7":"-0.3718462","8":"-0.9850425","_rn_":"3"},{"1":"b","2":"0.2935374","3":"0.4823766","4":"0.2211991","5":"0.002886957","6":"2.1880446","7":"0.2069465","8":"0.1364540","_rn_":"4"},{"1":"a","2":"0.4774623","3":"0.3258104","4":"0.1933571","5":"0.003370286","6":"2.0178238","7":"1.1247359","8":"0.2435680","_rn_":"5"},{"1":"a","2":"0.6678748","3":"0.1810762","4":"0.1482500","5":"0.002799004","6":"1.9458323","7":"2.0931546","8":"0.8309276","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>You see that the columns that came from matrices have gained two-part names, the first part from the name of the matrix, the second part from the column name within that matrix. Then we can do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(urine, <span class="fu">as.data.frame</span>(urine.pred))</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>dd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["x"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["creatinine"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["chloride"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["chlorine"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.a"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.b"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.c"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.d"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["x.LD3"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"24","3":"17.6","4":"5.15","5":"7.5","6":"b","7":"0.23270076","8":"0.41249737","9":"0.30224453","10":"0.052557333","11":"0.392651931","12":"-0.329062059","13":"-0.07042840","_rn_":"1"},{"1":"a","2":"32","3":"13.4","4":"5.75","5":"7.1","6":"a","7":"0.35990945","8":"0.21025096","9":"0.26339588","10":"0.166443708","11":"-0.481880653","12":"0.654702328","13":"0.17706938","_rn_":"2"},{"1":"a","2":"17","3":"20.3","4":"4.35","5":"2.3","6":"b","7":"0.22711179","8":"0.49936034","9":"0.25195615","10":"0.021571722","11":"0.974529505","12":"-0.371846202","13":"-0.98504246","_rn_":"3"},{"1":"a","2":"30","3":"22.3","4":"7.55","5":"4.0","6":"b","7":"0.29353736","8":"0.48237655","9":"0.22119913","10":"0.002886957","11":"2.188044556","12":"0.206946535","13":"0.13645401","_rn_":"4"},{"1":"a","2":"30","3":"20.5","4":"8.50","5":"2.0","6":"a","7":"0.47746226","8":"0.32581040","9":"0.19335705","10":"0.003370286","11":"2.017823785","12":"1.124735887","13":"0.24356805","_rn_":"5"},{"1":"a","2":"27","3":"18.5","4":"10.25","5":"2.0","6":"a","7":"0.66787481","8":"0.18107616","9":"0.14825003","10":"0.002799004","11":"1.945832330","12":"2.093154578","13":"0.83092765","_rn_":"6"},{"1":"a","2":"25","3":"12.1","4":"5.95","5":"16.8","6":"c","7":"0.16673159","8":"0.20848048","9":"0.31392324","10":"0.310864688","11":"-0.962131324","12":"-0.364881989","13":"1.39014245","_rn_":"7"},{"1":"a","2":"30","3":"12.0","4":"6.30","5":"14.5","6":"c","7":"0.22995630","8":"0.19658093","9":"0.30315753","10":"0.270305236","11":"-0.853381298","12":"0.088987819","13":"1.23468944","_rn_":"8"},{"1":"a","2":"28","3":"10.1","4":"5.45","5":"0.9","6":"a","7":"0.48071331","8":"0.07522292","9":"0.13728927","10":"0.306774499","11":"-1.225064627","12":"1.947056513","13":"-0.54252445","_rn_":"9"},{"1":"a","2":"24","3":"14.7","4":"3.75","5":"2.0","6":"a","7":"0.32278901","8":"0.24686599","9":"0.23917491","10":"0.191170090","11":"-0.529850421","12":"0.405617493","13":"-1.05606027","_rn_":"10"},{"1":"a","2":"26","3":"14.8","4":"5.10","5":"0.4","6":"a","7":"0.47493113","8":"0.21109018","9":"0.21412138","10":"0.099857306","11":"-0.149360356","12":"1.089799600","13":"-0.83044696","_rn_":"11"},{"1":"a","2":"27","3":"14.4","4":"4.05","5":"3.8","6":"a","7":"0.30332588","8":"0.24485997","9":"0.25017449","10":"0.201639661","11":"-0.570742860","12":"0.320794912","13":"-0.74906179","_rn_":"12"},{"1":"b","2":"31","3":"18.1","4":"9.00","5":"14.5","6":"b","7":"0.26962432","8":"0.39243982","9":"0.32589610","10":"0.012039757","11":"1.279566748","12":"0.021065850","13":"1.89987174","_rn_":"13"},{"1":"b","2":"23","3":"19.7","4":"5.30","5":"12.5","6":"b","7":"0.11656620","8":"0.54447604","9":"0.31399984","10":"0.024957918","11":"0.832987858","12":"-1.308842540","13":"0.49651754","_rn_":"14"},{"1":"b","2":"32","3":"16.9","4":"9.85","5":"8.0","6":"a","7":"0.53714410","8":"0.22839471","9":"0.22539836","10":"0.009062826","11":"1.329669202","12":"1.409793186","13":"1.44209538","_rn_":"15"},{"1":"b","2":"20","3":"23.7","4":"3.60","5":"4.9","6":"b","7":"0.09050512","8":"0.68118246","9":"0.22088886","10":"0.007423565","11":"1.570225903","12":"-1.571095355","13":"-1.00386643","_rn_":"16"},{"1":"b","2":"18","3":"19.2","4":"4.05","5":"0.2","6":"b","7":"0.28896778","8":"0.43188534","9":"0.24479893","10":"0.034347956","11":"0.679912946","12":"-0.008358582","13":"-1.28987760","_rn_":"17"},{"1":"b","2":"23","3":"18.0","4":"4.40","5":"3.6","6":"b","7":"0.26534298","8":"0.40813314","9":"0.27351311","10":"0.053010776","11":"0.396372973","12":"-0.138670316","13":"-0.75959645","_rn_":"18"},{"1":"b","2":"31","3":"14.8","4":"7.15","5":"12.0","6":"c","7":"0.31164579","8":"0.28651335","9":"0.32534496","10":"0.076495892","11":"0.087186710","12":"0.256284607","13":"1.13291641","_rn_":"19"},{"1":"b","2":"28","3":"15.6","4":"7.25","5":"5.2","6":"a","7":"0.48140357","8":"0.23679394","9":"0.24218184","10":"0.039620655","11":"0.453839964","12":"1.076221190","13":"0.35885423","_rn_":"20"},{"1":"b","2":"21","3":"16.2","4":"5.30","5":"10.2","6":"b","7":"0.21609196","8":"0.36949033","9":"0.32461720","10":"0.089800510","11":"0.027816621","12":"-0.402456976","13":"0.32330318","_rn_":"21"},{"1":"b","2":"20","3":"14.1","4":"3.10","5":"8.5","6":"d","7":"0.15007724","8":"0.25300091","9":"0.25897551","10":"0.337946346","11":"-0.972072015","12":"-0.605208067","13":"-0.48992341","_rn_":"22"},{"1":"b","2":"15","3":"17.5","4":"2.40","5":"9.6","6":"b","7":"0.09490068","8":"0.45583458","9":"0.29976149","10":"0.149503240","11":"-0.331955476","12":"-1.583547692","13":"-0.66632577","_rn_":"23"},{"1":"b","2":"26","3":"14.1","4":"4.25","5":"6.9","6":"c","7":"0.24794022","8":"0.25169354","9":"0.27058501","10":"0.229781222","11":"-0.663622587","12":"0.024172011","13":"-0.32281533","_rn_":"24"},{"1":"b","2":"24","3":"19.1","4":"5.80","5":"4.7","6":"b","7":"0.28759031","8":"0.42532075","9":"0.26615665","10":"0.020932278","11":"0.974529228","12":"0.028087239","13":"-0.23379125","_rn_":"25"},{"1":"b","2":"16","3":"22.5","4":"1.55","5":"3.5","6":"b","7":"0.07529957","8":"0.67091286","9":"0.22890154","10":"0.024886035","11":"0.819407336","12":"-1.913629777","13":"-1.76028965","_rn_":"26"},{"1":"c","2":"18","3":"17.0","4":"4.55","5":"1.9","6":"a","7":"0.34191896","8":"0.33620475","9":"0.25536055","10":"0.066515751","11":"0.224639728","12":"0.315256378","13":"-0.88341871","_rn_":"27"},{"1":"c","2":"10","3":"12.5","4":"2.65","5":"0.7","6":"d","7":"0.24861379","8":"0.14046574","9":"0.16877620","10":"0.442144271","11":"-1.300978348","12":"0.560689633","13":"-1.48435620","_rn_":"28"},{"1":"c","2":"33","3":"21.5","4":"6.50","5":"8.3","6":"b","7":"0.18031258","8":"0.54705895","9":"0.26567267","10":"0.006955802","11":"1.649433796","12":"-0.615811779","13":"0.33205143","_rn_":"29"},{"1":"c","2":"25","3":"22.2","4":"4.85","5":"9.3","6":"b","7":"0.09989603","8":"0.62929532","9":"0.26104056","10":"0.009768085","11":"1.405969603","12":"-1.462563721","13":"-0.07539162","_rn_":"30"},{"1":"c","2":"35","3":"13.0","4":"8.75","5":"13.0","6":"a","7":"0.43606304","8":"0.19417204","9":"0.29539583","10":"0.074369079","11":"0.006667566","12":"1.001532201","13":"1.78442165","_rn_":"31"},{"1":"c","2":"33","3":"13.0","4":"5.20","5":"18.3","6":"c","7":"0.11255655","8":"0.24985983","9":"0.32692868","10":"0.310654937","11":"-0.953325421","12":"-0.990164243","13":"1.31015303","_rn_":"32"},{"1":"c","2":"31","3":"10.9","4":"4.75","5":"10.5","6":"d","7":"0.19035541","8":"0.12731624","9":"0.20778422","10":"0.474544125","11":"-1.404379064","12":"0.260759706","13":"0.32884004","_rn_":"33"},{"1":"c","2":"34","3":"12.0","4":"5.85","5":"14.5","6":"d","7":"0.20070179","8":"0.19496615","9":"0.29462853","10":"0.309703531","11":"-0.960506442","12":"-0.072578560","13":"1.09714878","_rn_":"34"},{"1":"c","2":"16","3":"22.8","4":"2.85","5":"3.3","6":"b","7":"0.10211738","8":"0.65546622","9":"0.22856746","10":"0.013848944","11":"1.206504008","12":"-1.470837183","13":"-1.39386994","_rn_":"35"},{"1":"c","2":"31","3":"16.5","4":"6.55","5":"6.3","6":"a","7":"0.37479912","8":"0.30843623","9":"0.27454163","10":"0.042223026","11":"0.483219954","12":"0.523012811","13":"0.24805093","_rn_":"36"},{"1":"c","2":"28","3":"18.4","4":"6.60","5":"4.9","6":"b","7":"0.35368765","8":"0.36722622","9":"0.25947001","10":"0.019616126","11":"0.989632049","12":"0.407292078","13":"0.05214131","_rn_":"37"},{"1":"d","2":"32","3":"12.5","4":"2.90","5":"22.5","6":"d","7":"0.02781144","8":"0.17134836","9":"0.21636088","10":"0.584479321","11":"-1.714049817","12":"-2.299203288","13":"1.10429712","_rn_":"38"},{"1":"d","2":"25","3":"8.7","4":"3.00","5":"19.5","6":"d","7":"0.02224124","8":"0.04226519","9":"0.08459472","10":"0.850898850","11":"-2.553529091","12":"-1.211184739","13":"0.88885091","_rn_":"39"},{"1":"d","2":"28","3":"9.4","4":"3.40","5":"1.3","6":"d","7":"0.22214029","8":"0.05608419","9":"0.10167331","10":"0.620102200","11":"-1.892756700","12":"1.275946593","13":"-1.10463467","_rn_":"40"},{"1":"d","2":"27","3":"15.0","4":"5.40","5":"20.0","6":"c","7":"0.09359473","8":"0.36408667","9":"0.37818564","10":"0.164132958","11":"-0.453977999","12":"-1.488480696","13":"1.51471174","_rn_":"41"},{"1":"d","2":"23","3":"12.9","4":"4.45","5":"1.0","6":"a","7":"0.41436722","8":"0.15815483","9":"0.19642818","10":"0.231049765","11":"-0.781263392","12":"1.098342607","13":"-0.91011726","_rn_":"42"},{"1":"d","2":"25","3":"12.1","4":"4.30","5":"5.0","6":"d","7":"0.28785900","8":"0.15185704","9":"0.20790516","10":"0.352378810","11":"-1.099120394","12":"0.639308592","13":"-0.47401065","_rn_":"43"},{"1":"d","2":"26","3":"13.2","4":"5.00","5":"3.0","6":"a","7":"0.40940252","8":"0.17855408","9":"0.21997256","10":"0.192070840","11":"-0.620400736","12":"0.974186598","13":"-0.51940299","_rn_":"44"},{"1":"d","2":"34","3":"11.5","4":"3.40","5":"5.1","6":"d","7":"0.20112401","8":"0.12194106","9":"0.17245488","10":"0.504480052","11":"-1.462115277","12":"0.404676820","13":"-0.72182416","_rn_":"45"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>If you want to avoid base R altogether, though, and go straight to <code>bind_cols</code>, you have to be more careful about the types of things. <code>bind_cols</code> <em>only</em> works with vectors and data frames, not matrices, so that is what it is up to you to make sure you have. That means pulling out the pieces, turning them from matrices into data frames, and then gluing everything back together:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>post <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(urine.pred<span class="sc">$</span>posterior)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>ld <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(urine.pred<span class="sc">$</span>x)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>ddd <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(urine, <span class="at">class =</span> urine.pred<span class="sc">$</span>class, ld, post)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>ddd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["x"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["creatinine"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["chloride"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["chlorine"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["LD1"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["LD2"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["LD3"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["a"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["b"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["c"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["d"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"24","3":"17.6","4":"5.15","5":"7.5","6":"b","7":"0.392651931","8":"-0.329062059","9":"-0.07042840","10":"0.23270076","11":"0.41249737","12":"0.30224453","13":"0.052557333"},{"1":"a","2":"32","3":"13.4","4":"5.75","5":"7.1","6":"a","7":"-0.481880653","8":"0.654702328","9":"0.17706938","10":"0.35990945","11":"0.21025096","12":"0.26339588","13":"0.166443708"},{"1":"a","2":"17","3":"20.3","4":"4.35","5":"2.3","6":"b","7":"0.974529505","8":"-0.371846202","9":"-0.98504246","10":"0.22711179","11":"0.49936034","12":"0.25195615","13":"0.021571722"},{"1":"a","2":"30","3":"22.3","4":"7.55","5":"4.0","6":"b","7":"2.188044556","8":"0.206946535","9":"0.13645401","10":"0.29353736","11":"0.48237655","12":"0.22119913","13":"0.002886957"},{"1":"a","2":"30","3":"20.5","4":"8.50","5":"2.0","6":"a","7":"2.017823785","8":"1.124735887","9":"0.24356805","10":"0.47746226","11":"0.32581040","12":"0.19335705","13":"0.003370286"},{"1":"a","2":"27","3":"18.5","4":"10.25","5":"2.0","6":"a","7":"1.945832330","8":"2.093154578","9":"0.83092765","10":"0.66787481","11":"0.18107616","12":"0.14825003","13":"0.002799004"},{"1":"a","2":"25","3":"12.1","4":"5.95","5":"16.8","6":"c","7":"-0.962131324","8":"-0.364881989","9":"1.39014245","10":"0.16673159","11":"0.20848048","12":"0.31392324","13":"0.310864688"},{"1":"a","2":"30","3":"12.0","4":"6.30","5":"14.5","6":"c","7":"-0.853381298","8":"0.088987819","9":"1.23468944","10":"0.22995630","11":"0.19658093","12":"0.30315753","13":"0.270305236"},{"1":"a","2":"28","3":"10.1","4":"5.45","5":"0.9","6":"a","7":"-1.225064627","8":"1.947056513","9":"-0.54252445","10":"0.48071331","11":"0.07522292","12":"0.13728927","13":"0.306774499"},{"1":"a","2":"24","3":"14.7","4":"3.75","5":"2.0","6":"a","7":"-0.529850421","8":"0.405617493","9":"-1.05606027","10":"0.32278901","11":"0.24686599","12":"0.23917491","13":"0.191170090"},{"1":"a","2":"26","3":"14.8","4":"5.10","5":"0.4","6":"a","7":"-0.149360356","8":"1.089799600","9":"-0.83044696","10":"0.47493113","11":"0.21109018","12":"0.21412138","13":"0.099857306"},{"1":"a","2":"27","3":"14.4","4":"4.05","5":"3.8","6":"a","7":"-0.570742860","8":"0.320794912","9":"-0.74906179","10":"0.30332588","11":"0.24485997","12":"0.25017449","13":"0.201639661"},{"1":"b","2":"31","3":"18.1","4":"9.00","5":"14.5","6":"b","7":"1.279566748","8":"0.021065850","9":"1.89987174","10":"0.26962432","11":"0.39243982","12":"0.32589610","13":"0.012039757"},{"1":"b","2":"23","3":"19.7","4":"5.30","5":"12.5","6":"b","7":"0.832987858","8":"-1.308842540","9":"0.49651754","10":"0.11656620","11":"0.54447604","12":"0.31399984","13":"0.024957918"},{"1":"b","2":"32","3":"16.9","4":"9.85","5":"8.0","6":"a","7":"1.329669202","8":"1.409793186","9":"1.44209538","10":"0.53714410","11":"0.22839471","12":"0.22539836","13":"0.009062826"},{"1":"b","2":"20","3":"23.7","4":"3.60","5":"4.9","6":"b","7":"1.570225903","8":"-1.571095355","9":"-1.00386643","10":"0.09050512","11":"0.68118246","12":"0.22088886","13":"0.007423565"},{"1":"b","2":"18","3":"19.2","4":"4.05","5":"0.2","6":"b","7":"0.679912946","8":"-0.008358582","9":"-1.28987760","10":"0.28896778","11":"0.43188534","12":"0.24479893","13":"0.034347956"},{"1":"b","2":"23","3":"18.0","4":"4.40","5":"3.6","6":"b","7":"0.396372973","8":"-0.138670316","9":"-0.75959645","10":"0.26534298","11":"0.40813314","12":"0.27351311","13":"0.053010776"},{"1":"b","2":"31","3":"14.8","4":"7.15","5":"12.0","6":"c","7":"0.087186710","8":"0.256284607","9":"1.13291641","10":"0.31164579","11":"0.28651335","12":"0.32534496","13":"0.076495892"},{"1":"b","2":"28","3":"15.6","4":"7.25","5":"5.2","6":"a","7":"0.453839964","8":"1.076221190","9":"0.35885423","10":"0.48140357","11":"0.23679394","12":"0.24218184","13":"0.039620655"},{"1":"b","2":"21","3":"16.2","4":"5.30","5":"10.2","6":"b","7":"0.027816621","8":"-0.402456976","9":"0.32330318","10":"0.21609196","11":"0.36949033","12":"0.32461720","13":"0.089800510"},{"1":"b","2":"20","3":"14.1","4":"3.10","5":"8.5","6":"d","7":"-0.972072015","8":"-0.605208067","9":"-0.48992341","10":"0.15007724","11":"0.25300091","12":"0.25897551","13":"0.337946346"},{"1":"b","2":"15","3":"17.5","4":"2.40","5":"9.6","6":"b","7":"-0.331955476","8":"-1.583547692","9":"-0.66632577","10":"0.09490068","11":"0.45583458","12":"0.29976149","13":"0.149503240"},{"1":"b","2":"26","3":"14.1","4":"4.25","5":"6.9","6":"c","7":"-0.663622587","8":"0.024172011","9":"-0.32281533","10":"0.24794022","11":"0.25169354","12":"0.27058501","13":"0.229781222"},{"1":"b","2":"24","3":"19.1","4":"5.80","5":"4.7","6":"b","7":"0.974529228","8":"0.028087239","9":"-0.23379125","10":"0.28759031","11":"0.42532075","12":"0.26615665","13":"0.020932278"},{"1":"b","2":"16","3":"22.5","4":"1.55","5":"3.5","6":"b","7":"0.819407336","8":"-1.913629777","9":"-1.76028965","10":"0.07529957","11":"0.67091286","12":"0.22890154","13":"0.024886035"},{"1":"c","2":"18","3":"17.0","4":"4.55","5":"1.9","6":"a","7":"0.224639728","8":"0.315256378","9":"-0.88341871","10":"0.34191896","11":"0.33620475","12":"0.25536055","13":"0.066515751"},{"1":"c","2":"10","3":"12.5","4":"2.65","5":"0.7","6":"d","7":"-1.300978348","8":"0.560689633","9":"-1.48435620","10":"0.24861379","11":"0.14046574","12":"0.16877620","13":"0.442144271"},{"1":"c","2":"33","3":"21.5","4":"6.50","5":"8.3","6":"b","7":"1.649433796","8":"-0.615811779","9":"0.33205143","10":"0.18031258","11":"0.54705895","12":"0.26567267","13":"0.006955802"},{"1":"c","2":"25","3":"22.2","4":"4.85","5":"9.3","6":"b","7":"1.405969603","8":"-1.462563721","9":"-0.07539162","10":"0.09989603","11":"0.62929532","12":"0.26104056","13":"0.009768085"},{"1":"c","2":"35","3":"13.0","4":"8.75","5":"13.0","6":"a","7":"0.006667566","8":"1.001532201","9":"1.78442165","10":"0.43606304","11":"0.19417204","12":"0.29539583","13":"0.074369079"},{"1":"c","2":"33","3":"13.0","4":"5.20","5":"18.3","6":"c","7":"-0.953325421","8":"-0.990164243","9":"1.31015303","10":"0.11255655","11":"0.24985983","12":"0.32692868","13":"0.310654937"},{"1":"c","2":"31","3":"10.9","4":"4.75","5":"10.5","6":"d","7":"-1.404379064","8":"0.260759706","9":"0.32884004","10":"0.19035541","11":"0.12731624","12":"0.20778422","13":"0.474544125"},{"1":"c","2":"34","3":"12.0","4":"5.85","5":"14.5","6":"d","7":"-0.960506442","8":"-0.072578560","9":"1.09714878","10":"0.20070179","11":"0.19496615","12":"0.29462853","13":"0.309703531"},{"1":"c","2":"16","3":"22.8","4":"2.85","5":"3.3","6":"b","7":"1.206504008","8":"-1.470837183","9":"-1.39386994","10":"0.10211738","11":"0.65546622","12":"0.22856746","13":"0.013848944"},{"1":"c","2":"31","3":"16.5","4":"6.55","5":"6.3","6":"a","7":"0.483219954","8":"0.523012811","9":"0.24805093","10":"0.37479912","11":"0.30843623","12":"0.27454163","13":"0.042223026"},{"1":"c","2":"28","3":"18.4","4":"6.60","5":"4.9","6":"b","7":"0.989632049","8":"0.407292078","9":"0.05214131","10":"0.35368765","11":"0.36722622","12":"0.25947001","13":"0.019616126"},{"1":"d","2":"32","3":"12.5","4":"2.90","5":"22.5","6":"d","7":"-1.714049817","8":"-2.299203288","9":"1.10429712","10":"0.02781144","11":"0.17134836","12":"0.21636088","13":"0.584479321"},{"1":"d","2":"25","3":"8.7","4":"3.00","5":"19.5","6":"d","7":"-2.553529091","8":"-1.211184739","9":"0.88885091","10":"0.02224124","11":"0.04226519","12":"0.08459472","13":"0.850898850"},{"1":"d","2":"28","3":"9.4","4":"3.40","5":"1.3","6":"d","7":"-1.892756700","8":"1.275946593","9":"-1.10463467","10":"0.22214029","11":"0.05608419","12":"0.10167331","13":"0.620102200"},{"1":"d","2":"27","3":"15.0","4":"5.40","5":"20.0","6":"c","7":"-0.453977999","8":"-1.488480696","9":"1.51471174","10":"0.09359473","11":"0.36408667","12":"0.37818564","13":"0.164132958"},{"1":"d","2":"23","3":"12.9","4":"4.45","5":"1.0","6":"a","7":"-0.781263392","8":"1.098342607","9":"-0.91011726","10":"0.41436722","11":"0.15815483","12":"0.19642818","13":"0.231049765"},{"1":"d","2":"25","3":"12.1","4":"4.30","5":"5.0","6":"d","7":"-1.099120394","8":"0.639308592","9":"-0.47401065","10":"0.28785900","11":"0.15185704","12":"0.20790516","13":"0.352378810"},{"1":"d","2":"26","3":"13.2","4":"5.00","5":"3.0","6":"a","7":"-0.620400736","8":"0.974186598","9":"-0.51940299","10":"0.40940252","11":"0.17855408","12":"0.21997256","13":"0.192070840"},{"1":"d","2":"34","3":"11.5","4":"3.40","5":"5.1","6":"d","7":"-1.462115277","8":"0.404676820","9":"-0.72182416","10":"0.20112401","11":"0.12194106","12":"0.17245488","13":"0.504480052"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>That’s a lot of work, but you might say that it’s worth it because you are now absolutely sure what kind of thing everything is. I also had to be slightly careful with the vector of <code>class</code> values; in <code>ddd</code> it has to have a name, so I have to make sure I give it one.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> Any of these ways (in general) is good. The last way is a more careful approach, since you are making sure things are of the right type rather than relying on R to convert them for you, but I don’t mind which way you go. Now make the plot, making sure that you are using columns with the right names. I’m using my first data frame, with the two-part names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">colour =</span> obesity)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/urine2-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li><a name="part:plot">*</a> Looking at your plot, discuss how (if at all) the discriminants separate the obesity groups. (Where does each obesity group fall on the plot?)</li>
</ol>
<p>Solution</p>
<p>My immediate reaction was “they don’t much”. If you look a bit more closely, the <code>b</code> group, in green, is on the right (high <code>LD1</code>) and the <code>d</code> group (purple) is on the left (low <code>LD1</code>). The <code>a</code> group, red, is mostly at the top (high <code>LD2</code>) but the <code>c</code> group, blue, really is all over the place.</p>
<p>The way to tackle interpreting a plot like this is to look for each group individually and see if that group is only or mainly found on a certain part of the plot.</p>
<p>This can be rationalized by looking at the “coefficients of linear discriminants” on the output. <code>LD1</code> is low if creatinine and chloride are low (it has nothing much to do with <code>chlorine</code> since that coefficient is near zero). Group <code>d</code> is lowest on both creatinine and chloride, so that will be lowest on <code>LD1</code>. <code>LD2</code> is high if <code>chloride</code> is high, or <code>creatinine</code> and <code>chlorine</code> are low. Out of the groups <code>a, b, c</code>, <code>a</code> has the highest mean on chloride and lowest means on the other two variables, so this should be highest on <code>LD2</code> and (usually) is.</p>
<p>Looking at the means is only part of the story; if the individuals within a group are very variable, as they are here (especially group <code>c</code>), then that group will appear all over the plot. The table of means only says how the <em>average</em> individual within a group stacks up.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbiplot</span>(urine<span class="fl">.1</span>, <span class="at">groups =</span> urine<span class="sc">$</span>obesity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/urine2-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows (in a way that is perhaps easier to see) how the linear discriminants are related to the original variables, and thus how the groups differ in terms of the original variables.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Most of the B’s are high creatinine and high chloride (on the right); most of the D’s are low on both (on the left). LD2 has a bit of <code>chloride</code>, but not much of anything else. Extra: the way we used to do this was with “base graphics”, which involved plotting the <code>lda</code> output itself:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(urine<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/urine2-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>which is a plot of each discriminant score against each other one. You can plot just the first two, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(urine<span class="fl">.1</span>, <span class="at">dimen =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/urine2-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This is easier than using <code>ggplot</code>, but (i) less flexible and (ii) you have to figure out how it works rather than doing things the standard <code>ggplot</code> way. So I went with constructing a data frame from the predictions, and then <code>ggplot</code>ting that. It’s a matter of taste which way is better.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li><a name="part:table">*</a> Obtain a table showing observed and predicted obesity groups. Comment on the accuracy of the predictions.</li>
</ol>
<p>Solution</p>
<p>Make a table, one way or another:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">with</span>(d, <span class="fu">table</span>(obesity, class))</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>tab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       class
obesity a b c d
      a 7 3 2 0
      b 2 9 2 1
      c 3 4 1 3
      d 2 0 1 5</code></pre>
</div>
</div>
<p><code>class</code> is always the <em>predicted</em> group in these. You can also name things in <code>table</code>. Or, if you prefer (equally good), the <code>tidyverse</code> way of counting all the combinations of true <code>obesity</code> and predicted <code>class</code>, which can be done all in one go, or in two steps by saving the data frame first. I’m saving my results for later:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(obesity, class) <span class="ot">-&gt;</span> tab</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>tab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"a","2":"a","3":"7"},{"1":"a","2":"b","3":"3"},{"1":"a","2":"c","3":"2"},{"1":"b","2":"a","3":"2"},{"1":"b","2":"b","3":"9"},{"1":"b","2":"c","3":"2"},{"1":"b","2":"d","3":"1"},{"1":"c","2":"a","3":"3"},{"1":"c","2":"b","3":"4"},{"1":"c","2":"c","3":"1"},{"1":"c","2":"d","3":"3"},{"1":"d","2":"a","3":"2"},{"1":"d","2":"c","3":"1"},{"1":"d","2":"d","3":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>or if you prefer to make it look more like a table of frequencies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>class, <span class="at">values_from=</span>n, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">n=</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["a"],"name":[2],"type":["int"],"align":["right"]},{"label":["b"],"name":[3],"type":["int"],"align":["right"]},{"label":["c"],"name":[4],"type":["int"],"align":["right"]},{"label":["d"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"a","2":"7","3":"3","4":"2","5":"0"},{"1":"b","2":"2","3":"9","4":"2","5":"1"},{"1":"c","2":"3","3":"4","4":"1","5":"3"},{"1":"d","2":"2","3":"0","4":"1","5":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The thing on the end fills in zero frequencies as such (they would otherwise be <code>NA</code>, which they are not: we know they are zero). My immediate reaction to this is “it’s terrible”! But at least some of the men have their obesity group correctly predicted: 7 of the <span class="math inline">\(7+3+2+0=12\)</span> men that are actually in group <code>a</code> are predicted to be in <code>a</code>; 9 of the 14 actual <code>b</code>’s are predicted to be <code>b</code>’s; 5 of the 8 actual <code>d</code>’s are predicted to be <code>d</code>’s. These are not so awful. But only 1 of the 11 <code>c</code>’s is correctly predicted to be a <code>c</code>!</p>
<p>As for what I want to see: I am looking for some kind of statement about how good you think the predictions are (the word “terrible” is fine for this) with some kind of support for your statement. For example, “the predictions are not that good, but at least group B is predicted with some accuracy (9 out of 14).”</p>
<p>I think looking at how well the individual groups were predicted is the most incisive way of getting at this, because the <code>c</code> men are the hardest to get right and the others are easier, but you could also think about an overall misclassification rate. This comes most easily from the “tidy” table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span> <span class="fu">count</span>(<span class="at">correct =</span> (obesity <span class="sc">==</span> class), <span class="at">wt =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["correct"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"FALSE","2":"23"},{"1":"TRUE","2":"22"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>You can count anything, not just columns that already exist. This one is a kind of combined mutate-and-count to create the (logical) column called <code>correct</code>.</p>
<p>It’s a shortcut for this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_correct =</span> (obesity <span class="sc">==</span> class)) <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(is_correct, <span class="at">wt =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["is_correct"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"FALSE","2":"23"},{"1":"TRUE","2":"22"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>If I don’t put the <code>wt</code>, <code>count</code> counts the number of <em>rows</em> for which the true and predicted obesity group is the same. But that’s not what I want here: I want the number of <em>observations</em> totalled up, which is what the <code>wt=</code> does. It says “use the things in the given column as weights”, which means to total them up rather than count up the number of rows.</p>
<p>This says that 22 men were classified correctly and 23 were gotten wrong. We can find the proportions correct and wrong:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="at">correct =</span> (obesity <span class="sc">==</span> class), <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["correct"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"FALSE","2":"23","3":"0.5111111"},{"1":"TRUE","2":"22","3":"0.4888889"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>and we see that 51% of men had their obesity group predicted wrongly. This is the overall misclassification rate, which is a simple summary of how good a job the discriminant analysis did.</p>
<p>There is a subtlety here. <code>n</code> has changed its meaning in the middle of this calculation! In <code>tab</code>, <code>n</code> is counting the number of obesity observed and predicted combinations, but now it is counting the number of men classified correctly and incorrectly. The <code>wt=n</code> uses the first <code>n</code>, but the <code>mutate</code> line uses the <em>new</em> <code>n</code>, the result of the <code>count</code> line here. (I think <code>count</code> used to use <code>nn</code> for the result of the second <code>count</code>, so that you could tell them apart, but it no longer seems to do so.)</p>
<p>I said above that the obesity groups were not equally easy to predict. A small modification of the above will get the misclassification rates by (true) obesity group. This is done by putting an appropriate <code>group_by</code> in at the front, before we do any summarizing:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(obesity) <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="at">correct =</span> (obesity <span class="sc">==</span> class), <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["correct"],"name":[2],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"FALSE","3":"5","4":"0.41666667"},{"1":"a","2":"TRUE","3":"7","4":"0.58333333"},{"1":"b","2":"FALSE","3":"5","4":"0.35714286"},{"1":"b","2":"TRUE","3":"9","4":"0.64285714"},{"1":"c","2":"FALSE","3":"10","4":"0.90909091"},{"1":"c","2":"TRUE","3":"1","4":"0.09090909"},{"1":"d","2":"FALSE","3":"3","4":"0.37500000"},{"1":"d","2":"TRUE","3":"5","4":"0.62500000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This gives the proportion wrong and correct for each (true) obesity group. I’m going to do the one more cosmetic thing to make it easier to read, a kind of “untidying”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(obesity) <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="at">correct =</span> (obesity <span class="sc">==</span> class), <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>correct, <span class="at">values_from=</span>proportion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FALSE"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["TRUE"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"0.4166667","3":"0.58333333"},{"1":"b","2":"0.3571429","3":"0.64285714"},{"1":"c","2":"0.9090909","3":"0.09090909"},{"1":"d","2":"0.3750000","3":"0.62500000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Looking down the <code>TRUE</code> column, groups A, B and D were gotten about 60% correct (and 40% wrong), but group C is much worse. The overall misclassification rate is made bigger by the fact that C is so hard to predict.</p>
<p>Find out for yourself what happens if I fail to remove the <code>n</code> column before doing the <code>pivot_wider</code>.</p>
<p>A slightly more elegant look is obtained this way, by making nicer values than TRUE and FALSE:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(obesity) <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prediction_stat =</span> <span class="fu">ifelse</span>(obesity <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(prediction_stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>prediction_stat, <span class="at">values_from=</span>proportion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["obesity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["correct"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["wrong"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"0.58333333","3":"0.4166667"},{"1":"b","2":"0.64285714","3":"0.3571429"},{"1":"c","2":"0.09090909","3":"0.9090909"},{"1":"d","2":"0.62500000","3":"0.3750000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li>Do your conclusions from (<a href="#part:plot">here</a>) and (<a href="#part:table">here</a>) appear to be consistent?</li>
</ol>
<p>Solution</p>
<p>On the plot of (<a href="#part:plot">here</a>), we said that there was a lot of scatter, but that groups <code>a</code>, <code>b</code> and <code>d</code> tended to be found at the top, right and left respectively of the plot. That suggests that these three groups should be somewhat predictable. The <code>c</code>’s, on the other hand, were all over the place on the plot, and were mostly predicted wrong.</p>
<p>The idea is that the stories you pull from the plot and the predictions should be more or less consistent. There are several ways you might say that: another approach is to say that the observations are all over the place on the plot, and the predictions are all bad. This is not as insightful as my comments above, but if that’s what the plot told you, that’s what the predictions would seem to be saying as well. (Or even, the predictions are not so bad compared to the apparently random pattern on the plot, if that’s what you saw. There are different ways to say something more or less sensible.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
</section>
<section id="understanding-a-manova-1" class="level2" data-number="35.10">
<h2 data-number="35.10" class="anchored" data-anchor-id="understanding-a-manova-1"><span class="header-section-number">35.10</span> Understanding a MANOVA</h2>
<p>One use of discriminant analysis is to understand the results of a MANOVA. This question is a followup to a previous MANOVA that we did, the one with two variables <code>y1</code> and <code>y2</code> and three groups <code>a</code> through <code>c</code>. The data were in <a href="http://ritsokiguess.site/datafiles/simple-manova.txt">link</a>.</p>
<ol type="a">
<li>Read the data in again and run the MANOVA that you did before.</li>
</ol>
<p>Solution</p>
<p>This is an exact repeat of what you did before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/simple-manova.txt"</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co"># my_url &lt;- "https://raw.githubusercontent.com/nxskok/datafiles/master/simple-manova.txt"</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>simple <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(my_url, <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 12 Columns: 3
── Column specification ────────────────────────────────────────────────────────
Delimiter: " "
chr (1): group
dbl (2): y1, y2

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>simple</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["y1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["y2"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"2","3":"3"},{"1":"a","2":"3","3":"4"},{"1":"a","2":"5","3":"4"},{"1":"a","2":"2","3":"5"},{"1":"b","2":"4","3":"8"},{"1":"b","2":"5","3":"6"},{"1":"b","2":"5","3":"7"},{"1":"c","2":"7","3":"6"},{"1":"c","2":"8","3":"7"},{"1":"c","2":"10","3":"8"},{"1":"c","2":"9","3":"5"},{"1":"c","2":"7","3":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">with</span>(simple, <span class="fu">cbind</span>(y1, y2))</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>simple<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">manova</span>(response <span class="sc">~</span> group, <span class="at">data =</span> simple)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(simple<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Df Pillai approx F num Df den Df    Pr(&gt;F)    
group      2 1.3534   9.4196      4     18 0.0002735 ***
Residuals  9                                            
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>This P-value is small, so there is some way in which some of the groups differ on some of the variables.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>We should check that we believe this, using Box’s M test:<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">BoxM</span>(response, simple<span class="sc">$</span>group))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Box's M Test 

Chi-Squared Value = 3.517357 , df = 6  and p-value: 0.742 </code></pre>
</div>
</div>
<p>There is no problem here: no evidence that any of the response variables differ in spread across the groups.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>Run a discriminant analysis “predicting” group from the two response variables. Display the output.</li>
</ol>
<p>Solution</p>
<p>This:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>simple<span class="fl">.4</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(group <span class="sc">~</span> y1 <span class="sc">+</span> y2, <span class="at">data =</span> simple)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>simple<span class="fl">.4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(group ~ y1 + y2, data = simple)

Prior probabilities of groups:
        a         b         c 
0.3333333 0.2500000 0.4166667 

Group means:
        y1  y2
a 3.000000 4.0
b 4.666667 7.0
c 8.200000 6.4

Coefficients of linear discriminants:
         LD1        LD2
y1 0.7193766  0.4060972
y2 0.3611104 -0.9319337

Proportion of trace:
   LD1    LD2 
0.8331 0.1669 </code></pre>
</div>
</div>
<p>Note that this is the other way around from MANOVA: here, we are “predicting the group” from the response variables, in the same manner as one of the flavours of logistic regression: “what makes the groups different, in terms of those response variables?”.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li><a name="part:output">*</a> In the output from the discriminant analysis, why are there exactly two linear discriminants <code>LD1</code> and <code>LD2</code>?</li>
</ol>
<p>Solution</p>
<p>There are two linear discriminants because there are 3 groups and two variables, so there are the smaller of <span class="math inline">\(3-1\)</span> and 2 discriminants.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li><a name="part:svd">*</a> From the output, how would you say that the first linear discriminant <code>LD1</code> compares in importance to the second one <code>LD2</code>: much more important, more important, equally important, less important, much less important? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>Look at the <code>Proportion of trace</code> at the bottom of the output. The first number is much bigger than the second, so the first linear discriminant is much more important than the second. (I care about your reason; you can say it’s “more important” rather than “much more important” and I’m good with that.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li>Obtain a plot of the discriminant scores.</li>
</ol>
<p>Solution</p>
<p>This was the old-fashioned way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(simple<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/manova1a-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It needs cajoling to produce colours, but we can do better. The first thing is to obtain the predictions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>simple.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(simple<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we make a data frame out of the discriminant scores and the true groups, using <code>cbind</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(simple, simple.pred)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["y1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["y2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[4],"type":["fct"],"align":["left"]},{"label":["posterior.a"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["posterior.b"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["posterior.c"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"2","3":"3","4":"a","5":"0.999836110","6":"0.0001636933","7":"1.964310e-07","8":"-3.5708196","9":"1.1076359","_rn_":"1"},{"1":"a","2":"3","3":"4","4":"a","5":"0.994129686","6":"0.0058400248","7":"3.028912e-05","8":"-2.4903326","9":"0.5817994","_rn_":"2"},{"1":"a","2":"5","3":"4","4":"a","5":"0.953416498","6":"0.0267238544","7":"1.985965e-02","8":"-1.0515795","9":"1.3939939","_rn_":"3"},{"1":"a","2":"2","3":"5","4":"a","5":"0.957685668","6":"0.0423077129","7":"6.618865e-06","8":"-2.8485988","9":"-0.7562315","_rn_":"4"},{"1":"b","2":"4","3":"8","4":"b","5":"0.001068057","6":"0.9978789644","7":"1.052978e-03","8":"-0.3265145","9":"-2.7398380","_rn_":"5"},{"1":"b","2":"5","3":"6","4":"b","5":"0.107572389","6":"0.8136017106","7":"7.882590e-02","8":"-0.3293587","9":"-0.4698735","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>or like this, for fun:<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>ld <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(simple.pred<span class="sc">$</span>x)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>post <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(simple.pred<span class="sc">$</span>posterior)</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(simple, <span class="at">class =</span> simple.pred<span class="sc">$</span>class, ld, post)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>dd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["y1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["y2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[4],"type":["fct"],"align":["left"]},{"label":["LD1"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["LD2"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["a"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["b"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["c"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"a","2":"2","3":"3","4":"a","5":"-3.57081960","6":"1.1076359","7":"9.998361e-01","8":"0.0001636933","9":"1.964310e-07"},{"1":"a","2":"3","3":"4","4":"a","5":"-2.49033264","6":"0.5817994","7":"9.941297e-01","8":"0.0058400248","9":"3.028912e-05"},{"1":"a","2":"5","3":"4","4":"a","5":"-1.05157953","6":"1.3939939","7":"9.534165e-01","8":"0.0267238544","9":"1.985965e-02"},{"1":"a","2":"2","3":"5","4":"a","5":"-2.84859879","6":"-0.7562315","7":"9.576857e-01","8":"0.0423077129","9":"6.618865e-06"},{"1":"b","2":"4","3":"8","4":"b","5":"-0.32651447","6":"-2.7398380","7":"1.068057e-03","8":"0.9978789644","9":"1.052978e-03"},{"1":"b","2":"5","3":"6","4":"b","5":"-0.32935872","6":"-0.4698735","7":"1.075724e-01","8":"0.8136017106","9":"7.882590e-02"},{"1":"b","2":"5","3":"7","4":"b","5":"0.03175168","6":"-1.4018071","7":"7.716925e-03","8":"0.9587439261","9":"3.353915e-02"},{"1":"c","2":"7","3":"6","4":"c","5":"1.10939439","6":"0.3423210","7":"1.858531e-03","8":"0.0670695837","9":"9.310719e-01"},{"1":"c","2":"8","3":"7","4":"c","5":"2.18988135","6":"-0.1835155","7":"1.266019e-05","8":"0.0163932747","9":"9.835941e-01"},{"1":"c","2":"10","3":"8","4":"c","5":"3.98974486","6":"-0.3032547","7":"3.173215e-09","8":"0.0003220454","9":"9.996780e-01"},{"1":"c","2":"9","3":"5","4":"c","5":"2.18703709","6":"2.0864491","7":"1.731389e-05","8":"0.0001814880","9":"9.998012e-01"},{"1":"c","2":"7","3":"6","4":"c","5":"1.10939439","6":"0.3423210","7":"1.858531e-03","8":"0.0670695837","9":"9.310719e-01"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>After that, we plot the first one against the second one, colouring by true groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">colour =</span> group)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/manova1a-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>I wanted to compare this plot with the original plot of <code>y1</code> vs.&nbsp;<code>y2</code>, coloured by groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(simple, <span class="fu">aes</span>(<span class="at">x =</span> y1, <span class="at">y =</span> y2, <span class="at">colour =</span> group)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/manova1a-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The difference between this plot and the one of <code>LD1</code> vs.<br>
<code>LD2</code> is that things have been rotated a bit so that most of the separation of groups is done by <code>LD1</code>. This is reflected in the fact that <code>LD1</code> is quite a bit more important than <code>LD2</code>: the latter doesn’t help much in separating the groups.</p>
<p>With that in mind, we could also plot just <code>LD1</code>, presumably against groups via boxplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> x.LD1)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/manova1a-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows that LD1 does a pretty fine job of separating the groups, and <code>LD2</code> doesn’t really have much to add to the picture.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li>Describe briefly how <code>LD1</code> and/or <code>LD2</code> separate the groups. Does your picture confirm the relative importance of <code>LD1</code> and <code>LD2</code> that you found back in part (<a href="#part:svd">here</a>)? Explain briefly.</li>
</ol>
<p>Solution</p>
<p><code>LD1</code> separates the groups left to right: group <code>a</code> is low on <code>LD1</code>, <code>b</code> is in the middle and <code>c</code> is high on <code>LD1</code>. (There is no intermingling of the groups on <code>LD1</code>, so it separates the groups perfectly.)</p>
<p>As for <code>LD2</code>, all it does (possibly) is to distinguish <code>b</code> (low) from <code>a</code> and <code>c</code> (high). Or you can, just as reasonably, take the view that it doesn’t really separate any of the groups.</p>
<p>Back in part (<a href="#part:svd">here</a>), you said (I hope) that <code>LD1</code> was (very) important compared to <code>LD2</code>. This shows up here in that <code>LD1</code> does a very good job of distinguishing the groups, while <code>LD2</code> does a poor to non-existent job of separating any groups. (If you didn’t say that before, here is an invitation to reconsider what you <em>did</em> say there.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li>What makes group <code>a</code> have a low score on <code>LD1</code>? There are two steps that you need to make: consider the means of group <code>a</code> on variables <code>y1</code> and <code>y2</code> and how they compare to the other groups, and consider how <code>y1</code> and <code>y2</code> play into the score on <code>LD1</code>.</li>
</ol>
<p>Solution</p>
<p>The information you need is in the big output.</p>
<p>The means of <code>y1</code> and <code>y2</code> for group <code>a</code> are 3 and 4 respectively, which are the lowest of all the groups. That’s the first thing.</p>
<p>The second thing is the coefficients of <code>LD1</code> in terms of <code>y1</code> and <code>y2</code>, which are both <em>positive</em>. That means, for any observation, if its <code>y1</code> and <code>y2</code> values are <em>large</em>, that observation’s score on <code>LD1</code> will be large as well. Conversely, if its values are <em>small</em>, as the ones in group <code>a</code> are, its score on <code>LD1</code> will be small.</p>
<p>You need these two things.</p>
<p>This explains why the group <code>a</code> observations are on the left of the plot. It also explains why the group <code>c</code> observations are on the right: they are <em>large</em> on both <code>y1</code> and <code>y2</code>, and so large on <code>LD1</code>.</p>
<p>What about <code>LD2</code>? This is a little more confusing (and thus I didn’t ask you about that). Its “coefficients of linear discriminant” are positive on <code>y1</code> and negative on <code>y2</code>, with the latter being bigger in size. Group <code>b</code> is about average on <code>y1</code> and distinctly <em>high</em> on <code>y2</code>; the second of these coupled with the negative coefficient on <code>y2</code> means that the <code>LD2</code> score for observations in group <code>b</code> will be <em>negative</em>.</p>
<p>For <code>LD2</code>, group <code>a</code> has a low mean on both variables and group <code>c</code> has a high mean, so for both groups there is a kind of cancelling-out happening, and neither group <code>a</code> nor group <code>c</code> will be especially remarkable on <code>LD2</code>.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="8" type="a">
<li>Obtain predictions for the group memberships of each observation, and make a table of the actual group memberships against the predicted ones. How many of the observations were wrongly classified?</li>
</ol>
<p>Solution</p>
<p>Use the <code>simple.pred</code> that you got earlier. This is the <code>table</code> way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(d, <span class="fu">table</span>(<span class="at">obs =</span> group, <span class="at">pred =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   pred
obs a b c
  a 4 0 0
  b 0 3 0
  c 0 0 5</code></pre>
</div>
</div>
<p>Every single one of the 12 observations has been classified into its correct group. (There is nothing off the diagonal of this table.) The alternative to <code>table</code> is the <code>tidyverse</code> way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(group, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"a","2":"a","3":"4"},{"1":"b","2":"b","3":"3"},{"1":"c","2":"c","3":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>or</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(group, class) <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>class, <span class="at">values_from=</span>n, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">n=</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["a"],"name":[2],"type":["int"],"align":["right"]},{"label":["b"],"name":[3],"type":["int"],"align":["right"]},{"label":["c"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"a","2":"4","3":"0","4":"0"},{"1":"b","2":"0","3":"3","4":"0"},{"1":"c","2":"0","3":"0","4":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>if you want something that looks like a frequency table. All the <code>a</code>s got classified as <code>a</code>, and so on. That’s the end of what I asked you to do, but as ever I wanted to press on. The next question to ask after getting the predicted groups is “what are the posterior probabilities of being in each group for each observation”: that is, not just which group do I think it belongs in, but how sure am I about that call? The posterior probabilities in my <code>d</code> start with <code>posterior</code>. These have a ton of decimal places which I like to round off first before I display them, eg. to 3 decimals here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(y1, y2, group, class, <span class="fu">starts_with</span>(<span class="st">"posterior"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), \(post) <span class="fu">round</span>(post, <span class="dv">3</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["y1"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["y2"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["group"],"name":[3],"type":["chr"],"align":["left"]},{"label":["class"],"name":[4],"type":["fct"],"align":["left"]},{"label":["posterior.a"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["posterior.b"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["posterior.c"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"3","3":"a","4":"a","5":"1.000","6":"0.000","7":"0.000","_rn_":"1"},{"1":"3","2":"4","3":"a","4":"a","5":"0.994","6":"0.006","7":"0.000","_rn_":"2"},{"1":"5","2":"4","3":"a","4":"a","5":"0.953","6":"0.027","7":"0.020","_rn_":"3"},{"1":"2","2":"5","3":"a","4":"a","5":"0.958","6":"0.042","7":"0.000","_rn_":"4"},{"1":"4","2":"8","3":"b","4":"b","5":"0.001","6":"0.998","7":"0.001","_rn_":"5"},{"1":"5","2":"6","3":"b","4":"b","5":"0.108","6":"0.814","7":"0.079","_rn_":"6"},{"1":"5","2":"7","3":"b","4":"b","5":"0.008","6":"0.959","7":"0.034","_rn_":"7"},{"1":"7","2":"6","3":"c","4":"c","5":"0.002","6":"0.067","7":"0.931","_rn_":"8"},{"1":"8","2":"7","3":"c","4":"c","5":"0.000","6":"0.016","7":"0.984","_rn_":"9"},{"1":"10","2":"8","3":"c","4":"c","5":"0.000","6":"0.000","7":"1.000","_rn_":"10"},{"1":"9","2":"5","3":"c","4":"c","5":"0.000","6":"0.000","7":"1.000","_rn_":"11"},{"1":"7","2":"6","3":"c","4":"c","5":"0.002","6":"0.067","7":"0.931","_rn_":"12"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>You see that the posterior probability of an observation being in the group it actually <em>was</em> in is close to 1 all the way down. The only one with any doubt at all is observation #6, which is actually in group <code>b</code>, but has “only” probability 0.814 of being a <code>b</code> based on its <code>y1</code> and <code>y2</code> values. What else could it be? Well, it’s about equally split between being <code>a</code> and <code>c</code>. Let me see if I can display this observation on the plot in a different way. First I need to make a new column picking out observation 6, and then I use this new variable as the <code>shape</code> of the point I plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>simple <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is6 =</span> (<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">6</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> y1, <span class="at">y =</span> y2, <span class="at">colour =</span> group, <span class="at">shape =</span> is6)) <span class="sc">+</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/manova1a-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>That makes it stand out a bit: if you look carefully, one of the green points (observation 6) is plotted as a triangle rather than a circle, as the legend for <code>is6</code> indicates. (I plotted all the points bigger to make this easier to see.)</p>
<p>Since observation #6 is in group <code>b</code>, it appears as a green triangle. What makes it least like a <code>b</code>? Well, it has the smallest <code>y2</code> value of any of the <code>b</code>’s (which makes it most like an <code>a</code> of any of the <code>b</code>’s), and it has the largest <code>y1</code> value (which makes it most like a <code>c</code> of any of the <code>b</code>’s). But still, it’s nearer the greens than anything else, so it’s still more like a <code>b</code> than it is like any of the other groups.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
</section>
<section id="what-distinguishes-people-who-do-different-jobs-1" class="level2" data-number="35.11">
<h2 data-number="35.11" class="anchored" data-anchor-id="what-distinguishes-people-who-do-different-jobs-1"><span class="header-section-number">35.11</span> What distinguishes people who do different jobs?</h2>
<p>244<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> people work at a certain company. They each have one of three jobs: customer service, mechanic, dispatcher. In the data set, these are labelled 1, 2 and 3 respectively. In addition, they each are rated on scales called <code>outdoor</code>, <code>social</code> and <code>conservative</code>. Do people with different jobs tend to have different scores on these scales, or, to put it another way, if you knew a person’s scores on <code>outdoor</code>, <code>social</code> and <code>conservative</code>, could you say something about what kind of job they were likely to hold? The data are in <a href="http://ritsokiguess.site/datafiles/jobs.txt">link</a>.</p>
<ol type="a">
<li>Read in the data and display some of it.</li>
</ol>
<p>Solution</p>
<p>The usual. This one is aligned columns. I’m using a “temporary” name for my read-in data frame, since I’m going to create the proper one in a moment.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/nxskok/datafiles/master/jobs.txt"</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>jobs0 <span class="ot">&lt;-</span> <span class="fu">read_table</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Missing column names filled in: 'X6' [6]</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
── Column specification ────────────────────────────────────────────────────────
cols(
  outdoor = col_double(),
  social = col_double(),
  conservative = col_double(),
  job = col_double(),
  id = col_double(),
  X6 = col_character()
)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 244 parsing failures.
row col  expected    actual                                                                 file
  1  -- 6 columns 5 columns 'https://raw.githubusercontent.com/nxskok/datafiles/master/jobs.txt'
  2  -- 6 columns 5 columns 'https://raw.githubusercontent.com/nxskok/datafiles/master/jobs.txt'
  3  -- 6 columns 5 columns 'https://raw.githubusercontent.com/nxskok/datafiles/master/jobs.txt'
  4  -- 6 columns 5 columns 'https://raw.githubusercontent.com/nxskok/datafiles/master/jobs.txt'
  5  -- 6 columns 5 columns 'https://raw.githubusercontent.com/nxskok/datafiles/master/jobs.txt'
... ... ......... ......... ....................................................................
See problems(...) for more details.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>jobs0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["X6"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"10","2":"22","3":"5","4":"1","5":"1","6":"NA"},{"1":"14","2":"17","3":"6","4":"1","5":"2","6":"NA"},{"1":"19","2":"33","3":"7","4":"1","5":"3","6":"NA"},{"1":"14","2":"29","3":"12","4":"1","5":"4","6":"NA"},{"1":"14","2":"25","3":"7","4":"1","5":"5","6":"NA"},{"1":"20","2":"25","3":"12","4":"1","5":"6","6":"NA"},{"1":"6","2":"18","3":"4","4":"1","5":"7","6":"NA"},{"1":"13","2":"27","3":"7","4":"1","5":"8","6":"NA"},{"1":"18","2":"31","3":"9","4":"1","5":"9","6":"NA"},{"1":"16","2":"35","3":"13","4":"1","5":"10","6":"NA"},{"1":"17","2":"25","3":"8","4":"1","5":"11","6":"NA"},{"1":"10","2":"29","3":"11","4":"1","5":"12","6":"NA"},{"1":"17","2":"25","3":"7","4":"1","5":"13","6":"NA"},{"1":"10","2":"22","3":"13","4":"1","5":"14","6":"NA"},{"1":"10","2":"31","3":"13","4":"1","5":"15","6":"NA"},{"1":"18","2":"25","3":"5","4":"1","5":"16","6":"NA"},{"1":"0","2":"27","3":"11","4":"1","5":"17","6":"NA"},{"1":"10","2":"24","3":"12","4":"1","5":"18","6":"NA"},{"1":"15","2":"23","3":"10","4":"1","5":"19","6":"NA"},{"1":"8","2":"29","3":"14","4":"1","5":"20","6":"NA"},{"1":"6","2":"27","3":"11","4":"1","5":"21","6":"NA"},{"1":"10","2":"17","3":"8","4":"1","5":"22","6":"NA"},{"1":"1","2":"30","3":"6","4":"1","5":"23","6":"NA"},{"1":"14","2":"29","3":"7","4":"1","5":"24","6":"NA"},{"1":"13","2":"21","3":"11","4":"1","5":"25","6":"NA"},{"1":"21","2":"31","3":"11","4":"1","5":"26","6":"NA"},{"1":"12","2":"26","3":"9","4":"1","5":"27","6":"NA"},{"1":"12","2":"22","3":"9","4":"1","5":"28","6":"NA"},{"1":"5","2":"25","3":"7","4":"1","5":"29","6":"NA"},{"1":"10","2":"24","3":"5","4":"1","5":"30","6":"NA"},{"1":"3","2":"20","3":"14","4":"1","5":"31","6":"NA"},{"1":"6","2":"25","3":"12","4":"1","5":"32","6":"NA"},{"1":"11","2":"27","3":"10","4":"1","5":"33","6":"NA"},{"1":"13","2":"21","3":"14","4":"1","5":"34","6":"NA"},{"1":"11","2":"23","3":"5","4":"1","5":"35","6":"NA"},{"1":"8","2":"18","3":"8","4":"1","5":"36","6":"NA"},{"1":"5","2":"17","3":"9","4":"1","5":"37","6":"NA"},{"1":"11","2":"22","3":"11","4":"1","5":"38","6":"NA"},{"1":"14","2":"22","3":"11","4":"1","5":"39","6":"NA"},{"1":"22","2":"22","3":"6","4":"1","5":"40","6":"NA"},{"1":"16","2":"28","3":"6","4":"1","5":"41","6":"NA"},{"1":"12","2":"25","3":"8","4":"1","5":"42","6":"NA"},{"1":"12","2":"25","3":"7","4":"1","5":"43","6":"NA"},{"1":"15","2":"21","3":"4","4":"1","5":"44","6":"NA"},{"1":"11","2":"28","3":"8","4":"1","5":"45","6":"NA"},{"1":"11","2":"20","3":"9","4":"1","5":"46","6":"NA"},{"1":"15","2":"19","3":"9","4":"1","5":"47","6":"NA"},{"1":"15","2":"24","3":"7","4":"1","5":"48","6":"NA"},{"1":"15","2":"21","3":"10","4":"1","5":"49","6":"NA"},{"1":"17","2":"26","3":"7","4":"1","5":"50","6":"NA"},{"1":"12","2":"28","3":"13","4":"1","5":"51","6":"NA"},{"1":"7","2":"28","3":"12","4":"1","5":"52","6":"NA"},{"1":"14","2":"12","3":"6","4":"1","5":"53","6":"NA"},{"1":"22","2":"24","3":"6","4":"1","5":"54","6":"NA"},{"1":"22","2":"27","3":"12","4":"1","5":"55","6":"NA"},{"1":"18","2":"30","3":"9","4":"1","5":"56","6":"NA"},{"1":"16","2":"18","3":"5","4":"1","5":"57","6":"NA"},{"1":"12","2":"23","3":"4","4":"1","5":"58","6":"NA"},{"1":"16","2":"22","3":"2","4":"1","5":"59","6":"NA"},{"1":"15","2":"26","3":"9","4":"1","5":"60","6":"NA"},{"1":"7","2":"13","3":"7","4":"1","5":"61","6":"NA"},{"1":"6","2":"18","3":"6","4":"1","5":"62","6":"NA"},{"1":"9","2":"24","3":"6","4":"1","5":"63","6":"NA"},{"1":"9","2":"20","3":"12","4":"1","5":"64","6":"NA"},{"1":"20","2":"28","3":"8","4":"1","5":"65","6":"NA"},{"1":"5","2":"22","3":"15","4":"1","5":"66","6":"NA"},{"1":"14","2":"26","3":"17","4":"1","5":"67","6":"NA"},{"1":"8","2":"28","3":"12","4":"1","5":"68","6":"NA"},{"1":"14","2":"22","3":"9","4":"1","5":"69","6":"NA"},{"1":"15","2":"26","3":"4","4":"1","5":"70","6":"NA"},{"1":"15","2":"25","3":"10","4":"1","5":"71","6":"NA"},{"1":"14","2":"27","3":"6","4":"1","5":"72","6":"NA"},{"1":"15","2":"25","3":"11","4":"1","5":"73","6":"NA"},{"1":"11","2":"26","3":"9","4":"1","5":"74","6":"NA"},{"1":"10","2":"28","3":"5","4":"1","5":"75","6":"NA"},{"1":"7","2":"22","3":"10","4":"1","5":"76","6":"NA"},{"1":"11","2":"15","3":"12","4":"1","5":"77","6":"NA"},{"1":"14","2":"25","3":"15","4":"1","5":"78","6":"NA"},{"1":"18","2":"28","3":"7","4":"1","5":"79","6":"NA"},{"1":"14","2":"29","3":"8","4":"1","5":"80","6":"NA"},{"1":"17","2":"20","3":"6","4":"1","5":"81","6":"NA"},{"1":"13","2":"25","3":"14","4":"1","5":"82","6":"NA"},{"1":"9","2":"21","3":"12","4":"1","5":"83","6":"NA"},{"1":"13","2":"26","3":"13","4":"1","5":"84","6":"NA"},{"1":"16","2":"24","3":"10","4":"1","5":"85","6":"NA"},{"1":"20","2":"27","3":"6","4":"2","5":"1","6":"NA"},{"1":"21","2":"15","3":"10","4":"2","5":"2","6":"NA"},{"1":"15","2":"27","3":"12","4":"2","5":"3","6":"NA"},{"1":"15","2":"29","3":"8","4":"2","5":"4","6":"NA"},{"1":"11","2":"25","3":"11","4":"2","5":"5","6":"NA"},{"1":"24","2":"9","3":"17","4":"2","5":"6","6":"NA"},{"1":"18","2":"21","3":"13","4":"2","5":"7","6":"NA"},{"1":"14","2":"18","3":"4","4":"2","5":"8","6":"NA"},{"1":"13","2":"22","3":"12","4":"2","5":"9","6":"NA"},{"1":"17","2":"21","3":"9","4":"2","5":"10","6":"NA"},{"1":"16","2":"28","3":"13","4":"2","5":"11","6":"NA"},{"1":"15","2":"22","3":"12","4":"2","5":"12","6":"NA"},{"1":"24","2":"20","3":"15","4":"2","5":"13","6":"NA"},{"1":"14","2":"19","3":"13","4":"2","5":"14","6":"NA"},{"1":"14","2":"28","3":"1","4":"2","5":"15","6":"NA"},{"1":"18","2":"17","3":"11","4":"2","5":"16","6":"NA"},{"1":"14","2":"24","3":"7","4":"2","5":"17","6":"NA"},{"1":"12","2":"16","3":"10","4":"2","5":"18","6":"NA"},{"1":"16","2":"21","3":"10","4":"2","5":"19","6":"NA"},{"1":"18","2":"19","3":"9","4":"2","5":"20","6":"NA"},{"1":"19","2":"26","3":"7","4":"2","5":"21","6":"NA"},{"1":"13","2":"20","3":"10","4":"2","5":"22","6":"NA"},{"1":"28","2":"16","3":"10","4":"2","5":"23","6":"NA"},{"1":"17","2":"19","3":"11","4":"2","5":"24","6":"NA"},{"1":"24","2":"14","3":"7","4":"2","5":"25","6":"NA"},{"1":"19","2":"23","3":"12","4":"2","5":"26","6":"NA"},{"1":"22","2":"12","3":"8","4":"2","5":"27","6":"NA"},{"1":"22","2":"21","3":"11","4":"2","5":"28","6":"NA"},{"1":"21","2":"19","3":"9","4":"2","5":"29","6":"NA"},{"1":"18","2":"24","3":"13","4":"2","5":"30","6":"NA"},{"1":"23","2":"27","3":"11","4":"2","5":"31","6":"NA"},{"1":"20","2":"23","3":"12","4":"2","5":"32","6":"NA"},{"1":"19","2":"13","3":"7","4":"2","5":"33","6":"NA"},{"1":"17","2":"28","3":"13","4":"2","5":"34","6":"NA"},{"1":"20","2":"24","3":"5","4":"2","5":"35","6":"NA"},{"1":"21","2":"23","3":"11","4":"2","5":"36","6":"NA"},{"1":"17","2":"21","3":"15","4":"2","5":"37","6":"NA"},{"1":"11","2":"25","3":"12","4":"2","5":"38","6":"NA"},{"1":"14","2":"19","3":"14","4":"2","5":"39","6":"NA"},{"1":"18","2":"24","3":"5","4":"2","5":"40","6":"NA"},{"1":"13","2":"14","3":"7","4":"2","5":"41","6":"NA"},{"1":"22","2":"18","3":"16","4":"2","5":"42","6":"NA"},{"1":"25","2":"17","3":"13","4":"2","5":"43","6":"NA"},{"1":"19","2":"25","3":"13","4":"2","5":"44","6":"NA"},{"1":"20","2":"20","3":"9","4":"2","5":"45","6":"NA"},{"1":"21","2":"25","3":"11","4":"2","5":"46","6":"NA"},{"1":"17","2":"24","3":"11","4":"2","5":"47","6":"NA"},{"1":"18","2":"26","3":"10","4":"2","5":"48","6":"NA"},{"1":"21","2":"29","3":"11","4":"2","5":"49","6":"NA"},{"1":"17","2":"21","3":"12","4":"2","5":"50","6":"NA"},{"1":"17","2":"19","3":"12","4":"2","5":"51","6":"NA"},{"1":"17","2":"16","3":"6","4":"2","5":"52","6":"NA"},{"1":"16","2":"22","3":"5","4":"2","5":"53","6":"NA"},{"1":"22","2":"19","3":"10","4":"2","5":"54","6":"NA"},{"1":"19","2":"23","3":"12","4":"2","5":"55","6":"NA"},{"1":"16","2":"23","3":"9","4":"2","5":"56","6":"NA"},{"1":"18","2":"27","3":"11","4":"2","5":"57","6":"NA"},{"1":"21","2":"24","3":"12","4":"2","5":"58","6":"NA"},{"1":"15","2":"22","3":"13","4":"2","5":"59","6":"NA"},{"1":"19","2":"26","3":"12","4":"2","5":"60","6":"NA"},{"1":"14","2":"17","3":"11","4":"2","5":"61","6":"NA"},{"1":"15","2":"23","3":"7","4":"2","5":"62","6":"NA"},{"1":"23","2":"20","3":"16","4":"2","5":"63","6":"NA"},{"1":"22","2":"26","3":"15","4":"2","5":"64","6":"NA"},{"1":"13","2":"16","3":"11","4":"2","5":"65","6":"NA"},{"1":"25","2":"29","3":"11","4":"2","5":"66","6":"NA"},{"1":"23","2":"24","3":"7","4":"2","5":"67","6":"NA"},{"1":"17","2":"29","3":"9","4":"2","5":"68","6":"NA"},{"1":"21","2":"19","3":"7","4":"2","5":"69","6":"NA"},{"1":"15","2":"13","3":"6","4":"2","5":"70","6":"NA"},{"1":"19","2":"27","3":"14","4":"2","5":"71","6":"NA"},{"1":"22","2":"24","3":"14","4":"2","5":"72","6":"NA"},{"1":"17","2":"18","3":"8","4":"2","5":"73","6":"NA"},{"1":"21","2":"19","3":"8","4":"2","5":"74","6":"NA"},{"1":"24","2":"18","3":"13","4":"2","5":"75","6":"NA"},{"1":"21","2":"12","3":"9","4":"2","5":"76","6":"NA"},{"1":"15","2":"17","3":"8","4":"2","5":"77","6":"NA"},{"1":"24","2":"22","3":"14","4":"2","5":"78","6":"NA"},{"1":"19","2":"19","3":"7","4":"2","5":"79","6":"NA"},{"1":"23","2":"16","3":"10","4":"2","5":"80","6":"NA"},{"1":"21","2":"29","3":"12","4":"2","5":"81","6":"NA"},{"1":"20","2":"19","3":"11","4":"2","5":"82","6":"NA"},{"1":"18","2":"28","3":"0","4":"2","5":"83","6":"NA"},{"1":"23","2":"21","3":"16","4":"2","5":"84","6":"NA"},{"1":"17","2":"17","3":"8","4":"2","5":"85","6":"NA"},{"1":"17","2":"24","3":"5","4":"2","5":"86","6":"NA"},{"1":"17","2":"18","3":"15","4":"2","5":"87","6":"NA"},{"1":"17","2":"23","3":"10","4":"2","5":"88","6":"NA"},{"1":"19","2":"15","3":"10","4":"2","5":"89","6":"NA"},{"1":"17","2":"20","3":"8","4":"2","5":"90","6":"NA"},{"1":"25","2":"20","3":"8","4":"2","5":"91","6":"NA"},{"1":"16","2":"19","3":"8","4":"2","5":"92","6":"NA"},{"1":"19","2":"16","3":"6","4":"2","5":"93","6":"NA"},{"1":"19","2":"19","3":"16","4":"3","5":"1","6":"NA"},{"1":"17","2":"17","3":"12","4":"3","5":"2","6":"NA"},{"1":"8","2":"17","3":"14","4":"3","5":"3","6":"NA"},{"1":"13","2":"20","3":"16","4":"3","5":"4","6":"NA"},{"1":"14","2":"18","3":"4","4":"3","5":"5","6":"NA"},{"1":"17","2":"12","3":"13","4":"3","5":"6","6":"NA"},{"1":"17","2":"12","3":"17","4":"3","5":"7","6":"NA"},{"1":"14","2":"21","3":"16","4":"3","5":"8","6":"NA"},{"1":"19","2":"18","3":"12","4":"3","5":"9","6":"NA"},{"1":"18","2":"16","3":"15","4":"3","5":"10","6":"NA"},{"1":"15","2":"14","3":"17","4":"3","5":"11","6":"NA"},{"1":"20","2":"15","3":"7","4":"3","5":"12","6":"NA"},{"1":"24","2":"20","3":"13","4":"3","5":"13","6":"NA"},{"1":"16","2":"16","3":"17","4":"3","5":"14","6":"NA"},{"1":"17","2":"15","3":"10","4":"3","5":"15","6":"NA"},{"1":"17","2":"10","3":"12","4":"3","5":"16","6":"NA"},{"1":"11","2":"16","3":"11","4":"3","5":"17","6":"NA"},{"1":"15","2":"18","3":"14","4":"3","5":"18","6":"NA"},{"1":"20","2":"19","3":"16","4":"3","5":"19","6":"NA"},{"1":"14","2":"22","3":"16","4":"3","5":"20","6":"NA"},{"1":"13","2":"15","3":"18","4":"3","5":"21","6":"NA"},{"1":"16","2":"14","3":"13","4":"3","5":"22","6":"NA"},{"1":"12","2":"12","3":"6","4":"3","5":"23","6":"NA"},{"1":"17","2":"17","3":"19","4":"3","5":"24","6":"NA"},{"1":"10","2":"8","3":"16","4":"3","5":"25","6":"NA"},{"1":"11","2":"17","3":"20","4":"3","5":"26","6":"NA"},{"1":"13","2":"16","3":"7","4":"3","5":"27","6":"NA"},{"1":"19","2":"15","3":"13","4":"3","5":"28","6":"NA"},{"1":"15","2":"11","3":"13","4":"3","5":"29","6":"NA"},{"1":"17","2":"11","3":"10","4":"3","5":"30","6":"NA"},{"1":"15","2":"10","3":"13","4":"3","5":"31","6":"NA"},{"1":"19","2":"14","3":"12","4":"3","5":"32","6":"NA"},{"1":"19","2":"14","3":"15","4":"3","5":"33","6":"NA"},{"1":"4","2":"12","3":"11","4":"3","5":"34","6":"NA"},{"1":"13","2":"12","3":"15","4":"3","5":"35","6":"NA"},{"1":"20","2":"13","3":"19","4":"3","5":"36","6":"NA"},{"1":"14","2":"18","3":"14","4":"3","5":"37","6":"NA"},{"1":"10","2":"12","3":"9","4":"3","5":"38","6":"NA"},{"1":"11","2":"12","3":"19","4":"3","5":"39","6":"NA"},{"1":"8","2":"20","3":"8","4":"3","5":"40","6":"NA"},{"1":"14","2":"16","3":"7","4":"3","5":"41","6":"NA"},{"1":"18","2":"20","3":"15","4":"3","5":"42","6":"NA"},{"1":"19","2":"7","3":"13","4":"3","5":"43","6":"NA"},{"1":"21","2":"13","3":"11","4":"3","5":"44","6":"NA"},{"1":"14","2":"26","3":"15","4":"3","5":"45","6":"NA"},{"1":"25","2":"16","3":"12","4":"3","5":"46","6":"NA"},{"1":"18","2":"11","3":"19","4":"3","5":"47","6":"NA"},{"1":"14","2":"16","3":"6","4":"3","5":"48","6":"NA"},{"1":"13","2":"20","3":"18","4":"3","5":"49","6":"NA"},{"1":"20","2":"16","3":"14","4":"3","5":"50","6":"NA"},{"1":"12","2":"14","3":"8","4":"3","5":"51","6":"NA"},{"1":"16","2":"19","3":"12","4":"3","5":"52","6":"NA"},{"1":"21","2":"15","3":"7","4":"3","5":"53","6":"NA"},{"1":"18","2":"23","3":"15","4":"3","5":"54","6":"NA"},{"1":"19","2":"11","3":"13","4":"3","5":"55","6":"NA"},{"1":"17","2":"18","3":"9","4":"3","5":"56","6":"NA"},{"1":"4","2":"10","3":"15","4":"3","5":"57","6":"NA"},{"1":"17","2":"17","3":"14","4":"3","5":"58","6":"NA"},{"1":"14","2":"13","3":"12","4":"3","5":"59","6":"NA"},{"1":"15","2":"16","3":"14","4":"3","5":"60","6":"NA"},{"1":"20","2":"13","3":"18","4":"3","5":"61","6":"NA"},{"1":"20","2":"14","3":"18","4":"3","5":"62","6":"NA"},{"1":"16","2":"22","3":"12","4":"3","5":"63","6":"NA"},{"1":"9","2":"13","3":"16","4":"3","5":"64","6":"NA"},{"1":"15","2":"13","3":"13","4":"3","5":"65","6":"NA"},{"1":"18","2":"20","3":"10","4":"3","5":"66","6":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>We got all that was promised, plus a label <code>id</code> for each employee, which we will from here on ignore.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>Note the types of each of the variables, and create any new variables that you need to.</li>
</ol>
<p>Solution</p>
<p>These are all <code>int</code> or whole numbers. But, the job ought to be a <code>factor</code>: the labels 1, 2 and 3 have no meaning as such, they just label the three different jobs. (I gave you a hint of this above.) So we need to turn <code>job</code> into a factor. I think the best way to do that is via <code>mutate</code>, and then we save the new data frame into one called <code>jobs</code> that we actually use for the analysis below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>job_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"custserv"</span>, <span class="st">"mechanic"</span>, <span class="st">"dispatcher"</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>jobs0 <span class="sc">%&gt;%</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job =</span> <span class="fu">factor</span>(job, <span class="at">labels =</span> job_labels)) <span class="ot">-&gt;</span> jobs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I lived on the edge and saved my factor <code>job</code> into a variable with the same name as the numeric one. I should check that I now have the right thing:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>jobs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["fct"],"align":["left"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["X6"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"10","2":"22","3":"5","4":"custserv","5":"1","6":"NA"},{"1":"14","2":"17","3":"6","4":"custserv","5":"2","6":"NA"},{"1":"19","2":"33","3":"7","4":"custserv","5":"3","6":"NA"},{"1":"14","2":"29","3":"12","4":"custserv","5":"4","6":"NA"},{"1":"14","2":"25","3":"7","4":"custserv","5":"5","6":"NA"},{"1":"20","2":"25","3":"12","4":"custserv","5":"6","6":"NA"},{"1":"6","2":"18","3":"4","4":"custserv","5":"7","6":"NA"},{"1":"13","2":"27","3":"7","4":"custserv","5":"8","6":"NA"},{"1":"18","2":"31","3":"9","4":"custserv","5":"9","6":"NA"},{"1":"16","2":"35","3":"13","4":"custserv","5":"10","6":"NA"},{"1":"17","2":"25","3":"8","4":"custserv","5":"11","6":"NA"},{"1":"10","2":"29","3":"11","4":"custserv","5":"12","6":"NA"},{"1":"17","2":"25","3":"7","4":"custserv","5":"13","6":"NA"},{"1":"10","2":"22","3":"13","4":"custserv","5":"14","6":"NA"},{"1":"10","2":"31","3":"13","4":"custserv","5":"15","6":"NA"},{"1":"18","2":"25","3":"5","4":"custserv","5":"16","6":"NA"},{"1":"0","2":"27","3":"11","4":"custserv","5":"17","6":"NA"},{"1":"10","2":"24","3":"12","4":"custserv","5":"18","6":"NA"},{"1":"15","2":"23","3":"10","4":"custserv","5":"19","6":"NA"},{"1":"8","2":"29","3":"14","4":"custserv","5":"20","6":"NA"},{"1":"6","2":"27","3":"11","4":"custserv","5":"21","6":"NA"},{"1":"10","2":"17","3":"8","4":"custserv","5":"22","6":"NA"},{"1":"1","2":"30","3":"6","4":"custserv","5":"23","6":"NA"},{"1":"14","2":"29","3":"7","4":"custserv","5":"24","6":"NA"},{"1":"13","2":"21","3":"11","4":"custserv","5":"25","6":"NA"},{"1":"21","2":"31","3":"11","4":"custserv","5":"26","6":"NA"},{"1":"12","2":"26","3":"9","4":"custserv","5":"27","6":"NA"},{"1":"12","2":"22","3":"9","4":"custserv","5":"28","6":"NA"},{"1":"5","2":"25","3":"7","4":"custserv","5":"29","6":"NA"},{"1":"10","2":"24","3":"5","4":"custserv","5":"30","6":"NA"},{"1":"3","2":"20","3":"14","4":"custserv","5":"31","6":"NA"},{"1":"6","2":"25","3":"12","4":"custserv","5":"32","6":"NA"},{"1":"11","2":"27","3":"10","4":"custserv","5":"33","6":"NA"},{"1":"13","2":"21","3":"14","4":"custserv","5":"34","6":"NA"},{"1":"11","2":"23","3":"5","4":"custserv","5":"35","6":"NA"},{"1":"8","2":"18","3":"8","4":"custserv","5":"36","6":"NA"},{"1":"5","2":"17","3":"9","4":"custserv","5":"37","6":"NA"},{"1":"11","2":"22","3":"11","4":"custserv","5":"38","6":"NA"},{"1":"14","2":"22","3":"11","4":"custserv","5":"39","6":"NA"},{"1":"22","2":"22","3":"6","4":"custserv","5":"40","6":"NA"},{"1":"16","2":"28","3":"6","4":"custserv","5":"41","6":"NA"},{"1":"12","2":"25","3":"8","4":"custserv","5":"42","6":"NA"},{"1":"12","2":"25","3":"7","4":"custserv","5":"43","6":"NA"},{"1":"15","2":"21","3":"4","4":"custserv","5":"44","6":"NA"},{"1":"11","2":"28","3":"8","4":"custserv","5":"45","6":"NA"},{"1":"11","2":"20","3":"9","4":"custserv","5":"46","6":"NA"},{"1":"15","2":"19","3":"9","4":"custserv","5":"47","6":"NA"},{"1":"15","2":"24","3":"7","4":"custserv","5":"48","6":"NA"},{"1":"15","2":"21","3":"10","4":"custserv","5":"49","6":"NA"},{"1":"17","2":"26","3":"7","4":"custserv","5":"50","6":"NA"},{"1":"12","2":"28","3":"13","4":"custserv","5":"51","6":"NA"},{"1":"7","2":"28","3":"12","4":"custserv","5":"52","6":"NA"},{"1":"14","2":"12","3":"6","4":"custserv","5":"53","6":"NA"},{"1":"22","2":"24","3":"6","4":"custserv","5":"54","6":"NA"},{"1":"22","2":"27","3":"12","4":"custserv","5":"55","6":"NA"},{"1":"18","2":"30","3":"9","4":"custserv","5":"56","6":"NA"},{"1":"16","2":"18","3":"5","4":"custserv","5":"57","6":"NA"},{"1":"12","2":"23","3":"4","4":"custserv","5":"58","6":"NA"},{"1":"16","2":"22","3":"2","4":"custserv","5":"59","6":"NA"},{"1":"15","2":"26","3":"9","4":"custserv","5":"60","6":"NA"},{"1":"7","2":"13","3":"7","4":"custserv","5":"61","6":"NA"},{"1":"6","2":"18","3":"6","4":"custserv","5":"62","6":"NA"},{"1":"9","2":"24","3":"6","4":"custserv","5":"63","6":"NA"},{"1":"9","2":"20","3":"12","4":"custserv","5":"64","6":"NA"},{"1":"20","2":"28","3":"8","4":"custserv","5":"65","6":"NA"},{"1":"5","2":"22","3":"15","4":"custserv","5":"66","6":"NA"},{"1":"14","2":"26","3":"17","4":"custserv","5":"67","6":"NA"},{"1":"8","2":"28","3":"12","4":"custserv","5":"68","6":"NA"},{"1":"14","2":"22","3":"9","4":"custserv","5":"69","6":"NA"},{"1":"15","2":"26","3":"4","4":"custserv","5":"70","6":"NA"},{"1":"15","2":"25","3":"10","4":"custserv","5":"71","6":"NA"},{"1":"14","2":"27","3":"6","4":"custserv","5":"72","6":"NA"},{"1":"15","2":"25","3":"11","4":"custserv","5":"73","6":"NA"},{"1":"11","2":"26","3":"9","4":"custserv","5":"74","6":"NA"},{"1":"10","2":"28","3":"5","4":"custserv","5":"75","6":"NA"},{"1":"7","2":"22","3":"10","4":"custserv","5":"76","6":"NA"},{"1":"11","2":"15","3":"12","4":"custserv","5":"77","6":"NA"},{"1":"14","2":"25","3":"15","4":"custserv","5":"78","6":"NA"},{"1":"18","2":"28","3":"7","4":"custserv","5":"79","6":"NA"},{"1":"14","2":"29","3":"8","4":"custserv","5":"80","6":"NA"},{"1":"17","2":"20","3":"6","4":"custserv","5":"81","6":"NA"},{"1":"13","2":"25","3":"14","4":"custserv","5":"82","6":"NA"},{"1":"9","2":"21","3":"12","4":"custserv","5":"83","6":"NA"},{"1":"13","2":"26","3":"13","4":"custserv","5":"84","6":"NA"},{"1":"16","2":"24","3":"10","4":"custserv","5":"85","6":"NA"},{"1":"20","2":"27","3":"6","4":"mechanic","5":"1","6":"NA"},{"1":"21","2":"15","3":"10","4":"mechanic","5":"2","6":"NA"},{"1":"15","2":"27","3":"12","4":"mechanic","5":"3","6":"NA"},{"1":"15","2":"29","3":"8","4":"mechanic","5":"4","6":"NA"},{"1":"11","2":"25","3":"11","4":"mechanic","5":"5","6":"NA"},{"1":"24","2":"9","3":"17","4":"mechanic","5":"6","6":"NA"},{"1":"18","2":"21","3":"13","4":"mechanic","5":"7","6":"NA"},{"1":"14","2":"18","3":"4","4":"mechanic","5":"8","6":"NA"},{"1":"13","2":"22","3":"12","4":"mechanic","5":"9","6":"NA"},{"1":"17","2":"21","3":"9","4":"mechanic","5":"10","6":"NA"},{"1":"16","2":"28","3":"13","4":"mechanic","5":"11","6":"NA"},{"1":"15","2":"22","3":"12","4":"mechanic","5":"12","6":"NA"},{"1":"24","2":"20","3":"15","4":"mechanic","5":"13","6":"NA"},{"1":"14","2":"19","3":"13","4":"mechanic","5":"14","6":"NA"},{"1":"14","2":"28","3":"1","4":"mechanic","5":"15","6":"NA"},{"1":"18","2":"17","3":"11","4":"mechanic","5":"16","6":"NA"},{"1":"14","2":"24","3":"7","4":"mechanic","5":"17","6":"NA"},{"1":"12","2":"16","3":"10","4":"mechanic","5":"18","6":"NA"},{"1":"16","2":"21","3":"10","4":"mechanic","5":"19","6":"NA"},{"1":"18","2":"19","3":"9","4":"mechanic","5":"20","6":"NA"},{"1":"19","2":"26","3":"7","4":"mechanic","5":"21","6":"NA"},{"1":"13","2":"20","3":"10","4":"mechanic","5":"22","6":"NA"},{"1":"28","2":"16","3":"10","4":"mechanic","5":"23","6":"NA"},{"1":"17","2":"19","3":"11","4":"mechanic","5":"24","6":"NA"},{"1":"24","2":"14","3":"7","4":"mechanic","5":"25","6":"NA"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"26","6":"NA"},{"1":"22","2":"12","3":"8","4":"mechanic","5":"27","6":"NA"},{"1":"22","2":"21","3":"11","4":"mechanic","5":"28","6":"NA"},{"1":"21","2":"19","3":"9","4":"mechanic","5":"29","6":"NA"},{"1":"18","2":"24","3":"13","4":"mechanic","5":"30","6":"NA"},{"1":"23","2":"27","3":"11","4":"mechanic","5":"31","6":"NA"},{"1":"20","2":"23","3":"12","4":"mechanic","5":"32","6":"NA"},{"1":"19","2":"13","3":"7","4":"mechanic","5":"33","6":"NA"},{"1":"17","2":"28","3":"13","4":"mechanic","5":"34","6":"NA"},{"1":"20","2":"24","3":"5","4":"mechanic","5":"35","6":"NA"},{"1":"21","2":"23","3":"11","4":"mechanic","5":"36","6":"NA"},{"1":"17","2":"21","3":"15","4":"mechanic","5":"37","6":"NA"},{"1":"11","2":"25","3":"12","4":"mechanic","5":"38","6":"NA"},{"1":"14","2":"19","3":"14","4":"mechanic","5":"39","6":"NA"},{"1":"18","2":"24","3":"5","4":"mechanic","5":"40","6":"NA"},{"1":"13","2":"14","3":"7","4":"mechanic","5":"41","6":"NA"},{"1":"22","2":"18","3":"16","4":"mechanic","5":"42","6":"NA"},{"1":"25","2":"17","3":"13","4":"mechanic","5":"43","6":"NA"},{"1":"19","2":"25","3":"13","4":"mechanic","5":"44","6":"NA"},{"1":"20","2":"20","3":"9","4":"mechanic","5":"45","6":"NA"},{"1":"21","2":"25","3":"11","4":"mechanic","5":"46","6":"NA"},{"1":"17","2":"24","3":"11","4":"mechanic","5":"47","6":"NA"},{"1":"18","2":"26","3":"10","4":"mechanic","5":"48","6":"NA"},{"1":"21","2":"29","3":"11","4":"mechanic","5":"49","6":"NA"},{"1":"17","2":"21","3":"12","4":"mechanic","5":"50","6":"NA"},{"1":"17","2":"19","3":"12","4":"mechanic","5":"51","6":"NA"},{"1":"17","2":"16","3":"6","4":"mechanic","5":"52","6":"NA"},{"1":"16","2":"22","3":"5","4":"mechanic","5":"53","6":"NA"},{"1":"22","2":"19","3":"10","4":"mechanic","5":"54","6":"NA"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"55","6":"NA"},{"1":"16","2":"23","3":"9","4":"mechanic","5":"56","6":"NA"},{"1":"18","2":"27","3":"11","4":"mechanic","5":"57","6":"NA"},{"1":"21","2":"24","3":"12","4":"mechanic","5":"58","6":"NA"},{"1":"15","2":"22","3":"13","4":"mechanic","5":"59","6":"NA"},{"1":"19","2":"26","3":"12","4":"mechanic","5":"60","6":"NA"},{"1":"14","2":"17","3":"11","4":"mechanic","5":"61","6":"NA"},{"1":"15","2":"23","3":"7","4":"mechanic","5":"62","6":"NA"},{"1":"23","2":"20","3":"16","4":"mechanic","5":"63","6":"NA"},{"1":"22","2":"26","3":"15","4":"mechanic","5":"64","6":"NA"},{"1":"13","2":"16","3":"11","4":"mechanic","5":"65","6":"NA"},{"1":"25","2":"29","3":"11","4":"mechanic","5":"66","6":"NA"},{"1":"23","2":"24","3":"7","4":"mechanic","5":"67","6":"NA"},{"1":"17","2":"29","3":"9","4":"mechanic","5":"68","6":"NA"},{"1":"21","2":"19","3":"7","4":"mechanic","5":"69","6":"NA"},{"1":"15","2":"13","3":"6","4":"mechanic","5":"70","6":"NA"},{"1":"19","2":"27","3":"14","4":"mechanic","5":"71","6":"NA"},{"1":"22","2":"24","3":"14","4":"mechanic","5":"72","6":"NA"},{"1":"17","2":"18","3":"8","4":"mechanic","5":"73","6":"NA"},{"1":"21","2":"19","3":"8","4":"mechanic","5":"74","6":"NA"},{"1":"24","2":"18","3":"13","4":"mechanic","5":"75","6":"NA"},{"1":"21","2":"12","3":"9","4":"mechanic","5":"76","6":"NA"},{"1":"15","2":"17","3":"8","4":"mechanic","5":"77","6":"NA"},{"1":"24","2":"22","3":"14","4":"mechanic","5":"78","6":"NA"},{"1":"19","2":"19","3":"7","4":"mechanic","5":"79","6":"NA"},{"1":"23","2":"16","3":"10","4":"mechanic","5":"80","6":"NA"},{"1":"21","2":"29","3":"12","4":"mechanic","5":"81","6":"NA"},{"1":"20","2":"19","3":"11","4":"mechanic","5":"82","6":"NA"},{"1":"18","2":"28","3":"0","4":"mechanic","5":"83","6":"NA"},{"1":"23","2":"21","3":"16","4":"mechanic","5":"84","6":"NA"},{"1":"17","2":"17","3":"8","4":"mechanic","5":"85","6":"NA"},{"1":"17","2":"24","3":"5","4":"mechanic","5":"86","6":"NA"},{"1":"17","2":"18","3":"15","4":"mechanic","5":"87","6":"NA"},{"1":"17","2":"23","3":"10","4":"mechanic","5":"88","6":"NA"},{"1":"19","2":"15","3":"10","4":"mechanic","5":"89","6":"NA"},{"1":"17","2":"20","3":"8","4":"mechanic","5":"90","6":"NA"},{"1":"25","2":"20","3":"8","4":"mechanic","5":"91","6":"NA"},{"1":"16","2":"19","3":"8","4":"mechanic","5":"92","6":"NA"},{"1":"19","2":"16","3":"6","4":"mechanic","5":"93","6":"NA"},{"1":"19","2":"19","3":"16","4":"dispatcher","5":"1","6":"NA"},{"1":"17","2":"17","3":"12","4":"dispatcher","5":"2","6":"NA"},{"1":"8","2":"17","3":"14","4":"dispatcher","5":"3","6":"NA"},{"1":"13","2":"20","3":"16","4":"dispatcher","5":"4","6":"NA"},{"1":"14","2":"18","3":"4","4":"dispatcher","5":"5","6":"NA"},{"1":"17","2":"12","3":"13","4":"dispatcher","5":"6","6":"NA"},{"1":"17","2":"12","3":"17","4":"dispatcher","5":"7","6":"NA"},{"1":"14","2":"21","3":"16","4":"dispatcher","5":"8","6":"NA"},{"1":"19","2":"18","3":"12","4":"dispatcher","5":"9","6":"NA"},{"1":"18","2":"16","3":"15","4":"dispatcher","5":"10","6":"NA"},{"1":"15","2":"14","3":"17","4":"dispatcher","5":"11","6":"NA"},{"1":"20","2":"15","3":"7","4":"dispatcher","5":"12","6":"NA"},{"1":"24","2":"20","3":"13","4":"dispatcher","5":"13","6":"NA"},{"1":"16","2":"16","3":"17","4":"dispatcher","5":"14","6":"NA"},{"1":"17","2":"15","3":"10","4":"dispatcher","5":"15","6":"NA"},{"1":"17","2":"10","3":"12","4":"dispatcher","5":"16","6":"NA"},{"1":"11","2":"16","3":"11","4":"dispatcher","5":"17","6":"NA"},{"1":"15","2":"18","3":"14","4":"dispatcher","5":"18","6":"NA"},{"1":"20","2":"19","3":"16","4":"dispatcher","5":"19","6":"NA"},{"1":"14","2":"22","3":"16","4":"dispatcher","5":"20","6":"NA"},{"1":"13","2":"15","3":"18","4":"dispatcher","5":"21","6":"NA"},{"1":"16","2":"14","3":"13","4":"dispatcher","5":"22","6":"NA"},{"1":"12","2":"12","3":"6","4":"dispatcher","5":"23","6":"NA"},{"1":"17","2":"17","3":"19","4":"dispatcher","5":"24","6":"NA"},{"1":"10","2":"8","3":"16","4":"dispatcher","5":"25","6":"NA"},{"1":"11","2":"17","3":"20","4":"dispatcher","5":"26","6":"NA"},{"1":"13","2":"16","3":"7","4":"dispatcher","5":"27","6":"NA"},{"1":"19","2":"15","3":"13","4":"dispatcher","5":"28","6":"NA"},{"1":"15","2":"11","3":"13","4":"dispatcher","5":"29","6":"NA"},{"1":"17","2":"11","3":"10","4":"dispatcher","5":"30","6":"NA"},{"1":"15","2":"10","3":"13","4":"dispatcher","5":"31","6":"NA"},{"1":"19","2":"14","3":"12","4":"dispatcher","5":"32","6":"NA"},{"1":"19","2":"14","3":"15","4":"dispatcher","5":"33","6":"NA"},{"1":"4","2":"12","3":"11","4":"dispatcher","5":"34","6":"NA"},{"1":"13","2":"12","3":"15","4":"dispatcher","5":"35","6":"NA"},{"1":"20","2":"13","3":"19","4":"dispatcher","5":"36","6":"NA"},{"1":"14","2":"18","3":"14","4":"dispatcher","5":"37","6":"NA"},{"1":"10","2":"12","3":"9","4":"dispatcher","5":"38","6":"NA"},{"1":"11","2":"12","3":"19","4":"dispatcher","5":"39","6":"NA"},{"1":"8","2":"20","3":"8","4":"dispatcher","5":"40","6":"NA"},{"1":"14","2":"16","3":"7","4":"dispatcher","5":"41","6":"NA"},{"1":"18","2":"20","3":"15","4":"dispatcher","5":"42","6":"NA"},{"1":"19","2":"7","3":"13","4":"dispatcher","5":"43","6":"NA"},{"1":"21","2":"13","3":"11","4":"dispatcher","5":"44","6":"NA"},{"1":"14","2":"26","3":"15","4":"dispatcher","5":"45","6":"NA"},{"1":"25","2":"16","3":"12","4":"dispatcher","5":"46","6":"NA"},{"1":"18","2":"11","3":"19","4":"dispatcher","5":"47","6":"NA"},{"1":"14","2":"16","3":"6","4":"dispatcher","5":"48","6":"NA"},{"1":"13","2":"20","3":"18","4":"dispatcher","5":"49","6":"NA"},{"1":"20","2":"16","3":"14","4":"dispatcher","5":"50","6":"NA"},{"1":"12","2":"14","3":"8","4":"dispatcher","5":"51","6":"NA"},{"1":"16","2":"19","3":"12","4":"dispatcher","5":"52","6":"NA"},{"1":"21","2":"15","3":"7","4":"dispatcher","5":"53","6":"NA"},{"1":"18","2":"23","3":"15","4":"dispatcher","5":"54","6":"NA"},{"1":"19","2":"11","3":"13","4":"dispatcher","5":"55","6":"NA"},{"1":"17","2":"18","3":"9","4":"dispatcher","5":"56","6":"NA"},{"1":"4","2":"10","3":"15","4":"dispatcher","5":"57","6":"NA"},{"1":"17","2":"17","3":"14","4":"dispatcher","5":"58","6":"NA"},{"1":"14","2":"13","3":"12","4":"dispatcher","5":"59","6":"NA"},{"1":"15","2":"16","3":"14","4":"dispatcher","5":"60","6":"NA"},{"1":"20","2":"13","3":"18","4":"dispatcher","5":"61","6":"NA"},{"1":"20","2":"14","3":"18","4":"dispatcher","5":"62","6":"NA"},{"1":"16","2":"22","3":"12","4":"dispatcher","5":"63","6":"NA"},{"1":"9","2":"13","3":"16","4":"dispatcher","5":"64","6":"NA"},{"1":"15","2":"13","3":"13","4":"dispatcher","5":"65","6":"NA"},{"1":"18","2":"20","3":"10","4":"dispatcher","5":"66","6":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I like this better because you see the actual factor levels rather than the underlying numeric values by which they are stored.</p>
<p>All is good here. If you forget the <code>labels</code> thing, you’ll get a factor, but its levels will be 1, 2, and 3, and you will have to remember which jobs they go with. I’m a fan of giving factors named levels, so that you can remember what stands for what.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<p>Extra: another way of doing this is to make a lookup table, that is, a little table that shows which job goes with which number:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>lookup_tab <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>job, <span class="sc">~</span>jobname,</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span>, <span class="st">"custserv"</span>,</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span>, <span class="st">"mechanic"</span>,</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span>, <span class="st">"dispatcher"</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>lookup_tab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["jobname"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"custserv"},{"1":"2","2":"mechanic"},{"1":"3","2":"dispatcher"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I carefully put the numbers in a column called <code>job</code> because I want to match these with the column called <code>job</code> in <code>jobs0</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>jobs0 <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(lookup_tab) <span class="sc">%&gt;%</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(job)`</code></pre>
</div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["X6"],"name":[6],"type":["chr"],"align":["left"]},{"label":["jobname"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"18","2":"25","3":"5","4":"1","5":"16","6":"NA","7":"custserv"},{"1":"18","2":"23","3":"15","4":"3","5":"54","6":"NA","7":"dispatcher"},{"1":"16","2":"35","3":"13","4":"1","5":"10","6":"NA","7":"custserv"},{"1":"14","2":"19","3":"13","4":"2","5":"14","6":"NA","7":"mechanic"},{"1":"4","2":"12","3":"11","4":"3","5":"34","6":"NA","7":"dispatcher"},{"1":"12","2":"14","3":"8","4":"3","5":"51","6":"NA","7":"dispatcher"},{"1":"11","2":"20","3":"9","4":"1","5":"46","6":"NA","7":"custserv"},{"1":"20","2":"24","3":"5","4":"2","5":"35","6":"NA","7":"mechanic"},{"1":"13","2":"14","3":"7","4":"2","5":"41","6":"NA","7":"mechanic"},{"1":"16","2":"24","3":"10","4":"1","5":"85","6":"NA","7":"custserv"},{"1":"17","2":"24","3":"11","4":"2","5":"47","6":"NA","7":"mechanic"},{"1":"18","2":"16","3":"15","4":"3","5":"10","6":"NA","7":"dispatcher"},{"1":"7","2":"28","3":"12","4":"1","5":"52","6":"NA","7":"custserv"},{"1":"11","2":"26","3":"9","4":"1","5":"74","6":"NA","7":"custserv"},{"1":"15","2":"23","3":"10","4":"1","5":"19","6":"NA","7":"custserv"},{"1":"13","2":"16","3":"7","4":"3","5":"27","6":"NA","7":"dispatcher"},{"1":"25","2":"17","3":"13","4":"2","5":"43","6":"NA","7":"mechanic"},{"1":"17","2":"18","3":"8","4":"2","5":"73","6":"NA","7":"mechanic"},{"1":"12","2":"22","3":"9","4":"1","5":"28","6":"NA","7":"custserv"},{"1":"19","2":"15","3":"10","4":"2","5":"89","6":"NA","7":"mechanic"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>You see that each row has the <em>name</em> of the job that employee has, in the column <code>jobname</code>, because the job <code>id</code> was looked up in our lookup table. (I displayed some random rows so you could see that it worked.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li>Run a multivariate analysis of variance to convince yourself that there are some differences in scale scores among the jobs.</li>
</ol>
<p>Solution</p>
<p>You know how to do this, right? This one is the easy way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">with</span>(jobs, <span class="fu">cbind</span>(social, outdoor, conservative))</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>response<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">manova</span>(response <span class="sc">~</span> job, <span class="at">data =</span> jobs)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(response<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Df  Pillai approx F num Df den Df    Pr(&gt;F)    
job         2 0.76207   49.248      6    480 &lt; 2.2e-16 ***
Residuals 241                                             
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Or you can use <code>Manova</code>. That is mostly for practice here, since there is no reason to make things difficult for yourself:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>response<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">lm</span>(response <span class="sc">~</span> job, <span class="at">data =</span> jobs)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">Manova</span>(response<span class="fl">.2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Type II MANOVA Tests:

Sum of squares and products for error:
                social    outdoor conservative
social       4406.2994  334.90273    235.46301
outdoor       334.9027 4082.46302     64.76334
conservative  235.4630   64.76334   2683.25695

------------------------------------------
 
Term: job 

Sum of squares and products for the hypothesis:
                 social   outdoor conservative
social        2889.1228 -794.3945   -1405.8401
outdoor       -794.3945 1609.7993     283.1711
conservative -1405.8401  283.1711     691.7594

Multivariate Tests: job
                 Df test stat approx F num Df den Df     Pr(&gt;F)    
Pillai            2 0.7620657 49.24757      6    480 &lt; 2.22e-16 ***
Wilks             2 0.3639880 52.38173      6    478 &lt; 2.22e-16 ***
Hotelling-Lawley  2 1.4010307 55.57422      6    476 &lt; 2.22e-16 ***
Roy               2 1.0805270 86.44216      3    240 &lt; 2.22e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>This version gives the four different versions of the test (rather than just the Pillai test that <code>manova</code> gives), but the results are in this case identical for all of them.</p>
<p>So: oh yes, there are differences (on some or all of the variables, for some or all of the groups). So we need something like discriminant analysis to understand the differences.</p>
<p>We really ought to follow this up with Box’s M test, to be sure that the variances and correlations for each variable are equal enough across the groups, but we note off the top that the P-values (all of them) are really small, so there ought not to be much doubt about the conclusion anyway:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">BoxM</span>(response, jobs<span class="sc">$</span>job))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Box's M Test 

Chi-Squared Value = 25.64176 , df = 12  and p-value: 0.0121 </code></pre>
</div>
</div>
<p>This is small, but not (for this test) small enough to worry about (it’s not less than 0.001).</p>
<p>This, and the <code>lda</code> below, actually works perfectly well if you use the original (integer) job, but then you have to remember which job number is which.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li>Run a discriminant analysis and display the output.</li>
</ol>
<p>Solution</p>
<p>Now <code>job</code> is the “response”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>job<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(job <span class="sc">~</span> social <span class="sc">+</span> outdoor <span class="sc">+</span> conservative, <span class="at">data =</span> jobs)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>job<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(job ~ social + outdoor + conservative, data = jobs)

Prior probabilities of groups:
  custserv   mechanic dispatcher 
 0.3483607  0.3811475  0.2704918 

Group means:
             social  outdoor conservative
custserv   24.22353 12.51765     9.023529
mechanic   21.13978 18.53763    10.139785
dispatcher 15.45455 15.57576    13.242424

Coefficients of linear discriminants:
                     LD1         LD2
social       -0.19427415 -0.04978105
outdoor       0.09198065 -0.22501431
conservative  0.15499199  0.08734288

Proportion of trace:
   LD1    LD2 
0.7712 0.2288 </code></pre>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li>Which is the more important, <code>LD1</code> or <code>LD2</code>? How much more important? Justify your answer briefly.</li>
</ol>
<p>Solution</p>
<p>Look at the “proportion of trace” at the bottom. The value for <code>LD1</code> is quite a bit higher, so <code>LD1</code> is quite a bit more important when it comes to separating the groups. <code>LD2</code> is, as I said, less important, but is not completely worthless, so it will be worth taking a look at it.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li>Describe what values for an individual on the scales will make each of <code>LD1</code> and <code>LD2</code> high.</li>
</ol>
<p>Solution</p>
<p>This is a two-parter: decide whether each scale makes a positive, negative or zero contribution to the linear discriminant (looking at the “coefficients of linear discriminants”), and then translate that into what would make each <code>LD</code> high. Let’s start with <code>LD1</code>:</p>
<p>Its coefficients on the three scales are respectively negative (<span class="math inline">\(-0.19\)</span>), zero (0.09; my call) and positive (0.15). Where you draw the line is up to you: if you want to say that <code>outdoor</code>’s contribution is positive, go ahead. This means that <code>LD1</code> will be high if <code>social</code> is <em>low</em> and if <code>conservative</code> is <em>high</em>. (If you thought that <code>outdoor</code>’s coefficient was positive rather than zero, if <code>outdoor</code> is high as well.)</p>
<p>Now for <code>LD2</code>: I’m going to call <code>outdoor</code>’s coefficient of <span class="math inline">\(-0.22\)</span> negative and the other two zero, so that <code>LD2</code> is high if <code>outdoor</code> is <em>low</em>. Again, if you made a different judgement call, adapt your answer accordingly.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li>The first group of employees, customer service, have the highest mean on <code>social</code> and the lowest mean on both of the other two scales. Would you expect the customer service employees to score high or low on <code>LD1</code>? What about <code>LD2</code>?</li>
</ol>
<p>Solution</p>
<p>In the light of what we said in the previous part, the customer service employees, who are high on <code>social</code> and low on <code>conservative</code>, should be <em>low</em> (negative) on <code>LD1</code>, since both of these means are pointing that way. As I called it, the only thing that matters to <code>LD2</code> is <code>outdoor</code>, which is <em>low</em> for the customer service employees, and thus <code>LD2</code> for them will be <em>high</em> (negative coefficient).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="8" type="a">
<li>Plot your discriminant scores (which you will have to obtain first), and see if you were right about the customer service employees in terms of <code>LD1</code> and <code>LD2</code>. The job names are rather long, and there are a lot of individuals, so it is probably best to plot the scores as coloured circles with a legend saying which colour goes with which job (rather than labelling each individual with the job they have).</li>
</ol>
<p>Solution</p>
<p>Predictions first, then make a data frame combining the predictions with the original data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">predict</span>(job<span class="fl">.1</span>)</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jobs, p)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["fct"],"align":["left"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["X6"],"name":[6],"type":["chr"],"align":["left"]},{"label":["class"],"name":[7],"type":["fct"],"align":["left"]},{"label":["posterior.custserv"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"10","2":"22","3":"5","4":"custserv","5":"1","6":"NA","7":"custserv","8":"9.037622e-01","9":"0.0889478485","10":"7.289988e-03","11":"-1.642315532","12":"7.147735e-01","_rn_":"1"},{"1":"14","2":"17","3":"6","4":"custserv","5":"2","6":"NA","7":"mechanic","8":"3.677743e-01","9":"0.4889789008","10":"1.432468e-01","11":"-0.148030225","12":"1.509644e-01","_rn_":"2"},{"1":"19","2":"33","3":"7","4":"custserv","5":"3","6":"NA","7":"custserv","8":"7.302117e-01","9":"0.2694697105","10":"3.186265e-04","11":"-2.641521325","12":"-1.683261e+00","_rn_":"3"},{"1":"14","2":"29","3":"12","4":"custserv","5":"4","6":"NA","7":"custserv","8":"8.100756e-01","9":"0.1821731894","10":"7.751215e-03","11":"-1.549368056","12":"7.764901e-02","_rn_":"4"},{"1":"14","2":"25","3":"7","4":"custserv","5":"5","6":"NA","7":"custserv","8":"7.677607e-01","9":"0.2250538225","10":"7.185490e-03","11":"-1.547231403","12":"-1.599412e-01","_rn_":"5"},{"1":"20","2":"25","3":"12","4":"custserv","5":"6","6":"NA","7":"mechanic","8":"1.682521e-01","9":"0.7848248752","10":"4.692305e-02","11":"-0.220387584","12":"-1.073313e+00","_rn_":"6"},{"1":"6","2":"18","3":"4","4":"custserv","5":"7","6":"NA","7":"custserv","8":"9.408328e-01","9":"0.0424620706","10":"1.670509e-02","11":"-1.388133530","12":"1.726612e+00","_rn_":"7"},{"1":"13","2":"27","3":"7","4":"custserv","5":"8","6":"NA","7":"custserv","8":"8.790086e-01","9":"0.1186423050","10":"2.349121e-03","11":"-2.027760343","12":"-3.448896e-02","_rn_":"8"},{"1":"18","2":"31","3":"9","4":"custserv","5":"9","6":"NA","7":"custserv","8":"6.767464e-01","9":"0.3217022453","10":"1.551373e-03","11":"-2.034969711","12":"-1.183999e+00","_rn_":"9"},{"1":"16","2":"35","3":"13","4":"custserv","5":"10","6":"NA","7":"custserv","8":"8.643564e-01","9":"0.1347795344","10":"8.641095e-04","11":"-2.376059646","12":"-5.837230e-01","_rn_":"10"},{"1":"17","2":"25","3":"8","4":"custserv","5":"11","6":"NA","7":"custserv","8":"4.950388e-01","9":"0.4914751264","10":"1.348603e-02","11":"-1.116297472","12":"-7.476412e-01","_rn_":"11"},{"1":"10","2":"29","3":"11","4":"custserv","5":"12","6":"NA","7":"custserv","8":"9.537446e-01","9":"0.0437303474","10":"2.525084e-03","11":"-2.072282636","12":"8.903634e-01","_rn_":"12"},{"1":"17","2":"25","3":"7","4":"custserv","5":"13","6":"NA","7":"custserv","8":"5.240823e-01","9":"0.4665293631","10":"9.388337e-03","11":"-1.271289458","12":"-8.349841e-01","_rn_":"13"},{"1":"10","2":"22","3":"13","4":"custserv","5":"14","6":"NA","7":"custserv","8":"6.819795e-01","9":"0.1606625929","10":"1.573579e-01","11":"-0.402379646","12":"1.413517e+00","_rn_":"14"},{"1":"10","2":"31","3":"13","4":"custserv","5":"15","6":"NA","7":"custserv","8":"9.613543e-01","9":"0.0365588154","10":"2.086923e-03","11":"-2.150846955","12":"9.654870e-01","_rn_":"15"},{"1":"18","2":"25","3":"5","4":"custserv","5":"16","6":"NA","7":"mechanic","8":"4.887584e-01","9":"0.5065409138","10":"4.700656e-03","11":"-1.489292781","12":"-1.234684e+00","_rn_":"16"},{"1":"0","2":"27","3":"11","4":"custserv","5":"17","6":"NA","7":"custserv","8":"9.974534e-01","9":"0.0016911727","10":"8.554731e-04","11":"-2.603540829","12":"3.240069e+00","_rn_":"17"},{"1":"10","2":"24","3":"12","4":"custserv","5":"18","6":"NA","7":"custserv","8":"8.370707e-01","9":"0.1179003525","10":"4.502895e-02","11":"-0.945919923","12":"1.226612e+00","_rn_":"18"},{"1":"15","2":"23","3":"10","4":"custserv","5":"19","6":"NA","7":"custserv","8":"5.004012e-01","9":"0.4419175871","10":"5.768116e-02","11":"-0.601726507","12":"-2.336475e-02","_rn_":"19"},{"1":"8","2":"29","3":"14","4":"custserv","5":"20","6":"NA","7":"custserv","8":"9.649054e-01","9":"0.0292665325","10":"5.828045e-03","11":"-1.791267975","12":"1.602421e+00","_rn_":"20"},{"1":"6","2":"27","3":"11","4":"custserv","5":"21","6":"NA","7":"custserv","8":"9.815677e-01","9":"0.0153480620","10":"3.084262e-03","11":"-2.051656939","12":"1.889983e+00","_rn_":"21"},{"1":"10","2":"17","3":"8","4":"custserv","5":"22","6":"NA","7":"custserv","8":"5.697748e-01","9":"0.2142654531","10":"2.159598e-01","11":"-0.205968848","12":"1.225707e+00","_rn_":"22"},{"1":"1","2":"30","3":"6","4":"custserv","5":"23","6":"NA","7":"custserv","8":"9.991982e-01","9":"0.0007741549","10":"2.761694e-05","11":"-3.869342546","12":"2.428997e+00","_rn_":"23"},{"1":"14","2":"29","3":"7","4":"custserv","5":"24","6":"NA","7":"custserv","8":"8.837774e-01","9":"0.1151828840","10":"1.039703e-03","11":"-2.324327985","12":"-3.590654e-01","_rn_":"24"},{"1":"13","2":"21","3":"11","4":"custserv","5":"25","6":"NA","7":"custserv","8":"4.938044e-01","9":"0.3478209184","10":"1.583747e-01","11":"-0.242147527","12":"6.135689e-01","_rn_":"25"},{"1":"21","2":"31","3":"11","4":"custserv","5":"26","6":"NA","7":"mechanic","8":"3.564096e-01","9":"0.6399736784","10":"3.616675e-03","11":"-1.449043794","12":"-1.684356e+00","_rn_":"26"},{"1":"12","2":"26","3":"9","4":"custserv","5":"27","6":"NA","7":"custserv","8":"8.693126e-01","9":"0.1234199965","10":"7.267402e-03","11":"-1.615482874","12":"4.149922e-01","_rn_":"27"},{"1":"12","2":"22","3":"9","4":"custserv","5":"28","6":"NA","7":"custserv","8":"7.215912e-01","9":"0.2304179226","10":"4.799088e-02","11":"-0.838386292","12":"6.141164e-01","_rn_":"28"},{"1":"5","2":"25","3":"7","4":"custserv","5":"29","6":"NA","7":"custserv","8":"9.883365e-01","9":"0.0103444748","10":"1.319044e-03","11":"-2.375057239","12":"1.865188e+00","_rn_":"29"},{"1":"10","2":"24","3":"5","4":"custserv","5":"30","6":"NA","7":"custserv","8":"9.359042e-01","9":"0.0614193101","10":"2.676529e-03","11":"-2.030863823","12":"6.152114e-01","_rn_":"30"},{"1":"3","2":"20","3":"14","4":"custserv","5":"31","6":"NA","7":"custserv","8":"8.018758e-01","9":"0.0236590252","10":"1.744651e-01","11":"-0.502703908","12":"3.175522e+00","_rn_":"31"},{"1":"6","2":"25","3":"12","4":"custserv","5":"32","6":"NA","7":"custserv","8":"9.618798e-01","9":"0.0251561754","10":"1.296402e-02","11":"-1.508116662","12":"2.076888e+00","_rn_":"32"},{"1":"11","2":"27","3":"10","4":"custserv","5":"33","6":"NA","7":"custserv","8":"9.129230e-01","9":"0.0815110137","10":"5.565968e-03","11":"-1.746745682","12":"6.775683e-01","_rn_":"33"},{"1":"13","2":"21","3":"14","4":"custserv","5":"34","6":"NA","7":"dispatcher","8":"3.220516e-01","9":"0.3146838699","10":"3.632646e-01","11":"0.222828431","12":"8.755975e-01","_rn_":"34"},{"1":"11","2":"23","3":"5","4":"custserv","5":"35","6":"NA","7":"custserv","8":"8.909918e-01","9":"0.1036949094","10":"5.313327e-03","11":"-1.744609029","12":"4.399781e-01","_rn_":"35"},{"1":"8","2":"18","3":"8","4":"custserv","5":"36","6":"NA","7":"custserv","8":"7.734984e-01","9":"0.1132639919","10":"1.132376e-01","11":"-0.584204290","12":"1.625955e+00","_rn_":"36"},{"1":"5","2":"17","3":"9","4":"custserv","5":"37","6":"NA","7":"custserv","8":"7.928969e-01","9":"0.0522175881","10":"1.548856e-01","11":"-0.510880104","12":"2.438122e+00","_rn_":"37"},{"1":"11","2":"22","3":"11","4":"custserv","5":"38","6":"NA","7":"custserv","8":"7.152302e-01","9":"0.1961688726","10":"8.860092e-02","11":"-0.620382969","12":"1.013816e+00","_rn_":"38"},{"1":"14","2":"22","3":"11","4":"custserv","5":"39","6":"NA","7":"custserv","8":"4.830847e-01","9":"0.4023708150","10":"1.145445e-01","11":"-0.344441024","12":"3.387735e-01","_rn_":"39"},{"1":"22","2":"22","3":"6","4":"custserv","5":"40","6":"NA","7":"mechanic","8":"9.523627e-02","9":"0.8890830359","10":"1.568069e-02","11":"-0.383555765","12":"-1.898055e+00","_rn_":"40"},{"1":"16","2":"28","3":"6","4":"custserv","5":"41","6":"NA","7":"custserv","8":"7.679833e-01","9":"0.2304785704","10":"1.538158e-03","11":"-2.101084529","12":"-8.466558e-01","_rn_":"41"},{"1":"12","2":"25","3":"8","4":"custserv","5":"42","6":"NA","7":"custserv","8":"8.582757e-01","9":"0.1338004111","10":"7.923928e-03","11":"-1.576200714","12":"3.774303e-01","_rn_":"42"},{"1":"12","2":"25","3":"7","4":"custserv","5":"43","6":"NA","7":"custserv","8":"8.727131e-01","9":"0.1219886414","10":"5.298216e-03","11":"-1.731192700","12":"2.900875e-01","_rn_":"43"},{"1":"15","2":"21","3":"4","4":"custserv","5":"44","6":"NA","7":"custserv","8":"5.832550e-01","9":"0.4014139446","10":"1.533108e-02","11":"-1.143130131","12":"-4.478599e-01","_rn_":"44"},{"1":"11","2":"28","3":"8","4":"custserv","5":"45","6":"NA","7":"custserv","8":"9.432314e-01","9":"0.0552880094","10":"1.480633e-03","11":"-2.251003799","12":"4.531015e-01","_rn_":"45"},{"1":"11","2":"20","3":"9","4":"custserv","5":"46","6":"NA","7":"custserv","8":"6.748657e-01","9":"0.2231741012","10":"1.019602e-01","11":"-0.541818650","12":"9.386928e-01","_rn_":"46"},{"1":"15","2":"19","3":"9","4":"custserv","5":"47","6":"NA","7":"mechanic","8":"2.955104e-01","9":"0.5262939623","10":"1.781956e-01","11":"0.020378089","12":"8.841658e-02","_rn_":"47"},{"1":"15","2":"24","3":"7","4":"custserv","5":"48","6":"NA","7":"custserv","8":"6.496219e-01","9":"0.3377002656","10":"1.267779e-02","11":"-1.260976609","12":"-3.351744e-01","_rn_":"48"},{"1":"15","2":"21","3":"10","4":"custserv","5":"49","6":"NA","7":"mechanic","8":"3.774214e-01","9":"0.4998701545","10":"1.227084e-01","11":"-0.213178216","12":"7.619736e-02","_rn_":"49"},{"1":"17","2":"26","3":"7","4":"custserv","5":"50","6":"NA","7":"custserv","8":"5.755170e-01","9":"0.4183442282","10":"6.138769e-03","11":"-1.465563603","12":"-8.847652e-01","_rn_":"50"},{"1":"12","2":"28","3":"13","4":"custserv","5":"51","6":"NA","7":"custserv","8":"8.603505e-01","9":"0.1260109570","10":"1.363857e-02","11":"-1.384063222","12":"6.648016e-01","_rn_":"51"},{"1":"7","2":"28","3":"12","4":"custserv","5":"52","6":"NA","7":"custserv","8":"9.764155e-01","9":"0.0201350730","10":"3.449384e-03","11":"-1.998958450","12":"1.702530e+00","_rn_":"52"},{"1":"14","2":"12","3":"6","4":"custserv","5":"53","6":"NA","7":"dispatcher","8":"1.013578e-01","9":"0.3711805789","10":"5.274616e-01","11":"0.823340502","12":"3.998696e-01","_rn_":"53"},{"1":"22","2":"24","3":"6","4":"custserv","5":"54","6":"NA","7":"mechanic","8":"1.373009e-01","9":"0.8546840791","10":"8.015011e-03","11":"-0.772104056","12":"-1.997618e+00","_rn_":"54"},{"1":"22","2":"27","3":"12","4":"custserv","5":"55","6":"NA","7":"mechanic","8":"1.302936e-01","9":"0.8498459777","10":"1.986045e-02","11":"-0.424974578","12":"-1.622903e+00","_rn_":"55"},{"1":"18","2":"30","3":"9","4":"custserv","5":"56","6":"NA","7":"custserv","8":"6.305186e-01","9":"0.3670539517","10":"2.427472e-03","11":"-1.840695565","12":"-1.134218e+00","_rn_":"56"},{"1":"16","2":"18","3":"5","4":"custserv","5":"57","6":"NA","7":"mechanic","8":"3.052008e-01","9":"0.6230462861","10":"7.175295e-02","11":"-0.313335060","12":"-4.361882e-01","_rn_":"57"},{"1":"12","2":"23","3":"4","4":"custserv","5":"58","6":"NA","7":"custserv","8":"8.650641e-01","9":"0.1307240754","10":"4.211839e-03","11":"-1.807620367","12":"1.276209e-01","_rn_":"58"},{"1":"16","2":"22","3":"2","4":"custserv","5":"59","6":"NA","7":"custserv","8":"6.014337e-01","9":"0.3935126078","10":"5.053717e-03","11":"-1.555407599","12":"-8.973410e-01","_rn_":"59"},{"1":"15","2":"26","3":"9","4":"custserv","5":"60","6":"NA","7":"custserv","8":"6.910126e-01","9":"0.2979301609","10":"1.105727e-02","11":"-1.339540929","12":"-2.600508e-01","_rn_":"60"},{"1":"7","2":"13","3":"7","4":"custserv","5":"61","6":"NA","7":"dispatcher","8":"4.375162e-01","9":"0.1092588927","10":"4.532249e-01","11":"0.140193803","12":"2.012532e+00","_rn_":"61"},{"1":"6","2":"18","3":"6","4":"custserv","5":"62","6":"NA","7":"custserv","8":"9.114106e-01","9":"0.0511644494","10":"3.742499e-02","11":"-1.078149559","12":"1.901298e+00","_rn_":"62"},{"1":"9","2":"24","3":"6","4":"custserv","5":"63","6":"NA","7":"custserv","8":"9.487266e-01","9":"0.0479502714","10":"3.323158e-03","11":"-1.967852486","12":"9.275686e-01","_rn_":"63"},{"1":"9","2":"20","3":"12","4":"custserv","5":"64","6":"NA","7":"custserv","8":"6.396191e-01","9":"0.1399212131","10":"2.204597e-01","11":"-0.260803989","12":"1.650750e+00","_rn_":"64"},{"1":"20","2":"28","3":"8","4":"custserv","5":"65","6":"NA","7":"mechanic","8":"3.769863e-01","9":"0.6188639027","10":"4.149835e-03","11":"-1.423177963","12":"-1.572027e+00","_rn_":"65"},{"1":"5","2":"22","3":"15","4":"custserv","5":"66","6":"NA","7":"custserv","8":"8.150930e-01","9":"0.0375046016","10":"1.474024e-01","11":"-0.552298916","12":"2.713274e+00","_rn_":"66"},{"1":"14","2":"26","3":"17","4":"custserv","5":"67","6":"NA","7":"custserv","8":"4.804647e-01","9":"0.3424095294","10":"1.771258e-01","11":"-0.191585691","12":"6.637066e-01","_rn_":"67"},{"1":"8","2":"28","3":"12","4":"custserv","5":"68","6":"NA","7":"custserv","8":"9.668855e-01","9":"0.0288735299","10":"4.240998e-03","11":"-1.906977801","12":"1.477516e+00","_rn_":"68"},{"1":"14","2":"22","3":"9","4":"custserv","5":"69","6":"NA","7":"custserv","8":"5.642826e-01","9":"0.3778629731","10":"5.785442e-02","11":"-0.654424995","12":"1.640877e-01","_rn_":"69"},{"1":"15","2":"26","3":"4","4":"custserv","5":"70","6":"NA","7":"custserv","8":"7.988256e-01","9":"0.1996028063","10":"1.571578e-03","11":"-2.114500858","12":"-6.967652e-01","_rn_":"70"},{"1":"15","2":"25","3":"10","4":"custserv","5":"71","6":"NA","7":"custserv","8":"6.135977e-01","9":"0.3613257474","10":"2.507652e-02","11":"-0.990274797","12":"-1.229268e-01","_rn_":"71"},{"1":"14","2":"27","3":"6","4":"custserv","5":"72","6":"NA","7":"custserv","8":"8.493025e-01","9":"0.1488443717","10":"1.853127e-03","11":"-2.090771680","12":"-3.468462e-01","_rn_":"72"},{"1":"15","2":"25","3":"11","4":"custserv","5":"73","6":"NA","7":"custserv","8":"5.817686e-01","9":"0.3820746444","10":"3.615675e-02","11":"-0.835282812","12":"-3.558397e-02","_rn_":"73"},{"1":"11","2":"26","3":"9","4":"custserv","5":"74","6":"NA","7":"custserv","8":"9.051632e-01","9":"0.0887421887","10":"6.094582e-03","11":"-1.707463523","12":"6.400065e-01","_rn_":"74"},{"1":"10","2":"28","3":"5","4":"custserv","5":"75","6":"NA","7":"custserv","8":"9.713098e-01","9":"0.0283410443","10":"3.491677e-04","11":"-2.807960405","12":"4.160872e-01","_rn_":"75"},{"1":"7","2":"22","3":"10","4":"custserv","5":"76","6":"NA","7":"custserv","8":"9.172652e-01","9":"0.0512945333","10":"3.144031e-02","11":"-1.143297549","12":"1.826531e+00","_rn_":"76"},{"1":"11","2":"15","3":"12","4":"custserv","5":"77","6":"NA","7":"dispatcher","8":"1.068060e-01","9":"0.1349552313","10":"7.582388e-01","11":"0.894528035","12":"1.449627e+00","_rn_":"77"},{"1":"14","2":"25","3":"15","4":"custserv","5":"78","6":"NA","7":"custserv","8":"5.077766e-01","9":"0.3562832211","10":"1.359402e-01","11":"-0.307295517","12":"5.388019e-01","_rn_":"78"},{"1":"18","2":"28","3":"7","4":"custserv","5":"79","6":"NA","7":"custserv","8":"5.859625e-01","9":"0.4112861174","10":"2.751358e-03","11":"-1.762131246","12":"-1.209342e+00","_rn_":"79"},{"1":"14","2":"29","3":"8","4":"custserv","5":"80","6":"NA","7":"custserv","8":"8.717307e-01","9":"0.1267097808","10":"1.559568e-03","11":"-2.169335999","12":"-2.717225e-01","_rn_":"80"},{"1":"17","2":"20","3":"6","4":"custserv","5":"81","6":"NA","7":"mechanic","8":"2.979887e-01","9":"0.6551123471","10":"4.689900e-02","11":"-0.454910717","12":"-6.734217e-01","_rn_":"81"},{"1":"13","2":"25","3":"14","4":"custserv","5":"82","6":"NA","7":"custserv","8":"6.344252e-01","9":"0.2756221181","10":"8.995264e-02","11":"-0.554268151","12":"6.764733e-01","_rn_":"82"},{"1":"9","2":"21","3":"12","4":"custserv","5":"83","6":"NA","7":"custserv","8":"7.226154e-01","9":"0.1290819384","10":"1.483026e-01","11":"-0.455078135","12":"1.600969e+00","_rn_":"83"},{"1":"13","2":"26","3":"13","4":"custserv","5":"84","6":"NA","7":"custserv","8":"7.280124e-01","9":"0.2315718430","10":"4.041574e-02","11":"-0.903534282","12":"5.393494e-01","_rn_":"84"},{"1":"16","2":"24","3":"10","4":"custserv","5":"85","6":"NA","7":"mechanic","8":"4.695896e-01","9":"0.4903925046","10":"4.001790e-02","11":"-0.704020004","12":"-2.981601e-01","_rn_":"85"},{"1":"20","2":"27","3":"6","4":"mechanic","5":"1","6":"NA","7":"mechanic","8":"3.810625e-01","9":"0.6158913595","10":"3.046185e-03","11":"-1.538887789","12":"-1.696932e+00","_rn_":"86"},{"1":"21","2":"15","3":"10","4":"mechanic","5":"2","6":"NA","7":"mechanic","8":"1.450807e-02","9":"0.5977248885","10":"3.877670e-01","11":"1.504350548","12":"-9.752022e-01","_rn_":"87"},{"1":"15","2":"27","3":"12","4":"mechanic","5":"3","6":"NA","7":"custserv","8":"6.570708e-01","9":"0.3209113839","10":"2.201784e-02","11":"-1.068839117","12":"-4.780320e-02","_rn_":"88"},{"1":"15","2":"29","3":"8","4":"mechanic","5":"4","6":"NA","7":"custserv","8":"8.245977e-01","9":"0.1735706360","10":"1.831683e-03","11":"-2.077355351","12":"-4.967368e-01","_rn_":"89"},{"1":"11","2":"25","3":"11","4":"mechanic","5":"5","6":"NA","7":"custserv","8":"8.507090e-01","9":"0.1270438510","10":"2.224719e-02","11":"-1.203205405","12":"8.644733e-01","_rn_":"90"},{"1":"24","2":"9","3":"17","4":"mechanic","5":"6","6":"NA","7":"dispatcher","8":"4.444566e-05","9":"0.0402571239","10":"9.596984e-01","11":"4.030881267","12":"-7.401587e-01","_rn_":"91"},{"1":"18","2":"21","3":"13","4":"mechanic","5":"7","6":"NA","7":"mechanic","8":"1.140489e-01","9":"0.6363397688","10":"2.496113e-01","11":"0.527739687","12":"-3.368169e-01","_rn_":"92"},{"1":"14","2":"18","3":"4","4":"mechanic","5":"8","6":"NA","7":"custserv","8":"5.068084e-01","9":"0.4423674151","10":"5.082414e-02","11":"-0.652288343","12":"-7.350244e-02","_rn_":"93"},{"1":"13","2":"22","3":"12","4":"mechanic","5":"9","6":"NA","7":"custserv","8":"5.176276e-01","9":"0.3320451101","10":"1.503273e-01","11":"-0.281429686","12":"6.511307e-01","_rn_":"94"},{"1":"17","2":"21","3":"9","4":"mechanic","5":"10","6":"NA","7":"mechanic","8":"2.617847e-01","9":"0.6519356111","10":"8.627973e-02","11":"-0.184208905","12":"-4.611741e-01","_rn_":"95"},{"1":"16","2":"28","3":"13","4":"mechanic","5":"11","6":"NA","7":"custserv","8":"5.946078e-01","9":"0.3829911730","10":"2.240108e-02","11":"-1.016140628","12":"-2.352557e-01","_rn_":"96"},{"1":"15","2":"22","3":"12","4":"mechanic","5":"12","6":"NA","7":"mechanic","8":"3.580478e-01","9":"0.4816520105","10":"1.603001e-01","11":"-0.097468389","12":"2.011021e-01","_rn_":"97"},{"1":"24","2":"20","3":"15","4":"mechanic","5":"13","6":"NA","7":"mechanic","8":"9.047848e-03","9":"0.7091703489","10":"2.817818e-01","11":"1.583881695","12":"-1.462436e+00","_rn_":"98"},{"1":"14","2":"19","3":"13","4":"mechanic","5":"14","6":"NA","7":"dispatcher","8":"1.818092e-01","9":"0.3459362957","10":"4.722545e-01","11":"0.548365384","12":"6.628024e-01","_rn_":"99"},{"1":"14","2":"28","3":"1","4":"mechanic","5":"15","6":"NA","7":"custserv","8":"9.232779e-01","9":"0.0765745994","10":"1.474794e-04","11":"-3.060005755","12":"-8.333416e-01","_rn_":"100"},{"1":"18","2":"17","3":"11","4":"mechanic","5":"16","6":"NA","7":"mechanic","8":"5.371204e-02","9":"0.5419003972","10":"4.043876e-01","11":"0.994852297","12":"-3.123785e-01","_rn_":"101"},{"1":"14","2":"24","3":"7","4":"mechanic","5":"17","6":"NA","7":"custserv","8":"7.274351e-01","9":"0.2611311186","10":"1.143381e-02","11":"-1.352957258","12":"-1.101601e-01","_rn_":"102"},{"1":"12","2":"16","3":"10","4":"mechanic","5":"18","6":"NA","7":"dispatcher","8":"2.236793e-01","9":"0.2686932558","10":"5.076275e-01","11":"0.482250566","12":"1.000146e+00","_rn_":"103"},{"1":"16","2":"21","3":"10","4":"mechanic","5":"19","6":"NA","7":"mechanic","8":"3.010574e-01","9":"0.5774126448","10":"1.215299e-01","11":"-0.121197567","12":"-1.488170e-01","_rn_":"104"},{"1":"18","2":"19","3":"9","4":"mechanic","5":"20","6":"NA","7":"mechanic","8":"1.322283e-01","9":"0.7151531191","10":"1.526186e-01","11":"0.296320035","12":"-5.866264e-01","_rn_":"105"},{"1":"19","2":"26","3":"7","4":"mechanic","5":"21","6":"NA","7":"mechanic","8":"3.935759e-01","9":"0.5999523328","10":"6.471784e-03","11":"-1.281602307","12":"-1.334794e+00","_rn_":"106"},{"1":"13","2":"20","3":"10","4":"mechanic","5":"22","6":"NA","7":"custserv","8":"4.700075e-01","9":"0.3635186070","10":"1.664739e-01","11":"-0.202865367","12":"5.760070e-01","_rn_":"107"},{"1":"28","2":"16","3":"10","4":"mechanic","5":"23","6":"NA","7":"mechanic","8":"1.913184e-03","9":"0.8595850073","10":"1.385018e-01","11":"1.953940941","12":"-2.600083e+00","_rn_":"108"},{"1":"17","2":"19","3":"11","4":"mechanic","5":"24","6":"NA","7":"mechanic","8":"1.282814e-01","9":"0.5959330417","10":"2.757856e-01","11":"0.514323358","12":"-1.869263e-01","_rn_":"109"},{"1":"24","2":"14","3":"7","4":"mechanic","5":"25","6":"NA","7":"mechanic","8":"7.359440e-03","9":"0.8128511865","10":"1.797894e-01","11":"1.509590681","12":"-1.862493e+00","_rn_":"110"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"26","6":"NA","7":"mechanic","8":"1.546963e-01","9":"0.7472978899","10":"9.800578e-02","11":"0.076180059","12":"-7.487362e-01","_rn_":"111"},{"1":"22","2":"12","3":"8","4":"mechanic","5":"27","6":"NA","7":"mechanic","8":"6.366740e-03","9":"0.5608687606","10":"4.327645e-01","11":"1.869169661","12":"-1.225559e+00","_rn_":"112"},{"1":"22","2":"21","3":"11","4":"mechanic","5":"28","6":"NA","7":"mechanic","8":"4.352380e-02","9":"0.8585872696","10":"9.788893e-02","11":"0.585678309","12":"-1.411560e+00","_rn_":"113"},{"1":"21","2":"19","3":"9","4":"mechanic","5":"29","6":"NA","7":"mechanic","8":"5.093261e-02","9":"0.8365453708","10":"1.125220e-01","11":"0.572261980","12":"-1.261669e+00","_rn_":"114"},{"1":"18","2":"24","3":"13","4":"mechanic","5":"30","6":"NA","7":"mechanic","8":"2.222210e-01","9":"0.6751051113","10":"1.026739e-01","11":"-0.055082749","12":"-4.861601e-01","_rn_":"115"},{"1":"23","2":"27","3":"11","4":"mechanic","5":"31","6":"NA","7":"mechanic","8":"1.042359e-01","9":"0.8827918327","10":"1.297222e-02","11":"-0.487985915","12":"-1.935261e+00","_rn_":"116"},{"1":"20","2":"23","3":"12","4":"mechanic","5":"32","6":"NA","7":"mechanic","8":"1.138676e-01","9":"0.7965633033","10":"8.956908e-02","11":"0.168160707","12":"-9.737506e-01","_rn_":"117"},{"1":"19","2":"13","3":"7","4":"mechanic","5":"33","6":"NA","7":"mechanic","8":"2.766735e-02","9":"0.5876329522","10":"3.846997e-01","11":"1.243961584","12":"-6.876401e-01","_rn_":"118"},{"1":"17","2":"28","3":"13","4":"mechanic","5":"34","6":"NA","7":"custserv","8":"5.051718e-01","9":"0.4711982009","10":"2.363000e-02","11":"-0.924159979","12":"-4.602700e-01","_rn_":"119"},{"1":"20","2":"24","3":"5","4":"mechanic","5":"35","6":"NA","7":"mechanic","8":"2.712627e-01","9":"0.7219828096","10":"6.754493e-03","11":"-1.111057339","12":"-1.634932e+00","_rn_":"120"},{"1":"21","2":"23","3":"11","4":"mechanic","5":"36","6":"NA","7":"mechanic","8":"9.323552e-02","9":"0.8468861175","10":"5.987836e-02","11":"0.105149370","12":"-1.286108e+00","_rn_":"121"},{"1":"17","2":"21","3":"15","4":"mechanic","5":"37","6":"NA","7":"mechanic","8":"1.013269e-01","9":"0.4856037318","10":"4.130693e-01","11":"0.745743010","12":"6.288312e-02","_rn_":"122"},{"1":"11","2":"25","3":"12","4":"mechanic","5":"38","6":"NA","7":"custserv","8":"8.289650e-01","9":"0.1380675414","10":"3.296750e-02","11":"-1.048213420","12":"9.518162e-01","_rn_":"123"},{"1":"14","2":"19","3":"14","4":"mechanic","5":"39","6":"NA","7":"dispatcher","8":"1.413975e-01","9":"0.3000578672","10":"5.585446e-01","11":"0.703357370","12":"7.501453e-01","_rn_":"124"},{"1":"18","2":"24","3":"5","4":"mechanic","5":"40","6":"NA","7":"mechanic","8":"4.375726e-01","9":"0.5553596192","10":"7.067738e-03","11":"-1.295018636","12":"-1.184903e+00","_rn_":"125"},{"1":"13","2":"14","3":"7","4":"mechanic","5":"41","6":"NA","7":"dispatcher","8":"1.945372e-01","9":"0.3658468484","10":"4.396160e-01","11":"0.497803548","12":"6.126647e-01","_rn_":"126"},{"1":"22","2":"18","3":"16","4":"mechanic","5":"42","6":"NA","7":"dispatcher","8":"6.659222e-03","9":"0.4163001775","10":"5.770406e-01","11":"1.943460675","12":"-8.255024e-01","_rn_":"127"},{"1":"25","2":"17","3":"13","4":"mechanic","5":"43","6":"NA","7":"mechanic","8":"4.035569e-03","9":"0.6763358520","10":"3.196286e-01","11":"1.948700808","12":"-1.712793e+00","_rn_":"128"},{"1":"19","2":"25","3":"13","4":"mechanic","5":"44","6":"NA","7":"mechanic","8":"2.026747e-01","9":"0.7280952982","10":"6.923004e-02","11":"-0.157376246","12":"-7.609555e-01","_rn_":"129"},{"1":"20","2":"20","3":"9","4":"mechanic","5":"45","6":"NA","7":"mechanic","8":"8.833131e-02","9":"0.8180841927","10":"9.358450e-02","11":"0.286007186","12":"-1.086436e+00","_rn_":"130"},{"1":"21","2":"25","3":"11","4":"mechanic","5":"46","6":"NA","7":"mechanic","8":"1.372798e-01","9":"0.8314620896","10":"3.125813e-02","11":"-0.283398921","12":"-1.385670e+00","_rn_":"131"},{"1":"17","2":"24","3":"11","4":"mechanic","5":"47","6":"NA","7":"mechanic","8":"3.511831e-01","9":"0.5923086915","10":"5.650817e-02","11":"-0.457047369","12":"-4.358315e-01","_rn_":"132"},{"1":"18","2":"26","3":"10","4":"mechanic","5":"48","6":"NA","7":"mechanic","8":"3.989089e-01","9":"0.5825108760","10":"1.858018e-02","11":"-0.908606998","12":"-8.477508e-01","_rn_":"133"},{"1":"21","2":"29","3":"11","4":"mechanic","5":"49","6":"NA","7":"mechanic","8":"2.687072e-01","9":"0.7236019746","10":"7.690800e-03","11":"-1.060495503","12":"-1.584794e+00","_rn_":"134"},{"1":"17","2":"21","3":"12","4":"mechanic","5":"50","6":"NA","7":"mechanic","8":"1.781320e-01","9":"0.6153903320","10":"2.064777e-01","11":"0.280767053","12":"-1.991455e-01","_rn_":"135"},{"1":"17","2":"19","3":"12","4":"mechanic","5":"51","6":"NA","7":"mechanic","8":"1.058156e-01","9":"0.5482344743","10":"3.459499e-01","11":"0.669315344","12":"-9.958341e-02","_rn_":"136"},{"1":"17","2":"16","3":"6","4":"mechanic","5":"52","6":"NA","7":"mechanic","8":"1.389531e-01","9":"0.6870680964","10":"1.739788e-01","11":"0.322185865","12":"-4.742975e-01","_rn_":"137"},{"1":"16","2":"22","3":"5","4":"mechanic","5":"53","6":"NA","7":"custserv","8":"5.162079e-01","9":"0.4685369972","10":"1.525508e-02","11":"-1.090431642","12":"-6.353124e-01","_rn_":"138"},{"1":"22","2":"19","3":"10","4":"mechanic","5":"54","6":"NA","7":"mechanic","8":"3.154765e-02","9":"0.8368540071","10":"1.315983e-01","11":"0.819234614","12":"-1.399341e+00","_rn_":"139"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"55","6":"NA","7":"mechanic","8":"1.546963e-01","9":"0.7472978899","10":"9.800578e-02","11":"0.076180059","12":"-7.487362e-01","_rn_":"140"},{"1":"16","2":"23","3":"9","4":"mechanic","5":"56","6":"NA","7":"mechanic","8":"4.462685e-01","9":"0.5117321428","10":"4.199934e-02","11":"-0.664737844","12":"-3.357219e-01","_rn_":"141"},{"1":"18","2":"27","3":"11","4":"mechanic","5":"57","6":"NA","7":"mechanic","8":"4.215770e-01","9":"0.5606425665","10":"1.778044e-02","11":"-0.947889157","12":"-8.101890e-01","_rn_":"142"},{"1":"21","2":"24","3":"12","4":"mechanic","5":"58","6":"NA","7":"mechanic","8":"1.014840e-01","9":"0.8394991446","10":"5.901682e-02","11":"0.065867210","12":"-1.248546e+00","_rn_":"143"},{"1":"15","2":"22","3":"13","4":"mechanic","5":"59","6":"NA","7":"mechanic","8":"3.143532e-01","9":"0.4716208615","10":"2.140259e-01","11":"0.057523596","12":"2.884449e-01","_rn_":"144"},{"1":"19","2":"26","3":"12","4":"mechanic","5":"60","6":"NA","7":"mechanic","8":"2.656731e-01","9":"0.6987948125","10":"3.553211e-02","11":"-0.506642377","12":"-8.980794e-01","_rn_":"145"},{"1":"14","2":"17","3":"11","4":"mechanic","5":"61","6":"NA","7":"dispatcher","8":"1.547478e-01","9":"0.3550153647","10":"4.902368e-01","11":"0.626929704","12":"5.876788e-01","_rn_":"146"},{"1":"15","2":"23","3":"7","4":"mechanic","5":"62","6":"NA","7":"custserv","8":"5.990222e-01","9":"0.3813445332","10":"1.963323e-02","11":"-1.066702464","12":"-2.853934e-01","_rn_":"147"},{"1":"23","2":"20","3":"16","4":"mechanic","5":"63","6":"NA","7":"mechanic","8":"1.004930e-02","9":"0.6066208578","10":"3.833298e-01","11":"1.646893032","12":"-1.150079e+00","_rn_":"148"},{"1":"22","2":"26","3":"15","4":"mechanic","5":"64","6":"NA","7":"mechanic","8":"7.703519e-02","9":"0.8536081721","10":"6.935664e-02","11":"0.234275525","12":"-1.311094e+00","_rn_":"149"},{"1":"13","2":"16","3":"11","4":"mechanic","5":"65","6":"NA","7":"dispatcher","8":"1.384048e-01","9":"0.2685166334","10":"5.930786e-01","11":"0.729223201","12":"8.624741e-01","_rn_":"150"},{"1":"25","2":"29","3":"11","4":"mechanic","5":"66","6":"NA","7":"mechanic","8":"7.745584e-02","9":"0.9172756109","10":"5.268551e-03","11":"-0.692572909","12":"-2.484851e+00","_rn_":"151"},{"1":"23","2":"24","3":"7","4":"mechanic","5":"67","6":"NA","7":"mechanic","8":"8.957511e-02","9":"0.9005516501","10":"9.873244e-03","11":"-0.525131422","12":"-2.135289e+00","_rn_":"152"},{"1":"17","2":"29","3":"9","4":"mechanic","5":"68","6":"NA","7":"custserv","8":"6.677764e-01","9":"0.3287461102","10":"3.477501e-03","11":"-1.738402068","12":"-8.594226e-01","_rn_":"153"},{"1":"21","2":"19","3":"7","4":"mechanic","5":"69","6":"NA","7":"mechanic","8":"6.596322e-02","9":"0.8710234752","10":"6.301330e-02","11":"0.262278009","12":"-1.436355e+00","_rn_":"154"},{"1":"15","2":"13","3":"6","4":"mechanic","5":"70","6":"NA","7":"mechanic","8":"1.089597e-01","9":"0.4718417916","10":"4.191985e-01","11":"0.721047005","12":"1.250743e-01","_rn_":"155"},{"1":"19","2":"27","3":"14","4":"mechanic","5":"71","6":"NA","7":"mechanic","8":"2.593547e-01","9":"0.6928799361","10":"4.776533e-02","11":"-0.390932551","12":"-7.731747e-01","_rn_":"156"},{"1":"22","2":"24","3":"14","4":"mechanic","5":"72","6":"NA","7":"mechanic","8":"5.691481e-02","9":"0.8480464521","10":"9.503874e-02","11":"0.467831830","12":"-1.298874e+00","_rn_":"157"},{"1":"17","2":"18","3":"8","4":"mechanic","5":"73","6":"NA","7":"mechanic","8":"1.631958e-01","9":"0.6692651852","10":"1.675390e-01","11":"0.243621546","12":"-3.991739e-01","_rn_":"158"},{"1":"21","2":"19","3":"8","4":"mechanic","5":"74","6":"NA","7":"mechanic","8":"5.820853e-02","9":"0.8572299996","10":"8.456147e-02","11":"0.417269994","12":"-1.349012e+00","_rn_":"159"},{"1":"24","2":"18","3":"13","4":"mechanic","5":"75","6":"NA","7":"mechanic","8":"7.491403e-03","9":"0.7079630895","10":"2.845455e-01","11":"1.662446014","12":"-1.537560e+00","_rn_":"160"},{"1":"21","2":"12","3":"9","4":"mechanic","5":"76","6":"NA","7":"dispatcher","8":"6.574656e-03","9":"0.4460604063","10":"5.473649e-01","11":"1.932180998","12":"-9.132019e-01","_rn_":"161"},{"1":"15","2":"17","3":"8","4":"mechanic","5":"77","6":"NA","7":"mechanic","8":"2.215688e-01","9":"0.5306266834","10":"2.478046e-01","11":"0.253934395","12":"1.006358e-01","_rn_":"162"},{"1":"24","2":"22","3":"14","4":"mechanic","5":"78","6":"NA","7":"mechanic","8":"1.814155e-02","9":"0.8501376257","10":"1.317208e-01","11":"1.040341418","12":"-1.649341e+00","_rn_":"163"},{"1":"19","2":"19","3":"7","4":"mechanic","5":"79","6":"NA","7":"mechanic","8":"1.263200e-01","9":"0.7954036797","10":"7.827628e-02","11":"0.078316712","12":"-9.863264e-01","_rn_":"164"},{"1":"23","2":"16","3":"10","4":"mechanic","5":"80","6":"NA","7":"mechanic","8":"1.040750e-02","9":"0.7342552318","10":"2.553373e-01","11":"1.494037699","12":"-1.475012e+00","_rn_":"165"},{"1":"21","2":"29","3":"12","4":"mechanic","5":"81","6":"NA","7":"mechanic","8":"2.471054e-01","9":"0.7421391527","10":"1.075548e-02","11":"-0.905503517","12":"-1.497451e+00","_rn_":"166"},{"1":"20","2":"19","3":"11","4":"mechanic","5":"82","6":"NA","7":"mechanic","8":"5.202222e-02","9":"0.7339080028","10":"2.140698e-01","11":"0.790265303","12":"-8.619692e-01","_rn_":"167"},{"1":"18","2":"28","3":"0","4":"mechanic","5":"83","6":"NA","7":"custserv","8":"7.534177e-01","9":"0.2463942665","10":"1.880719e-04","11":"-2.847075147","12":"-1.820742e+00","_rn_":"168"},{"1":"23","2":"21","3":"16","4":"mechanic","5":"84","6":"NA","7":"mechanic","8":"1.369770e-02","9":"0.6751890552","10":"3.111132e-01","11":"1.452618887","12":"-1.199860e+00","_rn_":"169"},{"1":"17","2":"17","3":"8","4":"mechanic","5":"85","6":"NA","7":"mechanic","8":"1.290933e-01","9":"0.6483313458","10":"2.225753e-01","11":"0.437895691","12":"-3.493928e-01","_rn_":"170"},{"1":"17","2":"24","3":"5","4":"mechanic","5":"86","6":"NA","7":"custserv","8":"5.292573e-01","9":"0.4638575918","10":"6.885111e-03","11":"-1.386999284","12":"-9.598888e-01","_rn_":"171"},{"1":"17","2":"18","3":"15","4":"mechanic","5":"87","6":"NA","7":"dispatcher","8":"3.434966e-02","9":"0.3023369650","10":"6.633134e-01","11":"1.328565447","12":"2.122263e-01","_rn_":"172"},{"1":"17","2":"23","3":"10","4":"mechanic","5":"88","6":"NA","7":"mechanic","8":"3.300682e-01","9":"0.6112786186","10":"5.865320e-02","11":"-0.417765210","12":"-4.733934e-01","_rn_":"173"},{"1":"19","2":"15","3":"10","4":"mechanic","5":"89","6":"NA","7":"mechanic","8":"2.632700e-02","9":"0.5172261334","10":"4.564469e-01","11":"1.320389251","12":"-5.251736e-01","_rn_":"174"},{"1":"17","2":"20","3":"8","4":"mechanic","5":"90","6":"NA","7":"mechanic","8":"2.439916e-01","9":"0.6672007895","10":"8.880757e-02","11":"-0.144926745","12":"-4.987360e-01","_rn_":"175"},{"1":"25","2":"20","3":"8","4":"mechanic","5":"91","6":"NA","7":"mechanic","8":"1.787608e-02","9":"0.9453756458","10":"3.674828e-02","11":"0.590918443","12":"-2.298850e+00","_rn_":"176"},{"1":"16","2":"19","3":"8","4":"mechanic","5":"92","6":"NA","7":"mechanic","8":"2.628249e-01","9":"0.6077789461","10":"1.293962e-01","11":"-0.042633248","12":"-2.239406e-01","_rn_":"177"},{"1":"19","2":"16","3":"6","4":"mechanic","5":"93","6":"NA","7":"mechanic","8":"7.519155e-02","9":"0.7796743157","10":"1.451341e-01","11":"0.506147162","12":"-9.243262e-01","_rn_":"178"},{"1":"19","2":"19","3":"16","4":"dispatcher","5":"1","6":"NA","7":"dispatcher","8":"2.233844e-02","9":"0.3755027546","10":"6.021588e-01","11":"1.473244584","12":"-2.002405e-01","_rn_":"179"},{"1":"17","2":"17","3":"12","4":"dispatcher","5":"2","6":"NA","7":"dispatcher","8":"5.558202e-02","9":"0.4318755298","10":"5.125425e-01","11":"1.057863635","12":"-2.130522e-05","_rn_":"180"},{"1":"8","2":"17","3":"14","4":"dispatcher","5":"3","6":"NA","7":"dispatcher","8":"2.279882e-01","9":"0.0786765659","10":"6.933352e-01","11":"0.540021770","12":"2.199793e+00","_rn_":"181"},{"1":"13","2":"20","3":"16","4":"dispatcher","5":"4","6":"NA","7":"dispatcher","8":"1.455729e-01","9":"0.2166700625","10":"6.377571e-01","11":"0.727086548","12":"1.100064e+00","_rn_":"182"},{"1":"14","2":"18","3":"4","4":"dispatcher","5":"5","6":"NA","7":"custserv","8":"5.068084e-01","9":"0.4423674151","10":"5.082414e-02","11":"-0.652288343","12":"-7.350244e-02","_rn_":"183"},{"1":"17","2":"12","3":"13","4":"dispatcher","5":"6","6":"NA","7":"dispatcher","8":"4.711858e-03","9":"0.1124653067","10":"8.828228e-01","11":"2.184226348","12":"3.362268e-01","_rn_":"184"},{"1":"17","2":"12","3":"17","4":"dispatcher","5":"7","6":"NA","7":"dispatcher","8":"9.615280e-04","9":"0.0355074481","10":"9.635310e-01","11":"2.804194291","12":"6.855983e-01","_rn_":"185"},{"1":"14","2":"21","3":"16","4":"dispatcher","5":"8","6":"NA","7":"dispatcher","8":"1.666968e-01","9":"0.2933919879","10":"5.399112e-01","11":"0.624793051","12":"8.252689e-01","_rn_":"186"},{"1":"19","2":"18","3":"12","4":"dispatcher","5":"9","6":"NA","7":"mechanic","8":"4.391730e-02","9":"0.5843441781","10":"3.717385e-01","11":"1.047550786","12":"-4.998310e-01","_rn_":"187"},{"1":"18","2":"16","3":"15","4":"dispatcher","5":"10","6":"NA","7":"dispatcher","8":"1.139711e-02","9":"0.2178601020","10":"7.707428e-01","11":"1.809094386","12":"8.677407e-02","_rn_":"188"},{"1":"15","2":"14","3":"17","4":"dispatcher","5":"11","6":"NA","7":"dispatcher","8":"4.111778e-03","9":"0.0482799441","10":"9.476083e-01","11":"2.231684703","12":"1.036065e+00","_rn_":"189"},{"1":"20","2":"15","3":"7","4":"dispatcher","5":"12","6":"NA","7":"mechanic","8":"3.619326e-02","9":"0.7422749633","10":"2.215318e-01","11":"0.947393942","12":"-1.012217e+00","_rn_":"190"},{"1":"24","2":"20","3":"13","4":"dispatcher","5":"13","6":"NA","7":"mechanic","8":"1.290640e-02","9":"0.8132888754","10":"1.738047e-01","11":"1.273897723","12":"-1.637122e+00","_rn_":"191"},{"1":"16","2":"16","3":"17","4":"dispatcher","5":"14","6":"NA","7":"dispatcher","8":"8.788252e-03","9":"0.0996410258","10":"8.915707e-01","11":"1.935117061","12":"7.114885e-01","_rn_":"192"},{"1":"17","2":"15","3":"10","4":"dispatcher","5":"15","6":"NA","7":"dispatcher","8":"4.626438e-02","9":"0.4334243141","10":"5.203113e-01","11":"1.136427954","12":"-7.514496e-02","_rn_":"193"},{"1":"17","2":"10","3":"12","4":"dispatcher","5":"16","6":"NA","7":"dispatcher","8":"2.627441e-03","9":"0.0843304228","10":"9.130421e-01","11":"2.417782653","12":"3.484461e-01","_rn_":"194"},{"1":"11","2":"16","3":"11","4":"dispatcher","5":"17","6":"NA","7":"dispatcher","8":"2.125497e-01","9":"0.1966382663","10":"5.908120e-01","11":"0.545261904","12":"1.312503e+00","_rn_":"195"},{"1":"15","2":"18","3":"14","4":"dispatcher","5":"18","6":"NA","7":"dispatcher","8":"7.692116e-02","9":"0.2894804124","10":"6.335984e-01","11":"0.989612164","12":"5.749120e-01","_rn_":"196"},{"1":"20","2":"19","3":"16","4":"dispatcher","5":"19","6":"NA","7":"dispatcher","8":"1.700342e-02","9":"0.4139070326","10":"5.690896e-01","11":"1.565225232","12":"-4.252548e-01","_rn_":"197"},{"1":"14","2":"22","3":"16","4":"dispatcher","5":"20","6":"NA","7":"dispatcher","8":"2.290562e-01","9":"0.3291994564","10":"4.417444e-01","11":"0.430518905","12":"7.754879e-01","_rn_":"198"},{"1":"13","2":"15","3":"18","4":"dispatcher","5":"21","6":"NA","7":"dispatcher","8":"7.068771e-03","9":"0.0360451874","10":"9.568860e-01","11":"2.008441247","12":"1.523655e+00","_rn_":"199"},{"1":"16","2":"14","3":"13","4":"dispatcher","5":"22","6":"NA","7":"dispatcher","8":"1.526915e-02","9":"0.1678136599","10":"8.169172e-01","11":"1.703697409","12":"4.616790e-01","_rn_":"200"},{"1":"12","2":"12","3":"6","4":"dispatcher","5":"23","6":"NA","7":"dispatcher","8":"1.633462e-01","9":"0.2852492423","10":"5.514045e-01","11":"0.639379205","12":"8.498982e-01","_rn_":"201"},{"1":"17","2":"17","3":"19","4":"dispatcher","5":"24","6":"NA","7":"dispatcher","8":"5.232025e-03","9":"0.0872516234","10":"9.075164e-01","11":"2.142807536","12":"6.113788e-01","_rn_":"202"},{"1":"10","2":"8","3":"16","4":"dispatcher","5":"25","6":"NA","7":"dispatcher","8":"8.628193e-04","9":"0.0048113373","10":"9.943258e-01","11":"2.782434348","12":"2.372480e+00","_rn_":"203"},{"1":"11","2":"17","3":"20","4":"dispatcher","5":"26","6":"NA","7":"dispatcher","8":"1.333064e-02","9":"0.0268843510","10":"9.597850e-01","11":"1.745915631","12":"2.048808e+00","_rn_":"204"},{"1":"13","2":"16","3":"7","4":"dispatcher","5":"27","6":"NA","7":"mechanic","8":"3.273139e-01","9":"0.4104435410","10":"2.622426e-01","11":"0.109255257","12":"5.131026e-01","_rn_":"205"},{"1":"19","2":"15","3":"13","4":"dispatcher","5":"28","6":"NA","7":"dispatcher","8":"1.120707e-02","9":"0.3054355934","10":"6.833573e-01","11":"1.785365208","12":"-2.631449e-01","_rn_":"206"},{"1":"15","2":"11","3":"13","4":"dispatcher","5":"29","6":"NA","7":"dispatcher","8":"4.565093e-03","9":"0.0636307793","10":"9.318041e-01","11":"2.194539196","12":"8.360365e-01","_rn_":"207"},{"1":"17","2":"11","3":"10","4":"dispatcher","5":"30","6":"NA","7":"dispatcher","8":"8.965272e-03","9":"0.1889058551","10":"8.021289e-01","11":"1.913524536","12":"1.239792e-01","_rn_":"208"},{"1":"15","2":"10","3":"13","4":"dispatcher","5":"31","6":"NA","7":"dispatcher","8":"2.771083e-03","9":"0.0473010784","10":"9.499278e-01","11":"2.388813342","12":"8.858176e-01","_rn_":"209"},{"1":"19","2":"14","3":"12","4":"dispatcher","5":"32","6":"NA","7":"dispatcher","8":"1.017657e-02","9":"0.3045440295","10":"6.852794e-01","11":"1.824647368","12":"-3.007068e-01","_rn_":"210"},{"1":"19","2":"14","3":"15","4":"dispatcher","5":"33","6":"NA","7":"dispatcher","8":"3.579839e-03","9":"0.1486142380","10":"8.478059e-01","11":"2.289623326","12":"-3.867814e-02","_rn_":"211"},{"1":"4","2":"12","3":"11","4":"dispatcher","5":"34","6":"NA","7":"dispatcher","8":"1.661938e-01","9":"0.0258936674","10":"8.079125e-01","11":"0.678493946","12":"3.086727e+00","_rn_":"212"},{"1":"13","2":"12","3":"15","4":"dispatcher","5":"35","6":"NA","7":"dispatcher","8":"5.261037e-03","9":"0.0355171413","10":"9.592218e-01","11":"2.126287726","12":"1.410970e+00","_rn_":"213"},{"1":"20","2":"13","3":"19","4":"dispatcher","5":"36","6":"NA","7":"dispatcher","8":"3.628261e-04","9":"0.0413272608","10":"9.583099e-01","11":"3.195846063","12":"1.354601e-01","_rn_":"214"},{"1":"14","2":"18","3":"14","4":"dispatcher","5":"37","6":"NA","7":"dispatcher","8":"9.772434e-02","9":"0.2539625966","10":"6.483131e-01","11":"0.897631516","12":"7.999263e-01","_rn_":"215"},{"1":"10","2":"12","3":"9","4":"dispatcher","5":"38","6":"NA","7":"dispatcher","8":"1.014576e-01","9":"0.1172021794","10":"7.813402e-01","11":"0.920393866","12":"1.561956e+00","_rn_":"216"},{"1":"11","2":"12","3":"19","4":"dispatcher","5":"39","6":"NA","7":"dispatcher","8":"1.566086e-03","9":"0.0078001082","10":"9.906338e-01","11":"2.562294372","12":"2.210370e+00","_rn_":"217"},{"1":"8","2":"20","3":"8","4":"dispatcher","5":"40","6":"NA","7":"custserv","8":"8.699108e-01","9":"0.0849374934","10":"4.515167e-02","11":"-0.972752581","12":"1.526393e+00","_rn_":"218"},{"1":"14","2":"16","3":"7","4":"dispatcher","5":"41","6":"NA","7":"mechanic","8":"2.624197e-01","9":"0.4765316600","10":"2.610486e-01","11":"0.201235906","12":"2.880883e-01","_rn_":"219"},{"1":"18","2":"20","3":"15","4":"dispatcher","5":"42","6":"NA","7":"dispatcher","8":"5.555677e-02","9":"0.4721764764","10":"4.722668e-01","11":"1.031997804","12":"-1.123501e-01","_rn_":"220"},{"1":"19","2":"7","3":"13","4":"dispatcher","5":"43","6":"NA","7":"dispatcher","8":"2.501282e-04","9":"0.0344842774","10":"9.652656e-01","11":"3.339558372","12":"1.351035e-01","_rn_":"221"},{"1":"21","2":"13","3":"11","4":"dispatcher","5":"44","6":"NA","7":"dispatcher","8":"5.418486e-03","9":"0.3733879008","10":"6.211936e-01","11":"2.047890825","12":"-7.882972e-01","_rn_":"222"},{"1":"14","2":"26","3":"15","4":"dispatcher","5":"45","6":"NA","7":"custserv","8":"5.772471e-01","9":"0.3307353202","10":"9.201760e-02","11":"-0.501569662","12":"4.890208e-01","_rn_":"223"},{"1":"25","2":"16","3":"12","4":"dispatcher","5":"46","6":"NA","7":"mechanic","8":"3.669802e-03","9":"0.6753383620","10":"3.209918e-01","11":"1.987982968","12":"-1.750355e+00","_rn_":"224"},{"1":"18","2":"11","3":"19","4":"dispatcher","5":"47","6":"NA","7":"dispatcher","8":"2.034627e-04","9":"0.0165736451","10":"9.832229e-01","11":"3.400433057","12":"6.850508e-01","_rn_":"225"},{"1":"14","2":"16","3":"6","4":"dispatcher","5":"48","6":"NA","7":"mechanic","8":"3.046592e-01","9":"0.4960516106","10":"1.992892e-01","11":"0.046243920","12":"2.007454e-01","_rn_":"226"},{"1":"13","2":"20","3":"18","4":"dispatcher","5":"49","6":"NA","7":"dispatcher","8":"7.702310e-02","9":"0.1425952452","10":"7.803817e-01","11":"1.037070520","12":"1.274750e+00","_rn_":"227"},{"1":"20","2":"16","3":"14","4":"dispatcher","5":"50","6":"NA","7":"dispatcher","8":"9.478974e-03","9":"0.3407014879","10":"6.498195e-01","11":"1.838063697","12":"-4.505974e-01","_rn_":"228"},{"1":"12","2":"14","3":"8","4":"dispatcher","5":"51","6":"NA","7":"dispatcher","8":"1.917110e-01","9":"0.2776644348","10":"5.306246e-01","11":"0.560814886","12":"9.250219e-01","_rn_":"229"},{"1":"16","2":"19","3":"12","4":"dispatcher","5":"52","6":"NA","7":"mechanic","8":"1.386787e-01","9":"0.4961580594","10":"3.651632e-01","11":"0.577334695","12":"1.254309e-01","_rn_":"230"},{"1":"21","2":"15","3":"7","4":"dispatcher","5":"53","6":"NA","7":"mechanic","8":"2.611049e-02","9":"0.7754584493","10":"1.984311e-01","11":"1.039374590","12":"-1.237231e+00","_rn_":"231"},{"1":"18","2":"23","3":"15","4":"dispatcher","5":"54","6":"NA","7":"mechanic","8":"1.347321e-01","9":"0.6234862324","10":"2.417816e-01","11":"0.449175368","12":"-2.616933e-01","_rn_":"232"},{"1":"19","2":"11","3":"13","4":"dispatcher","5":"55","6":"NA","7":"dispatcher","8":"1.826868e-03","9":"0.1119825092","10":"8.861906e-01","11":"2.562461790","12":"-6.402074e-02","_rn_":"233"},{"1":"17","2":"18","3":"9","4":"dispatcher","5":"56","6":"NA","7":"mechanic","8":"1.401549e-01","9":"0.6410331082","10":"2.188120e-01","11":"0.398613532","12":"-3.118310e-01","_rn_":"234"},{"1":"4","2":"10","3":"15","4":"dispatcher","5":"57","6":"NA","7":"dispatcher","8":"1.338773e-02","9":"0.0048397672","10":"9.817725e-01","11":"1.687010181","12":"3.535661e+00","_rn_":"235"},{"1":"17","2":"17","3":"14","4":"dispatcher","5":"58","6":"NA","7":"dispatcher","8":"3.125918e-02","9":"0.3021116335","10":"6.666292e-01","11":"1.367847606","12":"1.746645e-01","_rn_":"236"},{"1":"14","2":"13","3":"12","4":"dispatcher","5":"59","6":"NA","7":"dispatcher","8":"2.218212e-02","9":"0.1276509099","10":"8.501670e-01","11":"1.559018271","12":"8.741458e-01","_rn_":"237"},{"1":"15","2":"16","3":"14","4":"dispatcher","5":"60","6":"NA","7":"dispatcher","8":"3.347095e-02","9":"0.1889074349","10":"7.776216e-01","11":"1.378160455","12":"6.744741e-01","_rn_":"238"},{"1":"20","2":"13","3":"18","4":"dispatcher","5":"61","6":"NA","7":"dispatcher","8":"5.434963e-04","9":"0.0555075385","10":"9.439490e-01","11":"3.040854077","12":"4.811723e-02","_rn_":"239"},{"1":"20","2":"14","3":"18","4":"dispatcher","5":"62","6":"NA","7":"dispatcher","8":"8.940124e-04","9":"0.0745581347","10":"9.245479e-01","11":"2.846579931","12":"-1.663819e-03","_rn_":"240"},{"1":"16","2":"22","3":"12","4":"dispatcher","5":"63","6":"NA","7":"mechanic","8":"2.853946e-01","9":"0.5559610200","10":"1.586444e-01","11":"-0.005487741","12":"-2.391225e-02","_rn_":"241"},{"1":"9","2":"13","3":"16","4":"dispatcher","5":"64","6":"NA","7":"dispatcher","8":"1.391454e-02","9":"0.0194531176","10":"9.666323e-01","11":"1.719082972","12":"2.348589e+00","_rn_":"242"},{"1":"15","2":"13","3":"13","4":"dispatcher","5":"65","6":"NA","7":"dispatcher","8":"1.209752e-02","9":"0.1124362561","10":"8.754662e-01","11":"1.805990906","12":"7.364744e-01","_rn_":"243"},{"1":"18","2":"20","3":"10","4":"dispatcher","5":"66","6":"NA","7":"mechanic","8":"1.434582e-01","9":"0.7066085684","10":"1.499332e-01","11":"0.257037875","12":"-5.490645e-01","_rn_":"244"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Following my suggestion, plot these the standard way with <code>colour</code> distinguishing the jobs:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">colour =</span> job)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/jobs-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">colour =</span> class)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/jobs-8-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(d, aes(x = job, y = x.LD1)) + geom_boxplot()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I was mostly right about the customer service people: small <code>LD1</code> definitely, large <code>LD2</code> kinda. I wasn’t more right because the group means don’t tell the whole story: evidently, the customer service people vary quite a bit on <code>outdoor</code>, so the red dots are all over the left side of the plot.</p>
<p>There is quite a bit of intermingling of the three employee groups on the plot, but the point of the MANOVA is that the groups are (way) more separated than you’d expect by chance, that is if the employees were just randomly scattered across the plot.</p>
<p>To think back to that <code>trace</code> thing: here, it seems that <code>LD1</code> mainly separates customer service (left) from dispatchers (right); the mechanics are all over the place on <code>LD1</code>, but they tend to be low on <code>LD2</code>. So <code>LD2</code> <em>does</em> have something to say.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol type="i">
<li><a name="part:predjob">*</a> Obtain predicted job allocations for each individual (based on their scores on the three scales), and tabulate the true jobs against the predicted jobs. How would you describe the quality of the classification? Is that in line with what the plot would suggest?</li>
</ol>
<p>Solution</p>
<p>Use the predictions that you got before and saved in <code>d</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(d, <span class="fu">table</span>(<span class="at">obs =</span> job, <span class="at">pred =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            pred
obs          custserv mechanic dispatcher
  custserv         68       13          4
  mechanic         16       67         10
  dispatcher        3       13         50</code></pre>
</div>
</div>
<p>Or, the <code>tidyverse</code> way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(job, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job"],"name":[1],"type":["fct"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"custserv","2":"custserv","3":"68"},{"1":"custserv","2":"mechanic","3":"13"},{"1":"custserv","2":"dispatcher","3":"4"},{"1":"mechanic","2":"custserv","3":"16"},{"1":"mechanic","2":"mechanic","3":"67"},{"1":"mechanic","2":"dispatcher","3":"10"},{"1":"dispatcher","2":"custserv","3":"3"},{"1":"dispatcher","2":"mechanic","3":"13"},{"1":"dispatcher","2":"dispatcher","3":"50"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>or:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job, class) <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>class, <span class="at">values_from=</span>n, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">n=</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job"],"name":[1],"type":["fct"],"align":["left"]},{"label":["custserv"],"name":[2],"type":["int"],"align":["right"]},{"label":["mechanic"],"name":[3],"type":["int"],"align":["right"]},{"label":["dispatcher"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"custserv","2":"68","3":"13","4":"4"},{"1":"mechanic","2":"16","3":"67","4":"10"},{"1":"dispatcher","2":"3","3":"13","4":"50"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I didn’t really need the <code>values_fill</code> since there are no missing frequencies, but I’ve gotten used to putting it in. There are a lot of misclassifications, but there are a lot of people, so a large fraction of people actually got classified correctly. The biggest frequencies are of people who got classified correctly. I think this is about what I was expecting, looking at the plot: the people top left are obviously customer service, the ones top right are in dispatch, and most of the ones at the bottom are mechanics. So there will be some errors, but the majority of people should be gotten right. The easiest pairing to get confused is customer service and mechanics, which you might guess from the plot: those customer service people with a middling <code>LD1</code> score and a low <code>LD2</code> score (that is, high on <code>outdoor</code>) could easily be confused with the mechanics. The easiest pairing to distinguish is customer service and dispatchers: on the plot, left and right, that is, low and high respectively on <code>LD1</code>.</p>
<p>What fraction of people actually got misclassified? You could just pull out the numbers and add them up, but you know me: I’m too lazy to do that.</p>
<p>We can work out the total number and fraction who got misclassified. There are different ways you might do this, but the <code>tidyverse</code> way provides the easiest starting point. For example, we can make a new column that indicates whether a group is the correct or wrong classification:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job, class) <span class="sc">%&gt;%</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job_stat =</span> <span class="fu">ifelse</span>(job <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job"],"name":[1],"type":["fct"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["job_stat"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"custserv","2":"custserv","3":"68","4":"correct"},{"1":"custserv","2":"mechanic","3":"13","4":"wrong"},{"1":"custserv","2":"dispatcher","3":"4","4":"wrong"},{"1":"mechanic","2":"custserv","3":"16","4":"wrong"},{"1":"mechanic","2":"mechanic","3":"67","4":"correct"},{"1":"mechanic","2":"dispatcher","3":"10","4":"wrong"},{"1":"dispatcher","2":"custserv","3":"3","4":"wrong"},{"1":"dispatcher","2":"mechanic","3":"13","4":"wrong"},{"1":"dispatcher","2":"dispatcher","3":"50","4":"correct"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>From there, we count up the correct and wrong ones, recognizing that we want to total up the <em>frequencies</em> in <code>n</code>, not just count the number of rows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job, class) <span class="sc">%&gt;%</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job_stat =</span> <span class="fu">ifelse</span>(job <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_stat, <span class="at">wt =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job_stat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"correct","2":"185"},{"1":"wrong","2":"59"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>and turn these into proportions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job, class) <span class="sc">%&gt;%</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job_stat =</span> <span class="fu">ifelse</span>(job <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job_stat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"correct","2":"185","3":"0.7581967"},{"1":"wrong","2":"59","3":"0.2418033"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>There is a <code>count</code> followed by another <code>count</code> of the first lot of counts, so the second count column has taken over the name <code>n</code>.</p>
<p>24% of all the employees got classified into the wrong job, based on their scores on <code>outdoor</code>, <code>social</code> and <code>conservative</code>.</p>
<p>This is actually not bad, from one point of view: if you just guessed which job each person did, without looking at their scores on the scales at all, you would get <span class="math inline">\({1\over 3}=33\%\)</span> of them right, just by luck, and <span class="math inline">\({2\over3}=67\%\)</span> of them wrong. From 67% to 24% error is a big improvement, and <em>that</em> is what the MANOVA is reacting to.</p>
<p>To figure out whether some of the groups were harder to classify than others, squeeze a <code>group_by</code> in early to do the counts and proportions for each (true) job:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job, class) <span class="sc">%&gt;%</span></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job_stat =</span> <span class="fu">ifelse</span>(job <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(job) <span class="sc">%&gt;%</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job"],"name":[1],"type":["fct"],"align":["left"]},{"label":["job_stat"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"custserv","2":"correct","3":"68","4":"0.8000000"},{"1":"custserv","2":"wrong","3":"17","4":"0.2000000"},{"1":"mechanic","2":"correct","3":"67","4":"0.7204301"},{"1":"mechanic","2":"wrong","3":"26","4":"0.2795699"},{"1":"dispatcher","2":"correct","3":"50","4":"0.7575758"},{"1":"dispatcher","2":"wrong","3":"16","4":"0.2424242"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>or even split out the correct and wrong ones into their own columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job, class) <span class="sc">%&gt;%</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job_stat =</span> <span class="fu">ifelse</span>(job <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(job) <span class="sc">%&gt;%</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>job_stat, <span class="at">values_from=</span>proportion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job"],"name":[1],"type":["fct"],"align":["left"]},{"label":["correct"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["wrong"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"custserv","2":"0.8000000","3":"0.2000000"},{"1":"mechanic","2":"0.7204301","3":"0.2795699"},{"1":"dispatcher","2":"0.7575758","3":"0.2424242"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The mechanics were hardest to get right and easiest to get wrong, though there isn’t much in it. I think the reason is that the mechanics were sort of “in the middle” in that a mechanic could be mistaken for either a dispatcher or a customer service representative, but but customer service and dispatchers were more or less distinct from each other.</p>
<p>It’s up to you whether you prefer to do this kind of thing by learning enough about <code>table</code> to get it to work, or whether you want to use tidy-data mechanisms to do it in a larger number of smaller steps. I immediately thought of <code>table</code> because I knew about it, but the tidy-data way is more consistent with the way we have been doing things.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="10" type="a">
<li>Consider an employee with these scores: 20 on <code>outdoor</code>, 17 on <code>social</code> and 8 on <code>conservative</code> What job do you think they do, and how certain are you about that? Use <code>predict</code>, first making a data frame out of the values to predict for.</li>
</ol>
<p>Solution</p>
<p>This is in fact exactly the same idea as the data frame that I generally called <code>new</code> when doing predictions for other models. I think the clearest way to make one of these is with <code>tribble</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>new <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>outdoor, <span class="sc">~</span>social, <span class="sc">~</span>conservative,</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">20</span>, <span class="dv">17</span>, <span class="dv">8</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>new</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"20","2":"17","3":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jobs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    outdoor          social       conservative           job    
 Min.   : 0.00   Min.   : 7.00   Min.   : 0.00   custserv  :85  
 1st Qu.:13.00   1st Qu.:17.00   1st Qu.: 8.00   mechanic  :93  
 Median :16.00   Median :21.00   Median :11.00   dispatcher:66  
 Mean   :15.64   Mean   :20.68   Mean   :10.59                  
 3rd Qu.:19.00   3rd Qu.:25.00   3rd Qu.:13.00                  
 Max.   :28.00   Max.   :35.00   Max.   :20.00                  
       id             X6           
 Min.   : 1.00   Length:244        
 1st Qu.:21.00   Class :character  
 Median :41.00   Mode  :character  
 Mean   :41.95                     
 3rd Qu.:61.25                     
 Max.   :93.00                     </code></pre>
</div>
</div>
<p>There’s no need for <code>datagrid</code> or <code>crossing</code> here because I’m not doing combinations of things. (I might have done that here, to get a sense for example of “what effect does a higher score on <code>outdoor</code> have on the likelihood of a person doing each job?”. But I didn’t.)</p>
<p>Then feed this into <code>predict</code> as the <em>second</em> thing:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>pp1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(job<span class="fl">.1</span>, new)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Our predictions are these:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(new, pp1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[4],"type":["fct"],"align":["left"]},{"label":["posterior.custserv"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"20","2":"17","3":"8","4":"mechanic","5":"0.05114665","6":"0.7800624","7":"0.1687909","8":"0.7138376","9":"-1.024436","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The <code>class</code> thing gives our predicted job, and the <code>posterior</code> probabilities say how sure we are about that. So we reckon there’s a 78% chance that this person is a mechanic; they might be a dispatcher but they are unlikely to be in customer service. Our best guess is that they are a mechanic.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p>
<p>Does this pass the sanity-check test? First figure out where our new employee stands compared to the others:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jobs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    outdoor          social       conservative           job    
 Min.   : 0.00   Min.   : 7.00   Min.   : 0.00   custserv  :85  
 1st Qu.:13.00   1st Qu.:17.00   1st Qu.: 8.00   mechanic  :93  
 Median :16.00   Median :21.00   Median :11.00   dispatcher:66  
 Mean   :15.64   Mean   :20.68   Mean   :10.59                  
 3rd Qu.:19.00   3rd Qu.:25.00   3rd Qu.:13.00                  
 Max.   :28.00   Max.   :35.00   Max.   :20.00                  
       id             X6           
 Min.   : 1.00   Length:244        
 1st Qu.:21.00   Class :character  
 Median :41.00   Mode  :character  
 Mean   :41.95                     
 3rd Qu.:61.25                     
 Max.   :93.00                     </code></pre>
</div>
</div>
<p>Their score on <code>outdoor</code> is above average, but their scores on the other two scales are below average (right on the 1st quartile in each case).</p>
<p>Go back to the table of means from the discriminant analysis output. The mechanics have the highest average for <code>outdoor</code>, they’re in the middle on <code>social</code> and they are lowish on <code>conservative</code>. Our new employee is at least somewhat like that.</p>
<p>Or, we can figure out where our new employee sits on the plot. The output from <code>predict</code> gives the predicted <code>LD1</code> and <code>LD2</code>, which are 0.71 and <span class="math inline">\(-1.02\)</span> respectively. This employee would sit to the right of and below the middle of the plot: in the greens, but with a few blues nearby: most likely a mechanic, possibly a dispatcher, but likely not customer service, as the posterior probabilities suggest.</p>
<p>Extra: I can use the same mechanism to predict for a combination of values. This would allow for the variability of each of the original variables to differ, and enable us to assess the effect of, say, a change in <code>conservative</code> over its “typical range”, which we found out above with <code>summary(jobs)</code>. I’ll take the quartiles, in my usual fashion:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>outdoors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">19</span>)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>socials <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">25</span>)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>conservatives <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">13</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The IQRs are not that different, which says that what we get here will not be that different from the ``coefficients of linear discriminants’’ above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>new <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">outdoor =</span> outdoors, <span class="at">social =</span> socials,</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">conservative =</span> conservatives</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>pp2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(job<span class="fl">.1</span>, new)</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>px <span class="ot">&lt;-</span> <span class="fu">round</span>(pp2<span class="sc">$</span>x, <span class="dv">2</span>)</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(new, pp2<span class="sc">$</span>class, px)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["pp2$class"],"name":[4],"type":["fct"],"align":["left"]},{"label":["LD1"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["LD2"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"13","2":"17","3":"8","4":"mechanic","5":"0.07","6":"0.55","_rn_":"1"},{"1":"13","2":"17","3":"13","4":"dispatcher","5":"0.84","6":"0.99","_rn_":"2"},{"1":"13","2":"25","3":"8","4":"custserv","5":"-1.48","6":"0.15","_rn_":"3"},{"1":"13","2":"25","3":"13","4":"custserv","5":"-0.71","6":"0.59","_rn_":"4"},{"1":"19","2":"17","3":"8","4":"mechanic","5":"0.62","6":"-0.80","_rn_":"5"},{"1":"19","2":"17","3":"13","4":"dispatcher","5":"1.40","6":"-0.36","_rn_":"6"},{"1":"19","2":"25","3":"8","4":"mechanic","5":"-0.93","6":"-1.20","_rn_":"7"},{"1":"19","2":"25","3":"13","4":"mechanic","5":"-0.16","6":"-0.76","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The highest (most positive) LD1 score goes with high outdoor, low social, high conservative (and being a dispatcher). It is often interesting to look at the <em>second</em>-highest one as well: here that is <em>low</em> outdoor, and the same low social and high conservative as before. That means that <code>outdoor</code> has nothing much to do with <code>LD1</code> score. Being low <code>social</code> is strongly associated with <code>LD1</code> being positive, so that’s the important part of <code>LD1</code>.</p>
<p>What about <code>LD2</code>? The most positive LD2 are these:</p>
<pre><code>
LD2    outdoor  social  conservative
====================================
0.99   low      low     high
0.59   low      high    high
0.55   low      low     low
</code></pre>
<p>These most consistently go with <code>outdoor</code> being low.</p>
<p>Is that consistent with the “coefficients of linear discriminants”?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>job<span class="fl">.1</span><span class="sc">$</span>scaling</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     LD1         LD2
social       -0.19427415 -0.04978105
outdoor       0.09198065 -0.22501431
conservative  0.15499199  0.08734288</code></pre>
</div>
</div>
<p>Very much so: <code>outdoor</code> has nothing much to do with <code>LD1</code> and everything to do with <code>LD2</code>.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="11" type="a">
<li>Since I am not making you hand this one in, I’m going to keep going. Re-run the analysis to incorporate cross-validation, and make a table of the predicted group memberships. Is it much different from the previous one you had? Why would that be?</li>
</ol>
<p>Solution</p>
<p>Stick a <code>CV=T</code> in the <code>lda</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>job<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(job <span class="sc">~</span> social <span class="sc">+</span> outdoor <span class="sc">+</span> conservative, <span class="at">data =</span> jobs, <span class="at">CV =</span> T)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(job<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 5
 $ class    : Factor w/ 3 levels "custserv","mechanic",..: 1 2 1 1 1 2 1 1 1 1 ...
 $ posterior: num [1:244, 1:3] 0.902 0.352 0.71 0.805 0.766 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:244] "1" "2" "3" "4" ...
  .. ..$ : chr [1:3] "custserv" "mechanic" "dispatcher"
 $ terms    :Classes 'terms', 'formula'  language job ~ social + outdoor + conservative
  .. ..- attr(*, "variables")= language list(job, social, outdoor, conservative)
  .. ..- attr(*, "factors")= int [1:4, 1:3] 0 1 0 0 0 0 1 0 0 0 ...
  .. .. ..- attr(*, "dimnames")=List of 2
  .. ..- attr(*, "term.labels")= chr [1:3] "social" "outdoor" "conservative"
  .. ..- attr(*, "order")= int [1:3] 1 1 1
  .. ..- attr(*, "intercept")= int 1
  .. ..- attr(*, "response")= int 1
  .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
  .. ..- attr(*, "predvars")= language list(job, social, outdoor, conservative)
  .. ..- attr(*, "dataClasses")= Named chr [1:4] "factor" "numeric" "numeric" "numeric"
  .. .. ..- attr(*, "names")= chr [1:4] "job" "social" "outdoor" "conservative"
 $ call     : language lda(formula = job ~ social + outdoor + conservative, data = jobs, CV = T)
 $ xlevels  : Named list()</code></pre>
</div>
</div>
<p>This directly contains a <code>class</code> (no need for a <code>predict</code>), so we make a data frame, with a different name since I shortly want to compare this one with the previous one:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>dcv <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jobs, <span class="at">class =</span> job<span class="fl">.3</span><span class="sc">$</span>class, <span class="at">posterior =</span> job<span class="fl">.3</span><span class="sc">$</span>posterior)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dcv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["fct"],"align":["left"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["X6"],"name":[6],"type":["chr"],"align":["left"]},{"label":["class"],"name":[7],"type":["fct"],"align":["left"]},{"label":["posterior.custserv"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher"],"name":[10],"type":["dbl"],"align":["right"]}],"data":[{"1":"10","2":"22","3":"5","4":"custserv","5":"1","6":"NA","7":"custserv","8":"0.9015959","9":"0.09090173","10":"0.0075023669","_rn_":"1"},{"1":"14","2":"17","3":"6","4":"custserv","5":"2","6":"NA","7":"mechanic","8":"0.3521921","9":"0.49980444","10":"0.1480034406","_rn_":"2"},{"1":"19","2":"33","3":"7","4":"custserv","5":"3","6":"NA","7":"custserv","8":"0.7101838","9":"0.28951755","10":"0.0002986778","_rn_":"3"},{"1":"14","2":"29","3":"12","4":"custserv","5":"4","6":"NA","7":"custserv","8":"0.8054563","9":"0.18657994","10":"0.0079637680","_rn_":"4"},{"1":"14","2":"25","3":"7","4":"custserv","5":"5","6":"NA","7":"custserv","8":"0.7655123","9":"0.22717194","10":"0.0073158061","_rn_":"5"},{"1":"20","2":"25","3":"12","4":"custserv","5":"6","6":"NA","7":"mechanic","8":"0.1579450","9":"0.79420994","10":"0.0478450256","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This is a bit fiddlier than before because <code>job.3</code> contains some things of different lengths and we can’t just <code>cbind</code> them all together.</p>
<p>Then go straight to the <code>table</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(dcv, <span class="fu">table</span>(job, class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            class
job          custserv mechanic dispatcher
  custserv         67       14          4
  mechanic         16       67         10
  dispatcher        3       14         49</code></pre>
</div>
</div>
<p>This is almost exactly the same as we had in part (<a href="#part:predjob">here</a>): the cross-validation has made almost no difference. The reason for that is that here, we have lots of data (you can predict for one mechanic, say, and there are still lots of others to say that the mechanics are “over there”. This is in sharp contrast to the example in class with the bellydancers, where if you try to predict for one of the extreme ones, the notion of “where are the bellydancers” changes substantially. Here, I suspect that the few people whose predictions changed were ones where the posterior probabilities were almost equal for two jobs, and the cross-validation was just enough to tip the balance. You can check this, but there are a lot of posterior probabilities to look at!</p>
<p>This is another way of saying that with small data sets, your conclusions are more “fragile” or less likely to be generalizable. With a larger data set like this one, cross-validation, which is the right thing to do, makes almost no difference.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p>
<p>All right, I suppose I do want to investigate the individuals whose predicted jobs changed, and look at their posterior probabilities. I think I have the machinery to do that.</p>
<p>Let’s start by gluing together the dataframes with the predictions from the regular <code>lda</code> (in <code>d</code>) and the ones from the cross-validation (in <code>dcv</code>). I think I can do that like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(dcv, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"job"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor.x"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social.x"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative.x"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["fct"],"align":["left"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["X6.x"],"name":[6],"type":["chr"],"align":["left"]},{"label":["class.x"],"name":[7],"type":["fct"],"align":["left"]},{"label":["posterior.custserv.x"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.x"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.x"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["outdoor.y"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["social.y"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["conservative.y"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["X6.y"],"name":[16],"type":["chr"],"align":["left"]},{"label":["class.y"],"name":[17],"type":["fct"],"align":["left"]},{"label":["posterior.custserv.y"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.y"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.y"],"name":[20],"type":["dbl"],"align":["right"]}],"data":[{"1":"10","2":"22","3":"5","4":"custserv","5":"1","6":"NA","7":"custserv","8":"9.037622e-01","9":"0.0889478485","10":"7.289988e-03","11":"-1.642315532","12":"7.147735e-01","13":"10","14":"22","15":"5","16":"NA","17":"custserv","18":"9.015959e-01","19":"0.0909017323","20":"7.502367e-03"},{"1":"14","2":"17","3":"6","4":"custserv","5":"2","6":"NA","7":"mechanic","8":"3.677743e-01","9":"0.4889789008","10":"1.432468e-01","11":"-0.148030225","12":"1.509644e-01","13":"14","14":"17","15":"6","16":"NA","17":"mechanic","18":"3.521921e-01","19":"0.4998044379","20":"1.480034e-01"},{"1":"19","2":"33","3":"7","4":"custserv","5":"3","6":"NA","7":"custserv","8":"7.302117e-01","9":"0.2694697105","10":"3.186265e-04","11":"-2.641521325","12":"-1.683261e+00","13":"19","14":"33","15":"7","16":"NA","17":"custserv","18":"7.101838e-01","19":"0.2895175491","20":"2.986778e-04"},{"1":"14","2":"29","3":"12","4":"custserv","5":"4","6":"NA","7":"custserv","8":"8.100756e-01","9":"0.1821731894","10":"7.751215e-03","11":"-1.549368056","12":"7.764901e-02","13":"14","14":"29","15":"12","16":"NA","17":"custserv","18":"8.054563e-01","19":"0.1865799427","20":"7.963768e-03"},{"1":"14","2":"25","3":"7","4":"custserv","5":"5","6":"NA","7":"custserv","8":"7.677607e-01","9":"0.2250538225","10":"7.185490e-03","11":"-1.547231403","12":"-1.599412e-01","13":"14","14":"25","15":"7","16":"NA","17":"custserv","18":"7.655123e-01","19":"0.2271719387","20":"7.315806e-03"},{"1":"20","2":"25","3":"12","4":"custserv","5":"6","6":"NA","7":"mechanic","8":"1.682521e-01","9":"0.7848248752","10":"4.692305e-02","11":"-0.220387584","12":"-1.073313e+00","13":"20","14":"25","15":"12","16":"NA","17":"mechanic","18":"1.579450e-01","19":"0.7942099381","20":"4.784503e-02"},{"1":"6","2":"18","3":"4","4":"custserv","5":"7","6":"NA","7":"custserv","8":"9.408328e-01","9":"0.0424620706","10":"1.670509e-02","11":"-1.388133530","12":"1.726612e+00","13":"6","14":"18","15":"4","16":"NA","17":"custserv","18":"9.379289e-01","19":"0.0439602743","20":"1.811083e-02"},{"1":"13","2":"27","3":"7","4":"custserv","5":"8","6":"NA","7":"custserv","8":"8.790086e-01","9":"0.1186423050","10":"2.349121e-03","11":"-2.027760343","12":"-3.448896e-02","13":"13","14":"27","15":"7","16":"NA","17":"custserv","18":"8.773010e-01","19":"0.1203168496","20":"2.382195e-03"},{"1":"18","2":"31","3":"9","4":"custserv","5":"9","6":"NA","7":"custserv","8":"6.767464e-01","9":"0.3217022453","10":"1.551373e-03","11":"-2.034969711","12":"-1.183999e+00","13":"18","14":"31","15":"9","16":"NA","17":"custserv","18":"6.630531e-01","19":"0.3353941278","20":"1.552731e-03"},{"1":"16","2":"35","3":"13","4":"custserv","5":"10","6":"NA","7":"custserv","8":"8.643564e-01","9":"0.1347795344","10":"8.641095e-04","11":"-2.376059646","12":"-5.837230e-01","13":"16","14":"35","15":"13","16":"NA","17":"custserv","18":"8.537434e-01","19":"0.1454071153","20":"8.495300e-04"},{"1":"17","2":"25","3":"8","4":"custserv","5":"11","6":"NA","7":"custserv","8":"4.950388e-01","9":"0.4914751264","10":"1.348603e-02","11":"-1.116297472","12":"-7.476412e-01","13":"17","14":"25","15":"8","16":"NA","17":"mechanic","18":"4.900523e-01","19":"0.4961867815","20":"1.376092e-02"},{"1":"10","2":"29","3":"11","4":"custserv","5":"12","6":"NA","7":"custserv","8":"9.537446e-01","9":"0.0437303474","10":"2.525084e-03","11":"-2.072282636","12":"8.903634e-01","13":"10","14":"29","15":"11","16":"NA","17":"custserv","18":"9.529787e-01","19":"0.0444497636","20":"2.571578e-03"},{"1":"17","2":"25","3":"7","4":"custserv","5":"13","6":"NA","7":"custserv","8":"5.240823e-01","9":"0.4665293631","10":"9.388337e-03","11":"-1.271289458","12":"-8.349841e-01","13":"17","14":"25","15":"7","16":"NA","17":"custserv","18":"5.177483e-01","19":"0.4726677462","20":"9.584003e-03"},{"1":"10","2":"22","3":"13","4":"custserv","5":"14","6":"NA","7":"custserv","8":"6.819795e-01","9":"0.1606625929","10":"1.573579e-01","11":"-0.402379646","12":"1.413517e+00","13":"10","14":"22","15":"13","16":"NA","17":"custserv","18":"6.741477e-01","19":"0.1639151041","20":"1.619372e-01"},{"1":"10","2":"31","3":"13","4":"custserv","5":"15","6":"NA","7":"custserv","8":"9.613543e-01","9":"0.0365588154","10":"2.086923e-03","11":"-2.150846955","12":"9.654870e-01","13":"10","14":"31","15":"13","16":"NA","17":"custserv","18":"9.604500e-01","19":"0.0374216844","20":"2.128320e-03"},{"1":"18","2":"25","3":"5","4":"custserv","5":"16","6":"NA","7":"mechanic","8":"4.887584e-01","9":"0.5065409138","10":"4.700656e-03","11":"-1.489292781","12":"-1.234684e+00","13":"18","14":"25","15":"5","16":"NA","17":"mechanic","18":"4.747643e-01","19":"0.5204646333","20":"4.771076e-03"},{"1":"0","2":"27","3":"11","4":"custserv","5":"17","6":"NA","7":"custserv","8":"9.974534e-01","9":"0.0016911727","10":"8.554731e-04","11":"-2.603540829","12":"3.240069e+00","13":"0","14":"27","15":"11","16":"NA","17":"custserv","18":"9.976650e-01","19":"0.0014939107","20":"8.411382e-04"},{"1":"10","2":"24","3":"12","4":"custserv","5":"18","6":"NA","7":"custserv","8":"8.370707e-01","9":"0.1179003525","10":"4.502895e-02","11":"-0.945919923","12":"1.226612e+00","13":"10","14":"24","15":"12","16":"NA","17":"custserv","18":"8.340782e-01","19":"0.1197743609","20":"4.614747e-02"},{"1":"15","2":"23","3":"10","4":"custserv","5":"19","6":"NA","7":"custserv","8":"5.004012e-01","9":"0.4419175871","10":"5.768116e-02","11":"-0.601726507","12":"-2.336475e-02","13":"15","14":"23","15":"10","16":"NA","17":"custserv","18":"4.984006e-01","19":"0.4433833185","20":"5.821608e-02"},{"1":"8","2":"29","3":"14","4":"custserv","5":"20","6":"NA","7":"custserv","8":"9.649054e-01","9":"0.0292665325","10":"5.828045e-03","11":"-1.791267975","12":"1.602421e+00","13":"8","14":"29","15":"14","16":"NA","17":"custserv","18":"9.640506e-01","19":"0.0298520020","20":"6.097378e-03"},{"1":"6","2":"27","3":"11","4":"custserv","5":"21","6":"NA","7":"custserv","8":"9.815677e-01","9":"0.0153480620","10":"3.084262e-03","11":"-2.051656939","12":"1.889983e+00","13":"6","14":"27","15":"11","16":"NA","17":"custserv","18":"9.814446e-01","19":"0.0153892528","20":"3.166103e-03"},{"1":"10","2":"17","3":"8","4":"custserv","5":"22","6":"NA","7":"custserv","8":"5.697748e-01","9":"0.2142654531","10":"2.159598e-01","11":"-0.205968848","12":"1.225707e+00","13":"10","14":"17","15":"8","16":"NA","17":"custserv","18":"5.564430e-01","19":"0.2193844588","20":"2.241726e-01"},{"1":"1","2":"30","3":"6","4":"custserv","5":"23","6":"NA","7":"custserv","8":"9.991982e-01","9":"0.0007741549","10":"2.761694e-05","11":"-3.869342546","12":"2.428997e+00","13":"1","14":"30","15":"6","16":"NA","17":"custserv","18":"9.993360e-01","19":"0.0006425343","20":"2.150907e-05"},{"1":"14","2":"29","3":"7","4":"custserv","5":"24","6":"NA","7":"custserv","8":"8.837774e-01","9":"0.1151828840","10":"1.039703e-03","11":"-2.324327985","12":"-3.590654e-01","13":"14","14":"29","15":"7","16":"NA","17":"custserv","18":"8.812319e-01","19":"0.1177243692","20":"1.043763e-03"},{"1":"13","2":"21","3":"11","4":"custserv","5":"25","6":"NA","7":"custserv","8":"4.938044e-01","9":"0.3478209184","10":"1.583747e-01","11":"-0.242147527","12":"6.135689e-01","13":"13","14":"21","15":"11","16":"NA","17":"custserv","18":"4.900475e-01","19":"0.3507825820","20":"1.591699e-01"},{"1":"21","2":"31","3":"11","4":"custserv","5":"26","6":"NA","7":"mechanic","8":"3.564096e-01","9":"0.6399736784","10":"3.616675e-03","11":"-1.449043794","12":"-1.684356e+00","13":"21","14":"31","15":"11","16":"NA","17":"mechanic","18":"3.284696e-01","19":"0.6679472291","20":"3.583212e-03"},{"1":"12","2":"26","3":"9","4":"custserv","5":"27","6":"NA","7":"custserv","8":"8.693126e-01","9":"0.1234199965","10":"7.267402e-03","11":"-1.615482874","12":"4.149922e-01","13":"12","14":"26","15":"9","16":"NA","17":"custserv","18":"8.681486e-01","19":"0.1244616639","20":"7.389737e-03"},{"1":"12","2":"22","3":"9","4":"custserv","5":"28","6":"NA","7":"custserv","8":"7.215912e-01","9":"0.2304179226","10":"4.799088e-02","11":"-0.838386292","12":"6.141164e-01","13":"12","14":"22","15":"9","16":"NA","17":"custserv","18":"7.197249e-01","19":"0.2318062554","20":"4.846884e-02"},{"1":"5","2":"25","3":"7","4":"custserv","5":"29","6":"NA","7":"custserv","8":"9.883365e-01","9":"0.0103444748","10":"1.319044e-03","11":"-2.375057239","12":"1.865188e+00","13":"5","14":"25","15":"7","16":"NA","17":"custserv","18":"9.883962e-01","19":"0.0102735851","20":"1.330263e-03"},{"1":"10","2":"24","3":"5","4":"custserv","5":"30","6":"NA","7":"custserv","8":"9.359042e-01","9":"0.0614193101","10":"2.676529e-03","11":"-2.030863823","12":"6.152114e-01","13":"10","14":"24","15":"5","16":"NA","17":"custserv","18":"9.347196e-01","19":"0.0625547690","20":"2.725584e-03"},{"1":"3","2":"20","3":"14","4":"custserv","5":"31","6":"NA","7":"custserv","8":"8.018758e-01","9":"0.0236590252","10":"1.744651e-01","11":"-0.502703908","12":"3.175522e+00","13":"3","14":"20","15":"14","16":"NA","17":"custserv","18":"7.742463e-01","19":"0.0235896872","20":"2.021640e-01"},{"1":"6","2":"25","3":"12","4":"custserv","5":"32","6":"NA","7":"custserv","8":"9.618798e-01","9":"0.0251561754","10":"1.296402e-02","11":"-1.508116662","12":"2.076888e+00","13":"6","14":"25","15":"12","16":"NA","17":"custserv","18":"9.609191e-01","19":"0.0254749476","20":"1.360592e-02"},{"1":"11","2":"27","3":"10","4":"custserv","5":"33","6":"NA","7":"custserv","8":"9.129230e-01","9":"0.0815110137","10":"5.565968e-03","11":"-1.746745682","12":"6.775683e-01","13":"11","14":"27","15":"10","16":"NA","17":"custserv","18":"9.118209e-01","19":"0.0825052772","20":"5.673827e-03"},{"1":"13","2":"21","3":"14","4":"custserv","5":"34","6":"NA","7":"dispatcher","8":"3.220516e-01","9":"0.3146838699","10":"3.632646e-01","11":"0.222828431","12":"8.755975e-01","13":"13","14":"21","15":"14","16":"NA","17":"dispatcher","18":"3.110459e-01","19":"0.3194771955","20":"3.694769e-01"},{"1":"11","2":"23","3":"5","4":"custserv","5":"35","6":"NA","7":"custserv","8":"8.909918e-01","9":"0.1036949094","10":"5.313327e-03","11":"-1.744609029","12":"4.399781e-01","13":"11","14":"23","15":"5","16":"NA","17":"custserv","18":"8.887897e-01","19":"0.1057697409","20":"5.440523e-03"},{"1":"8","2":"18","3":"8","4":"custserv","5":"36","6":"NA","7":"custserv","8":"7.734984e-01","9":"0.1132639919","10":"1.132376e-01","11":"-0.584204290","12":"1.625955e+00","13":"8","14":"18","15":"8","16":"NA","17":"custserv","18":"7.645667e-01","19":"0.1163652476","20":"1.190680e-01"},{"1":"5","2":"17","3":"9","4":"custserv","5":"37","6":"NA","7":"custserv","8":"7.928969e-01","9":"0.0522175881","10":"1.548856e-01","11":"-0.510880104","12":"2.438122e+00","13":"5","14":"17","15":"9","16":"NA","17":"custserv","18":"7.758784e-01","19":"0.0534832962","20":"1.706383e-01"},{"1":"11","2":"22","3":"11","4":"custserv","5":"38","6":"NA","7":"custserv","8":"7.152302e-01","9":"0.1961688726","10":"8.860092e-02","11":"-0.620382969","12":"1.013816e+00","13":"11","14":"22","15":"11","16":"NA","17":"custserv","18":"7.120042e-01","19":"0.1983147027","20":"8.968111e-02"},{"1":"14","2":"22","3":"11","4":"custserv","5":"39","6":"NA","7":"custserv","8":"4.830847e-01","9":"0.4023708150","10":"1.145445e-01","11":"-0.344441024","12":"3.387735e-01","13":"14","14":"22","15":"11","16":"NA","17":"custserv","18":"4.801022e-01","19":"0.4047357863","20":"1.151620e-01"},{"1":"22","2":"22","3":"6","4":"custserv","5":"40","6":"NA","7":"mechanic","8":"9.523627e-02","9":"0.8890830359","10":"1.568069e-02","11":"-0.383555765","12":"-1.898055e+00","13":"22","14":"22","15":"6","16":"NA","17":"mechanic","18":"8.328070e-02","19":"0.9010277467","20":"1.569155e-02"},{"1":"16","2":"28","3":"6","4":"custserv","5":"41","6":"NA","7":"custserv","8":"7.679833e-01","9":"0.2304785704","10":"1.538158e-03","11":"-2.101084529","12":"-8.466558e-01","13":"16","14":"28","15":"6","16":"NA","17":"custserv","18":"7.616243e-01","19":"0.2368262506","20":"1.549406e-03"},{"1":"12","2":"25","3":"8","4":"custserv","5":"42","6":"NA","7":"custserv","8":"8.582757e-01","9":"0.1338004111","10":"7.923928e-03","11":"-1.576200714","12":"3.774303e-01","13":"12","14":"25","15":"8","16":"NA","17":"custserv","18":"8.570963e-01","19":"0.1348488652","20":"8.054796e-03"},{"1":"12","2":"25","3":"7","4":"custserv","5":"43","6":"NA","7":"custserv","8":"8.727131e-01","9":"0.1219886414","10":"5.298216e-03","11":"-1.731192700","12":"2.900875e-01","13":"12","14":"25","15":"7","16":"NA","17":"custserv","18":"8.713396e-01","19":"0.1232692610","20":"5.391098e-03"},{"1":"15","2":"21","3":"4","4":"custserv","5":"44","6":"NA","7":"custserv","8":"5.832550e-01","9":"0.4014139446","10":"1.533108e-02","11":"-1.143130131","12":"-4.478599e-01","13":"15","14":"21","15":"4","16":"NA","17":"custserv","18":"5.706328e-01","19":"0.4135417207","20":"1.582551e-02"},{"1":"11","2":"28","3":"8","4":"custserv","5":"45","6":"NA","7":"custserv","8":"9.432314e-01","9":"0.0552880094","10":"1.480633e-03","11":"-2.251003799","12":"4.531015e-01","13":"11","14":"28","15":"8","16":"NA","17":"custserv","18":"9.424628e-01","19":"0.0560415630","20":"1.495624e-03"},{"1":"11","2":"20","3":"9","4":"custserv","5":"46","6":"NA","7":"custserv","8":"6.748657e-01","9":"0.2231741012","10":"1.019602e-01","11":"-0.541818650","12":"9.386928e-01","13":"11","14":"20","15":"9","16":"NA","17":"custserv","18":"6.705930e-01","19":"0.2259802818","20":"1.034267e-01"},{"1":"15","2":"19","3":"9","4":"custserv","5":"47","6":"NA","7":"mechanic","8":"2.955104e-01","9":"0.5262939623","10":"1.781956e-01","11":"0.020378089","12":"8.841658e-02","13":"15","14":"19","15":"9","16":"NA","17":"mechanic","18":"2.892635e-01","19":"0.5309880384","20":"1.797484e-01"},{"1":"15","2":"24","3":"7","4":"custserv","5":"48","6":"NA","7":"custserv","8":"6.496219e-01","9":"0.3377002656","10":"1.267779e-02","11":"-1.260976609","12":"-3.351744e-01","13":"15","14":"24","15":"7","16":"NA","17":"custserv","18":"6.465180e-01","19":"0.3405640467","20":"1.291799e-02"},{"1":"15","2":"21","3":"10","4":"custserv","5":"49","6":"NA","7":"mechanic","8":"3.774214e-01","9":"0.4998701545","10":"1.227084e-01","11":"-0.213178216","12":"7.619736e-02","13":"15","14":"21","15":"10","16":"NA","17":"mechanic","18":"3.739661e-01","19":"0.5026088101","20":"1.234251e-01"},{"1":"17","2":"26","3":"7","4":"custserv","5":"50","6":"NA","7":"custserv","8":"5.755170e-01","9":"0.4183442282","10":"6.138769e-03","11":"-1.465563603","12":"-8.847652e-01","13":"17","14":"26","15":"7","16":"NA","17":"custserv","18":"5.687186e-01","19":"0.4250221357","20":"6.259229e-03"},{"1":"12","2":"28","3":"13","4":"custserv","5":"51","6":"NA","7":"custserv","8":"8.603505e-01","9":"0.1260109570","10":"1.363857e-02","11":"-1.384063222","12":"6.648016e-01","13":"12","14":"28","15":"13","16":"NA","17":"custserv","18":"8.567805e-01","19":"0.1291169423","20":"1.410258e-02"},{"1":"7","2":"28","3":"12","4":"custserv","5":"52","6":"NA","7":"custserv","8":"9.764155e-01","9":"0.0201350730","10":"3.449384e-03","11":"-1.998958450","12":"1.702530e+00","13":"7","14":"28","15":"12","16":"NA","17":"custserv","18":"9.761418e-01","19":"0.0203090285","20":"3.549184e-03"},{"1":"14","2":"12","3":"6","4":"custserv","5":"53","6":"NA","7":"dispatcher","8":"1.013578e-01","9":"0.3711805789","10":"5.274616e-01","11":"0.823340502","12":"3.998696e-01","13":"14","14":"12","15":"6","16":"NA","17":"dispatcher","18":"8.223677e-02","19":"0.3667692252","20":"5.509940e-01"},{"1":"22","2":"24","3":"6","4":"custserv","5":"54","6":"NA","7":"mechanic","8":"1.373009e-01","9":"0.8546840791","10":"8.015011e-03","11":"-0.772104056","12":"-1.997618e+00","13":"22","14":"24","15":"6","16":"NA","17":"mechanic","18":"1.222768e-01","19":"0.8697585447","20":"7.964666e-03"},{"1":"22","2":"27","3":"12","4":"custserv","5":"55","6":"NA","7":"mechanic","8":"1.302936e-01","9":"0.8498459777","10":"1.986045e-02","11":"-0.424974578","12":"-1.622903e+00","13":"22","14":"27","15":"12","16":"NA","17":"mechanic","18":"1.160156e-01","19":"0.8639522011","20":"2.003224e-02"},{"1":"18","2":"30","3":"9","4":"custserv","5":"56","6":"NA","7":"custserv","8":"6.305186e-01","9":"0.3670539517","10":"2.427472e-03","11":"-1.840695565","12":"-1.134218e+00","13":"18","14":"30","15":"9","16":"NA","17":"custserv","18":"6.179477e-01","19":"0.3796015651","20":"2.450782e-03"},{"1":"16","2":"18","3":"5","4":"custserv","5":"57","6":"NA","7":"mechanic","8":"3.052008e-01","9":"0.6230462861","10":"7.175295e-02","11":"-0.313335060","12":"-4.361882e-01","13":"16","14":"18","15":"5","16":"NA","17":"mechanic","18":"2.885197e-01","19":"0.6373977298","20":"7.408255e-02"},{"1":"12","2":"23","3":"4","4":"custserv","5":"58","6":"NA","7":"custserv","8":"8.650641e-01","9":"0.1307240754","10":"4.211839e-03","11":"-1.807620367","12":"1.276209e-01","13":"12","14":"23","15":"4","16":"NA","17":"custserv","18":"8.614504e-01","19":"0.1342358317","20":"4.313814e-03"},{"1":"16","2":"22","3":"2","4":"custserv","5":"59","6":"NA","7":"custserv","8":"6.014337e-01","9":"0.3935126078","10":"5.053717e-03","11":"-1.555407599","12":"-8.973410e-01","13":"16","14":"22","15":"2","16":"NA","17":"custserv","18":"5.800604e-01","19":"0.4147716187","20":"5.167962e-03"},{"1":"15","2":"26","3":"9","4":"custserv","5":"60","6":"NA","7":"custserv","8":"6.910126e-01","9":"0.2979301609","10":"1.105727e-02","11":"-1.339540929","12":"-2.600508e-01","13":"15","14":"26","15":"9","16":"NA","17":"custserv","18":"6.887098e-01","19":"0.3000364384","20":"1.125377e-02"},{"1":"7","2":"13","3":"7","4":"custserv","5":"61","6":"NA","7":"dispatcher","8":"4.375162e-01","9":"0.1092588927","10":"4.532249e-01","11":"0.140193803","12":"2.012532e+00","13":"7","14":"13","15":"7","16":"NA","17":"dispatcher","18":"3.915656e-01","19":"0.1091245644","20":"4.993098e-01"},{"1":"6","2":"18","3":"6","4":"custserv","5":"62","6":"NA","7":"custserv","8":"9.114106e-01","9":"0.0511644494","10":"3.742499e-02","11":"-1.078149559","12":"1.901298e+00","13":"6","14":"18","15":"6","16":"NA","17":"custserv","18":"9.067625e-01","19":"0.0527878840","20":"4.044963e-02"},{"1":"9","2":"24","3":"6","4":"custserv","5":"63","6":"NA","7":"custserv","8":"9.487266e-01","9":"0.0479502714","10":"3.323158e-03","11":"-1.967852486","12":"9.275686e-01","13":"9","14":"24","15":"6","16":"NA","17":"custserv","18":"9.479463e-01","19":"0.0486636791","20":"3.390047e-03"},{"1":"9","2":"20","3":"12","4":"custserv","5":"64","6":"NA","7":"custserv","8":"6.396191e-01","9":"0.1399212131","10":"2.204597e-01","11":"-0.260803989","12":"1.650750e+00","13":"9","14":"20","15":"12","16":"NA","17":"custserv","18":"6.296750e-01","19":"0.1427717631","20":"2.275532e-01"},{"1":"20","2":"28","3":"8","4":"custserv","5":"65","6":"NA","7":"mechanic","8":"3.769863e-01","9":"0.6188639027","10":"4.149835e-03","11":"-1.423177963","12":"-1.572027e+00","13":"20","14":"28","15":"8","16":"NA","17":"mechanic","18":"3.603471e-01","19":"0.6354747314","20":"4.178210e-03"},{"1":"5","2":"22","3":"15","4":"custserv","5":"66","6":"NA","7":"custserv","8":"8.150930e-01","9":"0.0375046016","10":"1.474024e-01","11":"-0.552298916","12":"2.713274e+00","13":"5","14":"22","15":"15","16":"NA","17":"custserv","18":"7.958047e-01","19":"0.0381876729","20":"1.660076e-01"},{"1":"14","2":"26","3":"17","4":"custserv","5":"67","6":"NA","7":"custserv","8":"4.804647e-01","9":"0.3424095294","10":"1.771258e-01","11":"-0.191585691","12":"6.637066e-01","13":"14","14":"26","15":"17","16":"NA","17":"custserv","18":"4.535833e-01","19":"0.3564338501","20":"1.899828e-01"},{"1":"8","2":"28","3":"12","4":"custserv","5":"68","6":"NA","7":"custserv","8":"9.668855e-01","9":"0.0288735299","10":"4.240998e-03","11":"-1.906977801","12":"1.477516e+00","13":"8","14":"28","15":"12","16":"NA","17":"custserv","18":"9.663553e-01","19":"0.0292786181","20":"4.366069e-03"},{"1":"14","2":"22","3":"9","4":"custserv","5":"69","6":"NA","7":"custserv","8":"5.642826e-01","9":"0.3778629731","10":"5.785442e-02","11":"-0.654424995","12":"1.640877e-01","13":"14","14":"22","15":"9","16":"NA","17":"custserv","18":"5.624192e-01","19":"0.3792364918","20":"5.834435e-02"},{"1":"15","2":"26","3":"4","4":"custserv","5":"70","6":"NA","7":"custserv","8":"7.988256e-01","9":"0.1996028063","10":"1.571578e-03","11":"-2.114500858","12":"-6.967652e-01","13":"15","14":"26","15":"4","16":"NA","17":"custserv","18":"7.921634e-01","19":"0.2062528007","20":"1.583798e-03"},{"1":"15","2":"25","3":"10","4":"custserv","5":"71","6":"NA","7":"custserv","8":"6.135977e-01","9":"0.3613257474","10":"2.507652e-02","11":"-0.990274797","12":"-1.229268e-01","13":"15","14":"25","15":"10","16":"NA","17":"custserv","18":"6.115209e-01","19":"0.3630313609","20":"2.544777e-02"},{"1":"14","2":"27","3":"6","4":"custserv","5":"72","6":"NA","7":"custserv","8":"8.493025e-01","9":"0.1488443717","10":"1.853127e-03","11":"-2.090771680","12":"-3.468462e-01","13":"14","14":"27","15":"6","16":"NA","17":"custserv","18":"8.464136e-01","19":"0.1517112655","20":"1.875131e-03"},{"1":"15","2":"25","3":"11","4":"custserv","5":"73","6":"NA","7":"custserv","8":"5.817686e-01","9":"0.3820746444","10":"3.615675e-02","11":"-0.835282812","12":"-3.558397e-02","13":"15","14":"25","15":"11","16":"NA","17":"custserv","18":"5.787862e-01","19":"0.3845196437","20":"3.669419e-02"},{"1":"11","2":"26","3":"9","4":"custserv","5":"74","6":"NA","7":"custserv","8":"9.051632e-01","9":"0.0887421887","10":"6.094582e-03","11":"-1.707463523","12":"6.400065e-01","13":"11","14":"26","15":"9","16":"NA","17":"custserv","18":"9.041778e-01","19":"0.0896198215","20":"6.202361e-03"},{"1":"10","2":"28","3":"5","4":"custserv","5":"75","6":"NA","7":"custserv","8":"9.713098e-01","9":"0.0283410443","10":"3.491677e-04","11":"-2.807960405","12":"4.160872e-01","13":"10","14":"28","15":"5","16":"NA","17":"custserv","18":"9.709300e-01","19":"0.0287283607","20":"3.416697e-04"},{"1":"7","2":"22","3":"10","4":"custserv","5":"76","6":"NA","7":"custserv","8":"9.172652e-01","9":"0.0512945333","10":"3.144031e-02","11":"-1.143297549","12":"1.826531e+00","13":"7","14":"22","15":"10","16":"NA","17":"custserv","18":"9.151237e-01","19":"0.0521945697","20":"3.268170e-02"},{"1":"11","2":"15","3":"12","4":"custserv","5":"77","6":"NA","7":"dispatcher","8":"1.068060e-01","9":"0.1349552313","10":"7.582388e-01","11":"0.894528035","12":"1.449627e+00","13":"11","14":"15","15":"12","16":"NA","17":"dispatcher","18":"9.511037e-02","19":"0.1334633801","20":"7.714262e-01"},{"1":"14","2":"25","3":"15","4":"custserv","5":"78","6":"NA","7":"custserv","8":"5.077766e-01","9":"0.3562832211","10":"1.359402e-01","11":"-0.307295517","12":"5.388019e-01","13":"14","14":"25","15":"15","16":"NA","17":"custserv","18":"4.933835e-01","19":"0.3655002047","20":"1.411163e-01"},{"1":"18","2":"28","3":"7","4":"custserv","5":"79","6":"NA","7":"custserv","8":"5.859625e-01","9":"0.4112861174","10":"2.751358e-03","11":"-1.762131246","12":"-1.209342e+00","13":"18","14":"28","15":"7","16":"NA","17":"custserv","18":"5.746374e-01","19":"0.4225807192","20":"2.781837e-03"},{"1":"14","2":"29","3":"8","4":"custserv","5":"80","6":"NA","7":"custserv","8":"8.717307e-01","9":"0.1267097808","10":"1.559568e-03","11":"-2.169335999","12":"-2.717225e-01","13":"14","14":"29","15":"8","16":"NA","17":"custserv","18":"8.692442e-01","19":"0.1291806661","20":"1.575158e-03"},{"1":"17","2":"20","3":"6","4":"custserv","5":"81","6":"NA","7":"mechanic","8":"2.979887e-01","9":"0.6551123471","10":"4.689900e-02","11":"-0.454910717","12":"-6.734217e-01","13":"17","14":"20","15":"6","16":"NA","17":"mechanic","18":"2.869621e-01","19":"0.6650354417","20":"4.800251e-02"},{"1":"13","2":"25","3":"14","4":"custserv","5":"82","6":"NA","7":"custserv","8":"6.344252e-01","9":"0.2756221181","10":"8.995264e-02","11":"-0.554268151","12":"6.764733e-01","13":"13","14":"25","15":"14","16":"NA","17":"custserv","18":"6.256674e-01","19":"0.2816191313","20":"9.271344e-02"},{"1":"9","2":"21","3":"12","4":"custserv","5":"83","6":"NA","7":"custserv","8":"7.226154e-01","9":"0.1290819384","10":"1.483026e-01","11":"-0.455078135","12":"1.600969e+00","13":"9","14":"21","15":"12","16":"NA","17":"custserv","18":"7.154223e-01","19":"0.1316780347","20":"1.528997e-01"},{"1":"13","2":"26","3":"13","4":"custserv","5":"84","6":"NA","7":"custserv","8":"7.280124e-01","9":"0.2315718430","10":"4.041574e-02","11":"-0.903534282","12":"5.393494e-01","13":"13","14":"26","15":"13","16":"NA","17":"custserv","18":"7.227717e-01","19":"0.2357418452","20":"4.148643e-02"},{"1":"16","2":"24","3":"10","4":"custserv","5":"85","6":"NA","7":"mechanic","8":"4.695896e-01","9":"0.4903925046","10":"4.001790e-02","11":"-0.704020004","12":"-2.981601e-01","13":"16","14":"24","15":"10","16":"NA","17":"mechanic","18":"4.668114e-01","19":"0.4926120251","20":"4.057659e-02"},{"1":"20","2":"27","3":"6","4":"mechanic","5":"1","6":"NA","7":"mechanic","8":"3.810625e-01","9":"0.6158913595","10":"3.046185e-03","11":"-1.538887789","12":"-1.696932e+00","13":"20","14":"27","15":"6","16":"NA","17":"mechanic","18":"3.948077e-01","19":"0.6022588342","20":"2.933515e-03"},{"1":"21","2":"15","3":"10","4":"mechanic","5":"2","6":"NA","7":"mechanic","8":"1.450807e-02","9":"0.5977248885","10":"3.877670e-01","11":"1.504350548","12":"-9.752022e-01","13":"21","14":"15","15":"10","16":"NA","17":"mechanic","18":"1.442787e-02","19":"0.5882516677","20":"3.973205e-01"},{"1":"15","2":"27","3":"12","4":"mechanic","5":"3","6":"NA","7":"custserv","8":"6.570708e-01","9":"0.3209113839","10":"2.201784e-02","11":"-1.068839117","12":"-4.780320e-02","13":"15","14":"27","15":"12","16":"NA","17":"custserv","18":"6.674949e-01","19":"0.3104923549","20":"2.201274e-02"},{"1":"15","2":"29","3":"8","4":"mechanic","5":"4","6":"NA","7":"custserv","8":"8.245977e-01","9":"0.1735706360","10":"1.831683e-03","11":"-2.077355351","12":"-4.967368e-01","13":"15","14":"29","15":"8","16":"NA","17":"custserv","18":"8.377469e-01","19":"0.1605535131","20":"1.699581e-03"},{"1":"11","2":"25","3":"11","4":"mechanic","5":"5","6":"NA","7":"custserv","8":"8.507090e-01","9":"0.1270438510","10":"2.224719e-02","11":"-1.203205405","12":"8.644733e-01","13":"11","14":"25","15":"11","16":"NA","17":"custserv","18":"8.598203e-01","19":"0.1182066332","20":"2.197309e-02"},{"1":"24","2":"9","3":"17","4":"mechanic","5":"6","6":"NA","7":"dispatcher","8":"4.444566e-05","9":"0.0402571239","10":"9.596984e-01","11":"4.030881267","12":"-7.401587e-01","13":"24","14":"9","15":"17","16":"NA","17":"dispatcher","18":"2.295947e-05","19":"0.0257759629","20":"9.742011e-01"},{"1":"18","2":"21","3":"13","4":"mechanic","5":"7","6":"NA","7":"mechanic","8":"1.140489e-01","9":"0.6363397688","10":"2.496113e-01","11":"0.527739687","12":"-3.368169e-01","13":"18","14":"21","15":"13","16":"NA","17":"mechanic","18":"1.151891e-01","19":"0.6333884677","20":"2.514224e-01"},{"1":"14","2":"18","3":"4","4":"mechanic","5":"8","6":"NA","7":"custserv","8":"5.068084e-01","9":"0.4423674151","10":"5.082414e-02","11":"-0.652288343","12":"-7.350244e-02","13":"14","14":"18","15":"4","16":"NA","17":"custserv","18":"5.256043e-01","19":"0.4229786779","20":"5.141707e-02"},{"1":"13","2":"22","3":"12","4":"mechanic","5":"9","6":"NA","7":"custserv","8":"5.176276e-01","9":"0.3320451101","10":"1.503273e-01","11":"-0.281429686","12":"6.511307e-01","13":"13","14":"22","15":"12","16":"NA","17":"custserv","18":"5.230521e-01","19":"0.3247764786","20":"1.521714e-01"},{"1":"17","2":"21","3":"9","4":"mechanic","5":"10","6":"NA","7":"mechanic","8":"2.617847e-01","9":"0.6519356111","10":"8.627973e-02","11":"-0.184208905","12":"-4.611741e-01","13":"17","14":"21","15":"9","16":"NA","17":"mechanic","18":"2.627134e-01","19":"0.6503803417","20":"8.690622e-02"},{"1":"16","2":"28","3":"13","4":"mechanic","5":"11","6":"NA","7":"custserv","8":"5.946078e-01","9":"0.3829911730","10":"2.240108e-02","11":"-1.016140628","12":"-2.352557e-01","13":"16","14":"28","15":"13","16":"NA","17":"custserv","18":"6.089565e-01","19":"0.3686953256","20":"2.234813e-02"},{"1":"15","2":"22","3":"12","4":"mechanic","5":"12","6":"NA","7":"mechanic","8":"3.580478e-01","9":"0.4816520105","10":"1.603001e-01","11":"-0.097468389","12":"2.011021e-01","13":"15","14":"22","15":"12","16":"NA","17":"mechanic","18":"3.606313e-01","19":"0.4775594118","20":"1.618093e-01"},{"1":"24","2":"20","3":"15","4":"mechanic","5":"13","6":"NA","7":"mechanic","8":"9.047848e-03","9":"0.7091703489","10":"2.817818e-01","11":"1.583881695","12":"-1.462436e+00","13":"24","14":"20","15":"15","16":"NA","17":"mechanic","18":"8.870980e-03","19":"0.6965538998","20":"2.945751e-01"},{"1":"14","2":"19","3":"13","4":"mechanic","5":"14","6":"NA","7":"dispatcher","8":"1.818092e-01","9":"0.3459362957","10":"4.722545e-01","11":"0.548365384","12":"6.628024e-01","13":"14","14":"19","15":"13","16":"NA","17":"dispatcher","18":"1.840422e-01","19":"0.3386514187","20":"4.773064e-01"},{"1":"14","2":"28","3":"1","4":"mechanic","5":"15","6":"NA","7":"custserv","8":"9.232779e-01","9":"0.0765745994","10":"1.474794e-04","11":"-3.060005755","12":"-8.333416e-01","13":"14","14":"28","15":"1","16":"NA","17":"custserv","18":"9.425517e-01","19":"0.0573490216","20":"9.924449e-05"},{"1":"18","2":"17","3":"11","4":"mechanic","5":"16","6":"NA","7":"mechanic","8":"5.371204e-02","9":"0.5419003972","10":"4.043876e-01","11":"0.994852297","12":"-3.123785e-01","13":"18","14":"17","15":"11","16":"NA","17":"mechanic","18":"5.426567e-02","19":"0.5386311142","20":"4.071032e-01"},{"1":"14","2":"24","3":"7","4":"mechanic","5":"17","6":"NA","7":"custserv","8":"7.274351e-01","9":"0.2611311186","10":"1.143381e-02","11":"-1.352957258","12":"-1.101601e-01","13":"14","14":"24","15":"7","16":"NA","17":"custserv","18":"7.353373e-01","19":"0.2532900715","20":"1.137261e-02"},{"1":"12","2":"16","3":"10","4":"mechanic","5":"18","6":"NA","7":"dispatcher","8":"2.236793e-01","9":"0.2686932558","10":"5.076275e-01","11":"0.482250566","12":"1.000146e+00","13":"12","14":"16","15":"10","16":"NA","17":"dispatcher","18":"2.266860e-01","19":"0.2567189930","20":"5.165950e-01"},{"1":"16","2":"21","3":"10","4":"mechanic","5":"19","6":"NA","7":"mechanic","8":"3.010574e-01","9":"0.5774126448","10":"1.215299e-01","11":"-0.121197567","12":"-1.488170e-01","13":"16","14":"21","15":"10","16":"NA","17":"mechanic","18":"3.020072e-01","19":"0.5756721091","20":"1.223207e-01"},{"1":"18","2":"19","3":"9","4":"mechanic","5":"20","6":"NA","7":"mechanic","8":"1.322283e-01","9":"0.7151531191","10":"1.526186e-01","11":"0.296320035","12":"-5.866264e-01","13":"18","14":"19","15":"9","16":"NA","17":"mechanic","18":"1.332280e-01","19":"0.7131842365","20":"1.535877e-01"},{"1":"19","2":"26","3":"7","4":"mechanic","5":"21","6":"NA","7":"mechanic","8":"3.935759e-01","9":"0.5999523328","10":"6.471784e-03","11":"-1.281602307","12":"-1.334794e+00","13":"19","14":"26","15":"7","16":"NA","17":"mechanic","18":"4.021017e-01","19":"0.5914948099","20":"6.403483e-03"},{"1":"13","2":"20","3":"10","4":"mechanic","5":"22","6":"NA","7":"custserv","8":"4.700075e-01","9":"0.3635186070","10":"1.664739e-01","11":"-0.202865367","12":"5.760070e-01","13":"13","14":"20","15":"10","16":"NA","17":"custserv","18":"4.742141e-01","19":"0.3574320909","20":"1.683538e-01"},{"1":"28","2":"16","3":"10","4":"mechanic","5":"23","6":"NA","7":"mechanic","8":"1.913184e-03","9":"0.8595850073","10":"1.385018e-01","11":"1.953940941","12":"-2.600083e+00","13":"28","14":"16","15":"10","16":"NA","17":"mechanic","18":"1.745101e-03","19":"0.8485236032","20":"1.497313e-01"},{"1":"17","2":"19","3":"11","4":"mechanic","5":"24","6":"NA","7":"mechanic","8":"1.282814e-01","9":"0.5959330417","10":"2.757856e-01","11":"0.514323358","12":"-1.869263e-01","13":"17","14":"19","15":"11","16":"NA","17":"mechanic","18":"1.293013e-01","19":"0.5941023186","20":"2.765964e-01"},{"1":"24","2":"14","3":"7","4":"mechanic","5":"25","6":"NA","7":"mechanic","8":"7.359440e-03","9":"0.8128511865","10":"1.797894e-01","11":"1.509590681","12":"-1.862493e+00","13":"24","14":"14","15":"7","16":"NA","17":"mechanic","18":"7.150757e-03","19":"0.8012356952","20":"1.916135e-01"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"26","6":"NA","7":"mechanic","8":"1.546963e-01","9":"0.7472978899","10":"9.800578e-02","11":"0.076180059","12":"-7.487362e-01","13":"19","14":"23","15":"12","16":"NA","17":"mechanic","18":"1.560004e-01","19":"0.7451021731","20":"9.889743e-02"},{"1":"22","2":"12","3":"8","4":"mechanic","5":"27","6":"NA","7":"mechanic","8":"6.366740e-03","9":"0.5608687606","10":"4.327645e-01","11":"1.869169661","12":"-1.225559e+00","13":"22","14":"12","15":"8","16":"NA","17":"mechanic","18":"6.042621e-03","19":"0.5361657945","20":"4.577916e-01"},{"1":"22","2":"21","3":"11","4":"mechanic","5":"28","6":"NA","7":"mechanic","8":"4.352380e-02","9":"0.8585872696","10":"9.788893e-02","11":"0.585678309","12":"-1.411560e+00","13":"22","14":"21","15":"11","16":"NA","17":"mechanic","18":"4.395119e-02","19":"0.8568542950","20":"9.919452e-02"},{"1":"21","2":"19","3":"9","4":"mechanic","5":"29","6":"NA","7":"mechanic","8":"5.093261e-02","9":"0.8365453708","10":"1.125220e-01","11":"0.572261980","12":"-1.261669e+00","13":"21","14":"19","15":"9","16":"NA","17":"mechanic","18":"5.145406e-02","19":"0.8345886905","20":"1.139572e-01"},{"1":"18","2":"24","3":"13","4":"mechanic","5":"30","6":"NA","7":"mechanic","8":"2.222210e-01","9":"0.6751051113","10":"1.026739e-01","11":"-0.055082749","12":"-4.861601e-01","13":"18","14":"24","15":"13","16":"NA","17":"mechanic","18":"2.250005e-01","19":"0.6709712273","20":"1.040283e-01"},{"1":"23","2":"27","3":"11","4":"mechanic","5":"31","6":"NA","7":"mechanic","8":"1.042359e-01","9":"0.8827918327","10":"1.297222e-02","11":"-0.487985915","12":"-1.935261e+00","13":"23","14":"27","15":"11","16":"NA","17":"mechanic","18":"1.073042e-01","19":"0.8796497541","20":"1.304601e-02"},{"1":"20","2":"23","3":"12","4":"mechanic","5":"32","6":"NA","7":"mechanic","8":"1.138676e-01","9":"0.7965633033","10":"8.956908e-02","11":"0.168160707","12":"-9.737506e-01","13":"20","14":"23","15":"12","16":"NA","17":"mechanic","18":"1.150229e-01","19":"0.7944607377","20":"9.051638e-02"},{"1":"19","2":"13","3":"7","4":"mechanic","5":"33","6":"NA","7":"mechanic","8":"2.766735e-02","9":"0.5876329522","10":"3.846997e-01","11":"1.243961584","12":"-6.876401e-01","13":"19","14":"13","15":"7","16":"NA","17":"mechanic","18":"2.765270e-02","19":"0.5707779118","20":"4.015694e-01"},{"1":"17","2":"28","3":"13","4":"mechanic","5":"34","6":"NA","7":"custserv","8":"5.051718e-01","9":"0.4711982009","10":"2.363000e-02","11":"-0.924159979","12":"-4.602700e-01","13":"17","14":"28","15":"13","16":"NA","17":"custserv","18":"5.184914e-01","19":"0.4578221004","20":"2.368647e-02"},{"1":"20","2":"24","3":"5","4":"mechanic","5":"35","6":"NA","7":"mechanic","8":"2.712627e-01","9":"0.7219828096","10":"6.754493e-03","11":"-1.111057339","12":"-1.634932e+00","13":"20","14":"24","15":"5","16":"NA","17":"mechanic","18":"2.801906e-01","19":"0.7131326342","20":"6.676778e-03"},{"1":"21","2":"23","3":"11","4":"mechanic","5":"36","6":"NA","7":"mechanic","8":"9.323552e-02","9":"0.8468861175","10":"5.987836e-02","11":"0.105149370","12":"-1.286108e+00","13":"21","14":"23","15":"11","16":"NA","17":"mechanic","18":"9.423015e-02","19":"0.8452270222","20":"6.054283e-02"},{"1":"17","2":"21","3":"15","4":"mechanic","5":"37","6":"NA","7":"mechanic","8":"1.013269e-01","9":"0.4856037318","10":"4.130693e-01","11":"0.745743010","12":"6.288312e-02","13":"17","14":"21","15":"15","16":"NA","17":"mechanic","18":"1.027189e-01","19":"0.4770392457","20":"4.202418e-01"},{"1":"11","2":"25","3":"12","4":"mechanic","5":"38","6":"NA","7":"custserv","8":"8.289650e-01","9":"0.1380675414","10":"3.296750e-02","11":"-1.048213420","12":"9.518162e-01","13":"11","14":"25","15":"12","16":"NA","17":"custserv","18":"8.393720e-01","19":"0.1279590796","20":"3.266891e-02"},{"1":"14","2":"19","3":"14","4":"mechanic","5":"39","6":"NA","7":"dispatcher","8":"1.413975e-01","9":"0.3000578672","10":"5.585446e-01","11":"0.703357370","12":"7.501453e-01","13":"14","14":"19","15":"14","16":"NA","17":"dispatcher","18":"1.430496e-01","19":"0.2908911029","20":"5.660593e-01"},{"1":"18","2":"24","3":"5","4":"mechanic","5":"40","6":"NA","7":"mechanic","8":"4.375726e-01","9":"0.5553596192","10":"7.067738e-03","11":"-1.295018636","12":"-1.184903e+00","13":"18","14":"24","15":"5","16":"NA","17":"mechanic","18":"4.491272e-01","19":"0.5439037204","20":"6.969038e-03"},{"1":"13","2":"14","3":"7","4":"mechanic","5":"41","6":"NA","7":"dispatcher","8":"1.945372e-01","9":"0.3658468484","10":"4.396160e-01","11":"0.497803548","12":"6.126647e-01","13":"13","14":"14","15":"7","16":"NA","17":"dispatcher","18":"1.986703e-01","19":"0.3466237170","20":"4.547059e-01"},{"1":"22","2":"18","3":"16","4":"mechanic","5":"42","6":"NA","7":"dispatcher","8":"6.659222e-03","9":"0.4163001775","10":"5.770406e-01","11":"1.943460675","12":"-8.255024e-01","13":"22","14":"18","15":"16","16":"NA","17":"dispatcher","18":"6.371978e-03","19":"0.3968358373","20":"5.967922e-01"},{"1":"25","2":"17","3":"13","4":"mechanic","5":"43","6":"NA","7":"mechanic","8":"4.035569e-03","9":"0.6763358520","10":"3.196286e-01","11":"1.948700808","12":"-1.712793e+00","13":"25","14":"17","15":"13","16":"NA","17":"mechanic","18":"3.850422e-03","19":"0.6608129027","20":"3.353367e-01"},{"1":"19","2":"25","3":"13","4":"mechanic","5":"44","6":"NA","7":"mechanic","8":"2.026747e-01","9":"0.7280952982","10":"6.923004e-02","11":"-0.157376246","12":"-7.609555e-01","13":"19","14":"25","15":"13","16":"NA","17":"mechanic","18":"2.060213e-01","19":"0.7236780382","20":"7.030067e-02"},{"1":"20","2":"20","3":"9","4":"mechanic","5":"45","6":"NA","7":"mechanic","8":"8.833131e-02","9":"0.8180841927","10":"9.358450e-02","11":"0.286007186","12":"-1.086436e+00","13":"20","14":"20","15":"9","16":"NA","17":"mechanic","18":"8.910090e-02","19":"0.8164928227","20":"9.440628e-02"},{"1":"21","2":"25","3":"11","4":"mechanic","5":"46","6":"NA","7":"mechanic","8":"1.372798e-01","9":"0.8314620896","10":"3.125813e-02","11":"-0.283398921","12":"-1.385670e+00","13":"21","14":"25","15":"11","16":"NA","17":"mechanic","18":"1.393974e-01","19":"0.8289820564","20":"3.162057e-02"},{"1":"17","2":"24","3":"11","4":"mechanic","5":"47","6":"NA","7":"mechanic","8":"3.511831e-01","9":"0.5923086915","10":"5.650817e-02","11":"-0.457047369","12":"-4.358315e-01","13":"17","14":"24","15":"11","16":"NA","17":"mechanic","18":"3.531484e-01","19":"0.5897770436","20":"5.707459e-02"},{"1":"18","2":"26","3":"10","4":"mechanic","5":"48","6":"NA","7":"mechanic","8":"3.989089e-01","9":"0.5825108760","10":"1.858018e-02","11":"-0.908606998","12":"-8.477508e-01","13":"18","14":"26","15":"10","16":"NA","17":"mechanic","18":"4.035638e-01","19":"0.5777392776","20":"1.869694e-02"},{"1":"21","2":"29","3":"11","4":"mechanic","5":"49","6":"NA","7":"mechanic","8":"2.687072e-01","9":"0.7236019746","10":"7.690800e-03","11":"-1.060495503","12":"-1.584794e+00","13":"21","14":"29","15":"11","16":"NA","17":"mechanic","18":"2.789949e-01","19":"0.7133975232","20":"7.607586e-03"},{"1":"17","2":"21","3":"12","4":"mechanic","5":"50","6":"NA","7":"mechanic","8":"1.781320e-01","9":"0.6153903320","10":"2.064777e-01","11":"0.280767053","12":"-1.991455e-01","13":"17","14":"21","15":"12","16":"NA","17":"mechanic","18":"1.793248e-01","19":"0.6132221411","20":"2.074531e-01"},{"1":"17","2":"19","3":"12","4":"mechanic","5":"51","6":"NA","7":"mechanic","8":"1.058156e-01","9":"0.5482344743","10":"3.459499e-01","11":"0.669315344","12":"-9.958341e-02","13":"17","14":"19","15":"12","16":"NA","17":"mechanic","18":"1.068536e-01","19":"0.5458593856","20":"3.472870e-01"},{"1":"17","2":"16","3":"6","4":"mechanic","5":"52","6":"NA","7":"mechanic","8":"1.389531e-01","9":"0.6870680964","10":"1.739788e-01","11":"0.322185865","12":"-4.742975e-01","13":"17","14":"16","15":"6","16":"NA","17":"mechanic","18":"1.424462e-01","19":"0.6783904915","20":"1.791633e-01"},{"1":"16","2":"22","3":"5","4":"mechanic","5":"53","6":"NA","7":"custserv","8":"5.162079e-01","9":"0.4685369972","10":"1.525508e-02","11":"-1.090431642","12":"-6.353124e-01","13":"16","14":"22","15":"5","16":"NA","17":"custserv","18":"5.271940e-01","19":"0.4575798097","20":"1.522623e-02"},{"1":"22","2":"19","3":"10","4":"mechanic","5":"54","6":"NA","7":"mechanic","8":"3.154765e-02","9":"0.8368540071","10":"1.315983e-01","11":"0.819234614","12":"-1.399341e+00","13":"22","14":"19","15":"10","16":"NA","17":"mechanic","18":"3.181222e-02","19":"0.8345727796","20":"1.336150e-01"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"55","6":"NA","7":"mechanic","8":"1.546963e-01","9":"0.7472978899","10":"9.800578e-02","11":"0.076180059","12":"-7.487362e-01","13":"19","14":"23","15":"12","16":"NA","17":"mechanic","18":"1.560004e-01","19":"0.7451021731","20":"9.889743e-02"},{"1":"16","2":"23","3":"9","4":"mechanic","5":"56","6":"NA","7":"mechanic","8":"4.462685e-01","9":"0.5117321428","10":"4.199934e-02","11":"-0.664737844","12":"-3.357219e-01","13":"16","14":"23","15":"9","16":"NA","17":"mechanic","18":"4.480954e-01","19":"0.5094695218","20":"4.243503e-02"},{"1":"18","2":"27","3":"11","4":"mechanic","5":"57","6":"NA","7":"mechanic","8":"4.215770e-01","9":"0.5606425665","10":"1.778044e-02","11":"-0.947889157","12":"-8.101890e-01","13":"18","14":"27","15":"11","16":"NA","17":"mechanic","18":"4.286638e-01","19":"0.5534769861","20":"1.785919e-02"},{"1":"21","2":"24","3":"12","4":"mechanic","5":"58","6":"NA","7":"mechanic","8":"1.014840e-01","9":"0.8394991446","10":"5.901682e-02","11":"0.065867210","12":"-1.248546e+00","13":"21","14":"24","15":"12","16":"NA","17":"mechanic","18":"1.028970e-01","19":"0.8372620092","20":"5.984097e-02"},{"1":"15","2":"22","3":"13","4":"mechanic","5":"59","6":"NA","7":"mechanic","8":"3.143532e-01","9":"0.4716208615","10":"2.140259e-01","11":"0.057523596","12":"2.884449e-01","13":"15","14":"22","15":"13","16":"NA","17":"mechanic","18":"3.177253e-01","19":"0.4658393745","20":"2.164354e-01"},{"1":"19","2":"26","3":"12","4":"mechanic","5":"60","6":"NA","7":"mechanic","8":"2.656731e-01","9":"0.6987948125","10":"3.553211e-02","11":"-0.506642377","12":"-8.980794e-01","13":"19","14":"26","15":"12","16":"NA","17":"mechanic","18":"2.700925e-01","19":"0.6939517916","20":"3.595569e-02"},{"1":"14","2":"17","3":"11","4":"mechanic","5":"61","6":"NA","7":"dispatcher","8":"1.547478e-01","9":"0.3550153647","10":"4.902368e-01","11":"0.626929704","12":"5.876788e-01","13":"14","14":"17","15":"11","16":"NA","17":"dispatcher","18":"1.566358e-01","19":"0.3481204155","20":"4.952438e-01"},{"1":"15","2":"23","3":"7","4":"mechanic","5":"62","6":"NA","7":"custserv","8":"5.990222e-01","9":"0.3813445332","10":"1.963323e-02","11":"-1.066702464","12":"-2.853934e-01","13":"15","14":"23","15":"7","16":"NA","17":"custserv","18":"6.051086e-01","19":"0.3751565213","20":"1.973488e-02"},{"1":"23","2":"20","3":"16","4":"mechanic","5":"63","6":"NA","7":"mechanic","8":"1.004930e-02","9":"0.6066208578","10":"3.833298e-01","11":"1.646893032","12":"-1.150079e+00","13":"23","14":"20","15":"16","16":"NA","17":"mechanic","18":"9.812454e-03","19":"0.5895732785","20":"4.006143e-01"},{"1":"22","2":"26","3":"15","4":"mechanic","5":"64","6":"NA","7":"mechanic","8":"7.703519e-02","9":"0.8536081721","10":"6.935664e-02","11":"0.234275525","12":"-1.311094e+00","13":"22","14":"26","15":"15","16":"NA","17":"mechanic","18":"7.943337e-02","19":"0.8487349044","20":"7.183172e-02"},{"1":"13","2":"16","3":"11","4":"mechanic","5":"65","6":"NA","7":"dispatcher","8":"1.384048e-01","9":"0.2685166334","10":"5.930786e-01","11":"0.729223201","12":"8.624741e-01","13":"13","14":"16","15":"11","16":"NA","17":"dispatcher","18":"1.398890e-01","19":"0.2588045252","20":"6.013065e-01"},{"1":"25","2":"29","3":"11","4":"mechanic","5":"66","6":"NA","7":"mechanic","8":"7.745584e-02","9":"0.9172756109","10":"5.268551e-03","11":"-0.692572909","12":"-2.484851e+00","13":"25","14":"29","15":"11","16":"NA","17":"mechanic","18":"8.095827e-02","19":"0.9138764341","20":"5.165292e-03"},{"1":"23","2":"24","3":"7","4":"mechanic","5":"67","6":"NA","7":"mechanic","8":"8.957511e-02","9":"0.9005516501","10":"9.873244e-03","11":"-0.525131422","12":"-2.135289e+00","13":"23","14":"24","15":"7","16":"NA","17":"mechanic","18":"9.188770e-02","19":"0.8982262784","20":"9.886021e-03"},{"1":"17","2":"29","3":"9","4":"mechanic","5":"68","6":"NA","7":"custserv","8":"6.677764e-01","9":"0.3287461102","10":"3.477501e-03","11":"-1.738402068","12":"-8.594226e-01","13":"17","14":"29","15":"9","16":"NA","17":"custserv","18":"6.822062e-01","19":"0.3144567714","20":"3.337040e-03"},{"1":"21","2":"19","3":"7","4":"mechanic","5":"69","6":"NA","7":"mechanic","8":"6.596322e-02","9":"0.8710234752","10":"6.301330e-02","11":"0.262278009","12":"-1.436355e+00","13":"21","14":"19","15":"7","16":"NA","17":"mechanic","18":"6.701427e-02","19":"0.8688177135","20":"6.416801e-02"},{"1":"15","2":"13","3":"6","4":"mechanic","5":"70","6":"NA","7":"mechanic","8":"1.089597e-01","9":"0.4718417916","10":"4.191985e-01","11":"0.721047005","12":"1.250743e-01","13":"15","14":"13","15":"6","16":"NA","17":"mechanic","18":"1.111935e-01","19":"0.4499668022","20":"4.388397e-01"},{"1":"19","2":"27","3":"14","4":"mechanic","5":"71","6":"NA","7":"mechanic","8":"2.593547e-01","9":"0.6928799361","10":"4.776533e-02","11":"-0.390932551","12":"-7.731747e-01","13":"19","14":"27","15":"14","16":"NA","17":"mechanic","18":"2.674316e-01","19":"0.6838652040","20":"4.870319e-02"},{"1":"22","2":"24","3":"14","4":"mechanic","5":"72","6":"NA","7":"mechanic","8":"5.691481e-02","9":"0.8480464521","10":"9.503874e-02","11":"0.467831830","12":"-1.298874e+00","13":"22","14":"24","15":"14","16":"NA","17":"mechanic","18":"5.796365e-02","19":"0.8444782912","20":"9.755806e-02"},{"1":"17","2":"18","3":"8","4":"mechanic","5":"73","6":"NA","7":"mechanic","8":"1.631958e-01","9":"0.6692651852","10":"1.675390e-01","11":"0.243621546","12":"-3.991739e-01","13":"17","14":"18","15":"8","16":"NA","17":"mechanic","18":"1.650479e-01","19":"0.6655326258","20":"1.694194e-01"},{"1":"21","2":"19","3":"8","4":"mechanic","5":"74","6":"NA","7":"mechanic","8":"5.820853e-02","9":"0.8572299996","10":"8.456147e-02","11":"0.417269994","12":"-1.349012e+00","13":"21","14":"19","15":"8","16":"NA","17":"mechanic","18":"5.893181e-02","19":"0.8552015265","20":"8.586666e-02"},{"1":"24","2":"18","3":"13","4":"mechanic","5":"75","6":"NA","7":"mechanic","8":"7.491403e-03","9":"0.7079630895","10":"2.845455e-01","11":"1.662446014","12":"-1.537560e+00","13":"24","14":"18","15":"13","16":"NA","17":"mechanic","18":"7.344524e-03","19":"0.6977257593","20":"2.949297e-01"},{"1":"21","2":"12","3":"9","4":"mechanic","5":"76","6":"NA","7":"dispatcher","8":"6.574656e-03","9":"0.4460604063","10":"5.473649e-01","11":"1.932180998","12":"-9.132019e-01","13":"21","14":"12","15":"9","16":"NA","17":"dispatcher","18":"6.248876e-03","19":"0.4233238050","20":"5.704273e-01"},{"1":"15","2":"17","3":"8","4":"mechanic","5":"77","6":"NA","7":"mechanic","8":"2.215688e-01","9":"0.5306266834","10":"2.478046e-01","11":"0.253934395","12":"1.006358e-01","13":"15","14":"17","15":"8","16":"NA","17":"mechanic","18":"2.248797e-01","19":"0.5235184821","20":"2.516018e-01"},{"1":"24","2":"22","3":"14","4":"mechanic","5":"78","6":"NA","7":"mechanic","8":"1.814155e-02","9":"0.8501376257","10":"1.317208e-01","11":"1.040341418","12":"-1.649341e+00","13":"24","14":"22","15":"14","16":"NA","17":"mechanic","18":"1.820278e-02","19":"0.8453478827","20":"1.364493e-01"},{"1":"19","2":"19","3":"7","4":"mechanic","5":"79","6":"NA","7":"mechanic","8":"1.263200e-01","9":"0.7954036797","10":"7.827628e-02","11":"0.078316712","12":"-9.863264e-01","13":"19","14":"19","15":"7","16":"NA","17":"mechanic","18":"1.281322e-01","19":"0.7924447206","20":"7.942307e-02"},{"1":"23","2":"16","3":"10","4":"mechanic","5":"80","6":"NA","7":"mechanic","8":"1.040750e-02","9":"0.7342552318","10":"2.553373e-01","11":"1.494037699","12":"-1.475012e+00","13":"23","14":"16","15":"10","16":"NA","17":"mechanic","18":"1.030377e-02","19":"0.7260332931","20":"2.636629e-01"},{"1":"21","2":"29","3":"12","4":"mechanic","5":"81","6":"NA","7":"mechanic","8":"2.471054e-01","9":"0.7421391527","10":"1.075548e-02","11":"-0.905503517","12":"-1.497451e+00","13":"21","14":"29","15":"12","16":"NA","17":"mechanic","18":"2.570711e-01","19":"0.7322084699","20":"1.072039e-02"},{"1":"20","2":"19","3":"11","4":"mechanic","5":"82","6":"NA","7":"mechanic","8":"5.202222e-02","9":"0.7339080028","10":"2.140698e-01","11":"0.790265303","12":"-8.619692e-01","13":"20","14":"19","15":"11","16":"NA","17":"mechanic","18":"5.247938e-02","19":"0.7319890166","20":"2.155316e-01"},{"1":"18","2":"28","3":"0","4":"mechanic","5":"83","6":"NA","7":"custserv","8":"7.534177e-01","9":"0.2463942665","10":"1.880719e-04","11":"-2.847075147","12":"-1.820742e+00","13":"18","14":"28","15":"0","16":"NA","17":"custserv","18":"8.006081e-01","19":"0.1992645529","20":"1.273722e-04"},{"1":"23","2":"21","3":"16","4":"mechanic","5":"84","6":"NA","7":"mechanic","8":"1.369770e-02","9":"0.6751890552","10":"3.111132e-01","11":"1.452618887","12":"-1.199860e+00","13":"23","14":"21","15":"16","16":"NA","17":"mechanic","18":"1.353468e-02","19":"0.6608414477","20":"3.256239e-01"},{"1":"17","2":"17","3":"8","4":"mechanic","5":"85","6":"NA","7":"mechanic","8":"1.290933e-01","9":"0.6483313458","10":"2.225753e-01","11":"0.437895691","12":"-3.493928e-01","13":"17","14":"17","15":"8","16":"NA","17":"mechanic","18":"1.308424e-01","19":"0.6435044536","20":"2.256532e-01"},{"1":"17","2":"24","3":"5","4":"mechanic","5":"86","6":"NA","7":"custserv","8":"5.292573e-01","9":"0.4638575918","10":"6.885111e-03","11":"-1.386999284","12":"-9.598888e-01","13":"17","14":"24","15":"5","16":"NA","17":"custserv","18":"5.417162e-01","19":"0.4515157930","20":"6.768020e-03"},{"1":"17","2":"18","3":"15","4":"mechanic","5":"87","6":"NA","7":"dispatcher","8":"3.434966e-02","9":"0.3023369650","10":"6.633134e-01","11":"1.328565447","12":"2.122263e-01","13":"17","14":"18","15":"15","16":"NA","17":"dispatcher","18":"3.438784e-02","19":"0.2928991501","20":"6.727130e-01"},{"1":"17","2":"23","3":"10","4":"mechanic","5":"88","6":"NA","7":"mechanic","8":"3.300682e-01","9":"0.6112786186","10":"5.865320e-02","11":"-0.417765210","12":"-4.733934e-01","13":"17","14":"23","15":"10","16":"NA","17":"mechanic","18":"3.310955e-01","19":"0.6097336424","20":"5.917087e-02"},{"1":"19","2":"15","3":"10","4":"mechanic","5":"89","6":"NA","7":"mechanic","8":"2.632700e-02","9":"0.5172261334","10":"4.564469e-01","11":"1.320389251","12":"-5.251736e-01","13":"19","14":"15","15":"10","16":"NA","17":"mechanic","18":"2.642124e-02","19":"0.5095112862","20":"4.640675e-01"},{"1":"17","2":"20","3":"8","4":"mechanic","5":"90","6":"NA","7":"mechanic","8":"2.439916e-01","9":"0.6672007895","10":"8.880757e-02","11":"-0.144926745","12":"-4.987360e-01","13":"17","14":"20","15":"8","16":"NA","17":"mechanic","18":"2.457082e-01","19":"0.6646563409","20":"8.963542e-02"},{"1":"25","2":"20","3":"8","4":"mechanic","5":"91","6":"NA","7":"mechanic","8":"1.787608e-02","9":"0.9453756458","10":"3.674828e-02","11":"0.590918443","12":"-2.298850e+00","13":"25","14":"20","15":"8","16":"NA","17":"mechanic","18":"1.797840e-02","19":"0.9443719153","20":"3.764968e-02"},{"1":"16","2":"19","3":"8","4":"mechanic","5":"92","6":"NA","7":"mechanic","8":"2.628249e-01","9":"0.6077789461","10":"1.293962e-01","11":"-0.042633248","12":"-2.239406e-01","13":"16","14":"19","15":"8","16":"NA","17":"mechanic","18":"2.652139e-01","19":"0.6040358909","20":"1.307502e-01"},{"1":"19","2":"16","3":"6","4":"mechanic","5":"93","6":"NA","7":"mechanic","8":"7.519155e-02","9":"0.7796743157","10":"1.451341e-01","11":"0.506147162","12":"-9.243262e-01","13":"19","14":"16","15":"6","16":"NA","17":"mechanic","18":"7.687065e-02","19":"0.7733127888","20":"1.498166e-01"},{"1":"19","2":"19","3":"16","4":"dispatcher","5":"1","6":"NA","7":"dispatcher","8":"2.233844e-02","9":"0.3755027546","10":"6.021588e-01","11":"1.473244584","12":"-2.002405e-01","13":"19","14":"19","15":"16","16":"NA","17":"dispatcher","18":"2.297406e-02","19":"0.3838866657","20":"5.931393e-01"},{"1":"17","2":"17","3":"12","4":"dispatcher","5":"2","6":"NA","7":"dispatcher","8":"5.558202e-02","9":"0.4318755298","10":"5.125425e-01","11":"1.057863635","12":"-2.130522e-05","13":"17","14":"17","15":"12","16":"NA","17":"dispatcher","18":"5.623822e-02","19":"0.4333398749","20":"5.104219e-01"},{"1":"8","2":"17","3":"14","4":"dispatcher","5":"3","6":"NA","7":"dispatcher","8":"2.279882e-01","9":"0.0786765659","10":"6.933352e-01","11":"0.540021770","12":"2.199793e+00","13":"8","14":"17","15":"14","16":"NA","17":"dispatcher","18":"2.427581e-01","19":"0.0808727862","20":"6.763691e-01"},{"1":"13","2":"20","3":"16","4":"dispatcher","5":"4","6":"NA","7":"dispatcher","8":"1.455729e-01","9":"0.2166700625","10":"6.377571e-01","11":"0.727086548","12":"1.100064e+00","13":"13","14":"20","15":"16","16":"NA","17":"dispatcher","18":"1.507420e-01","19":"0.2222149798","20":"6.270431e-01"},{"1":"14","2":"18","3":"4","4":"dispatcher","5":"5","6":"NA","7":"custserv","8":"5.068084e-01","9":"0.4423674151","10":"5.082414e-02","11":"-0.652288343","12":"-7.350244e-02","13":"14","14":"18","15":"4","16":"NA","17":"custserv","18":"5.209550e-01","19":"0.4388994189","20":"4.014561e-02"},{"1":"17","2":"12","3":"13","4":"dispatcher","5":"6","6":"NA","7":"dispatcher","8":"4.711858e-03","9":"0.1124653067","10":"8.828228e-01","11":"2.184226348","12":"3.362268e-01","13":"17","14":"12","15":"13","16":"NA","17":"dispatcher","18":"4.797337e-03","19":"0.1143260899","20":"8.808766e-01"},{"1":"17","2":"12","3":"17","4":"dispatcher","5":"7","6":"NA","7":"dispatcher","8":"9.615280e-04","9":"0.0355074481","10":"9.635310e-01","11":"2.804194291","12":"6.855983e-01","13":"17","14":"12","15":"17","16":"NA","17":"dispatcher","18":"9.619115e-04","19":"0.0362584172","20":"9.627797e-01"},{"1":"14","2":"21","3":"16","4":"dispatcher","5":"8","6":"NA","7":"dispatcher","8":"1.666968e-01","9":"0.2933919879","10":"5.399112e-01","11":"0.624793051","12":"8.252689e-01","13":"14","14":"21","15":"16","16":"NA","17":"dispatcher","18":"1.723025e-01","19":"0.3006478914","20":"5.270496e-01"},{"1":"19","2":"18","3":"12","4":"dispatcher","5":"9","6":"NA","7":"mechanic","8":"4.391730e-02","9":"0.5843441781","10":"3.717385e-01","11":"1.047550786","12":"-4.998310e-01","13":"19","14":"18","15":"12","16":"NA","17":"mechanic","18":"4.470520e-02","19":"0.5883071712","20":"3.669876e-01"},{"1":"18","2":"16","3":"15","4":"dispatcher","5":"10","6":"NA","7":"dispatcher","8":"1.139711e-02","9":"0.2178601020","10":"7.707428e-01","11":"1.809094386","12":"8.677407e-02","13":"18","14":"16","15":"15","16":"NA","17":"dispatcher","18":"1.162372e-02","19":"0.2205702426","20":"7.678060e-01"},{"1":"15","2":"14","3":"17","4":"dispatcher","5":"11","6":"NA","7":"dispatcher","8":"4.111778e-03","9":"0.0482799441","10":"9.476083e-01","11":"2.231684703","12":"1.036065e+00","13":"15","14":"14","15":"17","16":"NA","17":"dispatcher","18":"4.200717e-03","19":"0.0491886516","20":"9.466106e-01"},{"1":"20","2":"15","3":"7","4":"dispatcher","5":"12","6":"NA","7":"mechanic","8":"3.619326e-02","9":"0.7422749633","10":"2.215318e-01","11":"0.947393942","12":"-1.012217e+00","13":"20","14":"15","15":"7","16":"NA","17":"mechanic","18":"3.702090e-02","19":"0.7595368663","20":"2.034422e-01"},{"1":"24","2":"20","3":"13","4":"dispatcher","5":"13","6":"NA","7":"mechanic","8":"1.290640e-02","9":"0.8132888754","10":"1.738047e-01","11":"1.273897723","12":"-1.637122e+00","13":"24","14":"20","15":"13","16":"NA","17":"mechanic","18":"1.298012e-02","19":"0.8295108535","20":"1.575090e-01"},{"1":"16","2":"16","3":"17","4":"dispatcher","5":"14","6":"NA","7":"dispatcher","8":"8.788252e-03","9":"0.0996410258","10":"8.915707e-01","11":"1.935117061","12":"7.114885e-01","13":"16","14":"16","15":"17","16":"NA","17":"dispatcher","18":"9.018991e-03","19":"0.1017453653","20":"8.892356e-01"},{"1":"17","2":"15","3":"10","4":"dispatcher","5":"15","6":"NA","7":"dispatcher","8":"4.626438e-02","9":"0.4334243141","10":"5.203113e-01","11":"1.136427954","12":"-7.514496e-02","13":"17","14":"15","15":"10","16":"NA","17":"dispatcher","18":"4.717276e-02","19":"0.4380798499","20":"5.147474e-01"},{"1":"17","2":"10","3":"12","4":"dispatcher","5":"16","6":"NA","7":"dispatcher","8":"2.627441e-03","9":"0.0843304228","10":"9.130421e-01","11":"2.417782653","12":"3.484461e-01","13":"17","14":"10","15":"12","16":"NA","17":"dispatcher","18":"2.672248e-03","19":"0.0866234873","20":"9.107043e-01"},{"1":"11","2":"16","3":"11","4":"dispatcher","5":"17","6":"NA","7":"dispatcher","8":"2.125497e-01","9":"0.1966382663","10":"5.908120e-01","11":"0.545261904","12":"1.312503e+00","13":"11","14":"16","15":"11","16":"NA","17":"dispatcher","18":"2.175042e-01","19":"0.2004249995","20":"5.820708e-01"},{"1":"15","2":"18","3":"14","4":"dispatcher","5":"18","6":"NA","7":"dispatcher","8":"7.692116e-02","9":"0.2894804124","10":"6.335984e-01","11":"0.989612164","12":"5.749120e-01","13":"15","14":"18","15":"14","16":"NA","17":"dispatcher","18":"7.778219e-02","19":"0.2915234497","20":"6.306944e-01"},{"1":"20","2":"19","3":"16","4":"dispatcher","5":"19","6":"NA","7":"dispatcher","8":"1.700342e-02","9":"0.4139070326","10":"5.690896e-01","11":"1.565225232","12":"-4.252548e-01","13":"20","14":"19","15":"16","16":"NA","17":"dispatcher","18":"1.749420e-02","19":"0.4246704302","20":"5.578354e-01"},{"1":"14","2":"22","3":"16","4":"dispatcher","5":"20","6":"NA","7":"dispatcher","8":"2.290562e-01","9":"0.3291994564","10":"4.417444e-01","11":"0.430518905","12":"7.754879e-01","13":"14","14":"22","15":"16","16":"NA","17":"dispatcher","18":"2.372427e-01","19":"0.3374296052","20":"4.253277e-01"},{"1":"13","2":"15","3":"18","4":"dispatcher","5":"21","6":"NA","7":"dispatcher","8":"7.068771e-03","9":"0.0360451874","10":"9.568860e-01","11":"2.008441247","12":"1.523655e+00","13":"13","14":"15","15":"18","16":"NA","17":"dispatcher","18":"7.324125e-03","19":"0.0368769837","20":"9.557989e-01"},{"1":"16","2":"14","3":"13","4":"dispatcher","5":"22","6":"NA","7":"dispatcher","8":"1.526915e-02","9":"0.1678136599","10":"8.169172e-01","11":"1.703697409","12":"4.616790e-01","13":"16","14":"14","15":"13","16":"NA","17":"dispatcher","18":"1.551788e-02","19":"0.1691236979","20":"8.153584e-01"},{"1":"12","2":"12","3":"6","4":"dispatcher","5":"23","6":"NA","7":"dispatcher","8":"1.633462e-01","9":"0.2852492423","10":"5.514045e-01","11":"0.639379205","12":"8.498982e-01","13":"12","14":"12","15":"6","16":"NA","17":"dispatcher","18":"1.774245e-01","19":"0.3009955209","20":"5.215799e-01"},{"1":"17","2":"17","3":"19","4":"dispatcher","5":"24","6":"NA","7":"dispatcher","8":"5.232025e-03","9":"0.0872516234","10":"9.075164e-01","11":"2.142807536","12":"6.113788e-01","13":"17","14":"17","15":"19","16":"NA","17":"dispatcher","18":"5.412514e-03","19":"0.0907369351","20":"9.038506e-01"},{"1":"10","2":"8","3":"16","4":"dispatcher","5":"25","6":"NA","7":"dispatcher","8":"8.628193e-04","9":"0.0048113373","10":"9.943258e-01","11":"2.782434348","12":"2.372480e+00","13":"10","14":"8","15":"16","16":"NA","17":"dispatcher","18":"8.593816e-04","19":"0.0047114896","20":"9.944291e-01"},{"1":"11","2":"17","3":"20","4":"dispatcher","5":"26","6":"NA","7":"dispatcher","8":"1.333064e-02","9":"0.0268843510","10":"9.597850e-01","11":"1.745915631","12":"2.048808e+00","13":"11","14":"17","15":"20","16":"NA","17":"dispatcher","18":"1.439740e-02","19":"0.0278460266","20":"9.577566e-01"},{"1":"13","2":"16","3":"7","4":"dispatcher","5":"27","6":"NA","7":"mechanic","8":"3.273139e-01","9":"0.4104435410","10":"2.622426e-01","11":"0.109255257","12":"5.131026e-01","13":"13","14":"16","15":"7","16":"NA","17":"mechanic","18":"3.367477e-01","19":"0.4177984612","20":"2.454538e-01"},{"1":"19","2":"15","3":"13","4":"dispatcher","5":"28","6":"NA","7":"dispatcher","8":"1.120707e-02","9":"0.3054355934","10":"6.833573e-01","11":"1.785365208","12":"-2.631449e-01","13":"19","14":"15","15":"13","16":"NA","17":"dispatcher","18":"1.142867e-02","19":"0.3089664615","20":"6.796049e-01"},{"1":"15","2":"11","3":"13","4":"dispatcher","5":"29","6":"NA","7":"dispatcher","8":"4.565093e-03","9":"0.0636307793","10":"9.318041e-01","11":"2.194539196","12":"8.360365e-01","13":"15","14":"11","15":"13","16":"NA","17":"dispatcher","18":"4.657314e-03","19":"0.0647462924","20":"9.305964e-01"},{"1":"17","2":"11","3":"10","4":"dispatcher","5":"30","6":"NA","7":"dispatcher","8":"8.965272e-03","9":"0.1889058551","10":"8.021289e-01","11":"1.913524536","12":"1.239792e-01","13":"17","14":"11","15":"10","16":"NA","17":"dispatcher","18":"9.239373e-03","19":"0.1947896910","20":"7.959709e-01"},{"1":"15","2":"10","3":"13","4":"dispatcher","5":"31","6":"NA","7":"dispatcher","8":"2.771083e-03","9":"0.0473010784","10":"9.499278e-01","11":"2.388813342","12":"8.858176e-01","13":"15","14":"10","15":"13","16":"NA","17":"dispatcher","18":"2.819554e-03","19":"0.0482484473","20":"9.489320e-01"},{"1":"19","2":"14","3":"12","4":"dispatcher","5":"32","6":"NA","7":"dispatcher","8":"1.017657e-02","9":"0.3045440295","10":"6.852794e-01","11":"1.824647368","12":"-3.007068e-01","13":"19","14":"14","15":"12","16":"NA","17":"dispatcher","18":"1.039136e-02","19":"0.3090452593","20":"6.805634e-01"},{"1":"19","2":"14","3":"15","4":"dispatcher","5":"33","6":"NA","7":"dispatcher","8":"3.579839e-03","9":"0.1486142380","10":"8.478059e-01","11":"2.289623326","12":"-3.867814e-02","13":"19","14":"14","15":"15","16":"NA","17":"dispatcher","18":"3.639826e-03","19":"0.1516235662","20":"8.447366e-01"},{"1":"4","2":"12","3":"11","4":"dispatcher","5":"34","6":"NA","7":"dispatcher","8":"1.661938e-01","9":"0.0258936674","10":"8.079125e-01","11":"0.678493946","12":"3.086727e+00","13":"4","14":"12","15":"11","16":"NA","17":"dispatcher","18":"1.956529e-01","19":"0.0265133728","20":"7.778337e-01"},{"1":"13","2":"12","3":"15","4":"dispatcher","5":"35","6":"NA","7":"dispatcher","8":"5.261037e-03","9":"0.0355171413","10":"9.592218e-01","11":"2.126287726","12":"1.410970e+00","13":"13","14":"12","15":"15","16":"NA","17":"dispatcher","18":"5.385047e-03","19":"0.0360495472","20":"9.585654e-01"},{"1":"20","2":"13","3":"19","4":"dispatcher","5":"36","6":"NA","7":"dispatcher","8":"3.628261e-04","9":"0.0413272608","10":"9.583099e-01","11":"3.195846063","12":"1.354601e-01","13":"20","14":"13","15":"19","16":"NA","17":"dispatcher","18":"3.508909e-04","19":"0.0430589471","20":"9.565902e-01"},{"1":"14","2":"18","3":"14","4":"dispatcher","5":"37","6":"NA","7":"dispatcher","8":"9.772434e-02","9":"0.2539625966","10":"6.483131e-01","11":"0.897631516","12":"7.999263e-01","13":"14","14":"18","15":"14","16":"NA","17":"dispatcher","18":"9.888683e-02","19":"0.2563447416","20":"6.447684e-01"},{"1":"10","2":"12","3":"9","4":"dispatcher","5":"38","6":"NA","7":"dispatcher","8":"1.014576e-01","9":"0.1172021794","10":"7.813402e-01","11":"0.920393866","12":"1.561956e+00","13":"10","14":"12","15":"9","16":"NA","17":"dispatcher","18":"1.087115e-01","19":"0.1221847687","20":"7.691037e-01"},{"1":"11","2":"12","3":"19","4":"dispatcher","5":"39","6":"NA","7":"dispatcher","8":"1.566086e-03","9":"0.0078001082","10":"9.906338e-01","11":"2.562294372","12":"2.210370e+00","13":"11","14":"12","15":"19","16":"NA","17":"dispatcher","18":"1.590775e-03","19":"0.0077703681","20":"9.906389e-01"},{"1":"8","2":"20","3":"8","4":"dispatcher","5":"40","6":"NA","7":"custserv","8":"8.699108e-01","9":"0.0849374934","10":"4.515167e-02","11":"-0.972752581","12":"1.526393e+00","13":"8","14":"20","15":"8","16":"NA","17":"custserv","18":"8.818960e-01","19":"0.0815810172","20":"3.652301e-02"},{"1":"14","2":"16","3":"7","4":"dispatcher","5":"41","6":"NA","7":"mechanic","8":"2.624197e-01","9":"0.4765316600","10":"2.610486e-01","11":"0.201235906","12":"2.880883e-01","13":"14","14":"16","15":"7","16":"NA","17":"mechanic","18":"2.694608e-01","19":"0.4850172607","20":"2.455220e-01"},{"1":"18","2":"20","3":"15","4":"dispatcher","5":"42","6":"NA","7":"dispatcher","8":"5.555677e-02","9":"0.4721764764","10":"4.722668e-01","11":"1.031997804","12":"-1.123501e-01","13":"18","14":"20","15":"15","16":"NA","17":"mechanic","18":"5.681314e-02","19":"0.4789033311","20":"4.642835e-01"},{"1":"19","2":"7","3":"13","4":"dispatcher","5":"43","6":"NA","7":"dispatcher","8":"2.501282e-04","9":"0.0344842774","10":"9.652656e-01","11":"3.339558372","12":"1.351035e-01","13":"19","14":"7","15":"13","16":"NA","17":"dispatcher","18":"2.383393e-04","19":"0.0358372573","20":"9.639244e-01"},{"1":"21","2":"13","3":"11","4":"dispatcher","5":"44","6":"NA","7":"dispatcher","8":"5.418486e-03","9":"0.3733879008","10":"6.211936e-01","11":"2.047890825","12":"-7.882972e-01","13":"21","14":"13","15":"11","16":"NA","17":"dispatcher","18":"5.529481e-03","19":"0.3854890323","20":"6.089815e-01"},{"1":"14","2":"26","3":"15","4":"dispatcher","5":"45","6":"NA","7":"custserv","8":"5.772471e-01","9":"0.3307353202","10":"9.201760e-02","11":"-0.501569662","12":"4.890208e-01","13":"14","14":"26","15":"15","16":"NA","17":"custserv","18":"5.917248e-01","19":"0.3299101498","20":"7.836505e-02"},{"1":"25","2":"16","3":"12","4":"dispatcher","5":"46","6":"NA","7":"mechanic","8":"3.669802e-03","9":"0.6753383620","10":"3.209918e-01","11":"1.987982968","12":"-1.750355e+00","13":"25","14":"16","15":"12","16":"NA","17":"mechanic","18":"3.629394e-03","19":"0.7013124729","20":"2.950581e-01"},{"1":"18","2":"11","3":"19","4":"dispatcher","5":"47","6":"NA","7":"dispatcher","8":"2.034627e-04","9":"0.0165736451","10":"9.832229e-01","11":"3.400433057","12":"6.850508e-01","13":"18","14":"11","15":"19","16":"NA","17":"dispatcher","18":"1.925958e-04","19":"0.0168837440","20":"9.829237e-01"},{"1":"14","2":"16","3":"6","4":"dispatcher","5":"48","6":"NA","7":"mechanic","8":"3.046592e-01","9":"0.4960516106","10":"1.992892e-01","11":"0.046243920","12":"2.007454e-01","13":"14","14":"16","15":"6","16":"NA","17":"mechanic","18":"3.142601e-01","19":"0.5043791114","20":"1.813608e-01"},{"1":"13","2":"20","3":"18","4":"dispatcher","5":"49","6":"NA","7":"dispatcher","8":"7.702310e-02","9":"0.1425952452","10":"7.803817e-01","11":"1.037070520","12":"1.274750e+00","13":"13","14":"20","15":"18","16":"NA","17":"dispatcher","18":"8.204042e-02","19":"0.1487249691","20":"7.692346e-01"},{"1":"20","2":"16","3":"14","4":"dispatcher","5":"50","6":"NA","7":"dispatcher","8":"9.478974e-03","9":"0.3407014879","10":"6.498195e-01","11":"1.838063697","12":"-4.505974e-01","13":"20","14":"16","15":"14","16":"NA","17":"dispatcher","18":"9.682253e-03","19":"0.3462450535","20":"6.440727e-01"},{"1":"12","2":"14","3":"8","4":"dispatcher","5":"51","6":"NA","7":"dispatcher","8":"1.917110e-01","9":"0.2776644348","10":"5.306246e-01","11":"0.560814886","12":"9.250219e-01","13":"12","14":"14","15":"8","16":"NA","17":"dispatcher","18":"2.001242e-01","19":"0.2860190815","20":"5.138567e-01"},{"1":"16","2":"19","3":"12","4":"dispatcher","5":"52","6":"NA","7":"mechanic","8":"1.386787e-01","9":"0.4961580594","10":"3.651632e-01","11":"0.577334695","12":"1.254309e-01","13":"16","14":"19","15":"12","16":"NA","17":"mechanic","18":"1.396233e-01","19":"0.4986136559","20":"3.617630e-01"},{"1":"21","2":"15","3":"7","4":"dispatcher","5":"53","6":"NA","7":"mechanic","8":"2.611049e-02","9":"0.7754584493","10":"1.984311e-01","11":"1.039374590","12":"-1.237231e+00","13":"21","14":"15","15":"7","16":"NA","17":"mechanic","18":"2.655056e-02","19":"0.7942041926","20":"1.792452e-01"},{"1":"18","2":"23","3":"15","4":"dispatcher","5":"54","6":"NA","7":"mechanic","8":"1.347321e-01","9":"0.6234862324","10":"2.417816e-01","11":"0.449175368","12":"-2.616933e-01","13":"18","14":"23","15":"15","16":"NA","17":"mechanic","18":"1.380489e-01","19":"0.6337806116","20":"2.281704e-01"},{"1":"19","2":"11","3":"13","4":"dispatcher","5":"55","6":"NA","7":"dispatcher","8":"1.826868e-03","9":"0.1119825092","10":"8.861906e-01","11":"2.562461790","12":"-6.402074e-02","13":"19","14":"11","15":"13","16":"NA","17":"dispatcher","18":"1.846344e-03","19":"0.1152079474","20":"8.829457e-01"},{"1":"17","2":"18","3":"9","4":"dispatcher","5":"56","6":"NA","7":"mechanic","8":"1.401549e-01","9":"0.6410331082","10":"2.188120e-01","11":"0.398613532","12":"-3.118310e-01","13":"17","14":"18","15":"9","16":"NA","17":"mechanic","18":"1.420345e-01","19":"0.6462528314","20":"2.117126e-01"},{"1":"4","2":"10","3":"15","4":"dispatcher","5":"57","6":"NA","7":"dispatcher","8":"1.338773e-02","9":"0.0048397672","10":"9.817725e-01","11":"1.687010181","12":"3.535661e+00","13":"4","14":"10","15":"15","16":"NA","17":"dispatcher","18":"1.514038e-02","19":"0.0047002727","20":"9.801593e-01"},{"1":"17","2":"17","3":"14","4":"dispatcher","5":"58","6":"NA","7":"dispatcher","8":"3.125918e-02","9":"0.3021116335","10":"6.666292e-01","11":"1.367847606","12":"1.746645e-01","13":"17","14":"17","15":"14","16":"NA","17":"dispatcher","18":"3.172491e-02","19":"0.3038337388","20":"6.644413e-01"},{"1":"14","2":"13","3":"12","4":"dispatcher","5":"59","6":"NA","7":"dispatcher","8":"2.218212e-02","9":"0.1276509099","10":"8.501670e-01","11":"1.559018271","12":"8.741458e-01","13":"14","14":"13","15":"12","16":"NA","17":"dispatcher","18":"2.265057e-02","19":"0.1293223757","20":"8.480271e-01"},{"1":"15","2":"16","3":"14","4":"dispatcher","5":"60","6":"NA","7":"dispatcher","8":"3.347095e-02","9":"0.1889074349","10":"7.776216e-01","11":"1.378160455","12":"6.744741e-01","13":"15","14":"16","15":"14","16":"NA","17":"dispatcher","18":"3.392017e-02","19":"0.1901212234","20":"7.759586e-01"},{"1":"20","2":"13","3":"18","4":"dispatcher","5":"61","6":"NA","7":"dispatcher","8":"5.434963e-04","9":"0.0555075385","10":"9.439490e-01","11":"3.040854077","12":"4.811723e-02","13":"20","14":"13","15":"18","16":"NA","17":"dispatcher","18":"5.343607e-04","19":"0.0577093505","20":"9.417563e-01"},{"1":"20","2":"14","3":"18","4":"dispatcher","5":"62","6":"NA","7":"dispatcher","8":"8.940124e-04","9":"0.0745581347","10":"9.245479e-01","11":"2.846579931","12":"-1.663819e-03","13":"20","14":"14","15":"18","16":"NA","17":"dispatcher","18":"8.912612e-04","19":"0.0776264637","20":"9.214823e-01"},{"1":"16","2":"22","3":"12","4":"dispatcher","5":"63","6":"NA","7":"mechanic","8":"2.853946e-01","9":"0.5559610200","10":"1.586444e-01","11":"-0.005487741","12":"-2.391225e-02","13":"16","14":"22","15":"12","16":"NA","17":"mechanic","18":"2.874493e-01","19":"0.5604770365","20":"1.520736e-01"},{"1":"9","2":"13","3":"16","4":"dispatcher","5":"64","6":"NA","7":"dispatcher","8":"1.391454e-02","9":"0.0194531176","10":"9.666323e-01","11":"1.719082972","12":"2.348589e+00","13":"9","14":"13","15":"16","16":"NA","17":"dispatcher","18":"1.471178e-02","19":"0.0197918150","20":"9.654964e-01"},{"1":"15","2":"13","3":"13","4":"dispatcher","5":"65","6":"NA","7":"dispatcher","8":"1.209752e-02","9":"0.1124362561","10":"8.754662e-01","11":"1.805990906","12":"7.364744e-01","13":"15","14":"13","15":"13","16":"NA","17":"dispatcher","18":"1.232444e-02","19":"0.1136875181","20":"8.739880e-01"},{"1":"18","2":"20","3":"10","4":"dispatcher","5":"66","6":"NA","7":"mechanic","8":"1.434582e-01","9":"0.7066085684","10":"1.499332e-01","11":"0.257037875","12":"-5.490645e-01","13":"18","14":"20","15":"10","16":"NA","17":"mechanic","18":"1.451256e-01","19":"0.7109459494","20":"1.439285e-01"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>There’s already subtlety. The people are numbered separately within each actual <code>job</code>, so the thing that uniquely identifies each person (what database people call a “key”) is the combination of the actual job they do <em>plus</em> their <code>id</code> within that job. You might also think of using <code>bind_cols</code>, except that this adds a number to all the column names which is a pain to deal with. I don’t really need to look up the people in the second dataframe, since I know where they are (in the corresponding rows), but doing so seems to make everything else easier.</p>
<p>The columns with an <code>x</code> on the end of their names came from <code>d</code>, that is, the predictions without cross-validation, and the ones with a <code>y</code> came from cross-validation. Let’s see if we can keep only the columns we need so that it’s a bit less unwieldy:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(dcv, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"job"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">outdoor =</span> outdoor.x,</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">social =</span> social.x,</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">conservative =</span> conservative.x,</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>         job, id, <span class="fu">starts_with</span>(<span class="st">"class"</span>),</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"posterior"</span>)) <span class="ot">-&gt;</span> all</span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>all</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["fct"],"align":["left"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class.x"],"name":[6],"type":["fct"],"align":["left"]},{"label":["class.y"],"name":[7],"type":["fct"],"align":["left"]},{"label":["posterior.custserv.x"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.x"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.x"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["posterior.custserv.y"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.y"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.y"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"10","2":"22","3":"5","4":"custserv","5":"1","6":"custserv","7":"custserv","8":"9.037622e-01","9":"0.0889478485","10":"7.289988e-03","11":"9.015959e-01","12":"0.0909017323","13":"7.502367e-03"},{"1":"14","2":"17","3":"6","4":"custserv","5":"2","6":"mechanic","7":"mechanic","8":"3.677743e-01","9":"0.4889789008","10":"1.432468e-01","11":"3.521921e-01","12":"0.4998044379","13":"1.480034e-01"},{"1":"19","2":"33","3":"7","4":"custserv","5":"3","6":"custserv","7":"custserv","8":"7.302117e-01","9":"0.2694697105","10":"3.186265e-04","11":"7.101838e-01","12":"0.2895175491","13":"2.986778e-04"},{"1":"14","2":"29","3":"12","4":"custserv","5":"4","6":"custserv","7":"custserv","8":"8.100756e-01","9":"0.1821731894","10":"7.751215e-03","11":"8.054563e-01","12":"0.1865799427","13":"7.963768e-03"},{"1":"14","2":"25","3":"7","4":"custserv","5":"5","6":"custserv","7":"custserv","8":"7.677607e-01","9":"0.2250538225","10":"7.185490e-03","11":"7.655123e-01","12":"0.2271719387","13":"7.315806e-03"},{"1":"20","2":"25","3":"12","4":"custserv","5":"6","6":"mechanic","7":"mechanic","8":"1.682521e-01","9":"0.7848248752","10":"4.692305e-02","11":"1.579450e-01","12":"0.7942099381","13":"4.784503e-02"},{"1":"6","2":"18","3":"4","4":"custserv","5":"7","6":"custserv","7":"custserv","8":"9.408328e-01","9":"0.0424620706","10":"1.670509e-02","11":"9.379289e-01","12":"0.0439602743","13":"1.811083e-02"},{"1":"13","2":"27","3":"7","4":"custserv","5":"8","6":"custserv","7":"custserv","8":"8.790086e-01","9":"0.1186423050","10":"2.349121e-03","11":"8.773010e-01","12":"0.1203168496","13":"2.382195e-03"},{"1":"18","2":"31","3":"9","4":"custserv","5":"9","6":"custserv","7":"custserv","8":"6.767464e-01","9":"0.3217022453","10":"1.551373e-03","11":"6.630531e-01","12":"0.3353941278","13":"1.552731e-03"},{"1":"16","2":"35","3":"13","4":"custserv","5":"10","6":"custserv","7":"custserv","8":"8.643564e-01","9":"0.1347795344","10":"8.641095e-04","11":"8.537434e-01","12":"0.1454071153","13":"8.495300e-04"},{"1":"17","2":"25","3":"8","4":"custserv","5":"11","6":"custserv","7":"mechanic","8":"4.950388e-01","9":"0.4914751264","10":"1.348603e-02","11":"4.900523e-01","12":"0.4961867815","13":"1.376092e-02"},{"1":"10","2":"29","3":"11","4":"custserv","5":"12","6":"custserv","7":"custserv","8":"9.537446e-01","9":"0.0437303474","10":"2.525084e-03","11":"9.529787e-01","12":"0.0444497636","13":"2.571578e-03"},{"1":"17","2":"25","3":"7","4":"custserv","5":"13","6":"custserv","7":"custserv","8":"5.240823e-01","9":"0.4665293631","10":"9.388337e-03","11":"5.177483e-01","12":"0.4726677462","13":"9.584003e-03"},{"1":"10","2":"22","3":"13","4":"custserv","5":"14","6":"custserv","7":"custserv","8":"6.819795e-01","9":"0.1606625929","10":"1.573579e-01","11":"6.741477e-01","12":"0.1639151041","13":"1.619372e-01"},{"1":"10","2":"31","3":"13","4":"custserv","5":"15","6":"custserv","7":"custserv","8":"9.613543e-01","9":"0.0365588154","10":"2.086923e-03","11":"9.604500e-01","12":"0.0374216844","13":"2.128320e-03"},{"1":"18","2":"25","3":"5","4":"custserv","5":"16","6":"mechanic","7":"mechanic","8":"4.887584e-01","9":"0.5065409138","10":"4.700656e-03","11":"4.747643e-01","12":"0.5204646333","13":"4.771076e-03"},{"1":"0","2":"27","3":"11","4":"custserv","5":"17","6":"custserv","7":"custserv","8":"9.974534e-01","9":"0.0016911727","10":"8.554731e-04","11":"9.976650e-01","12":"0.0014939107","13":"8.411382e-04"},{"1":"10","2":"24","3":"12","4":"custserv","5":"18","6":"custserv","7":"custserv","8":"8.370707e-01","9":"0.1179003525","10":"4.502895e-02","11":"8.340782e-01","12":"0.1197743609","13":"4.614747e-02"},{"1":"15","2":"23","3":"10","4":"custserv","5":"19","6":"custserv","7":"custserv","8":"5.004012e-01","9":"0.4419175871","10":"5.768116e-02","11":"4.984006e-01","12":"0.4433833185","13":"5.821608e-02"},{"1":"8","2":"29","3":"14","4":"custserv","5":"20","6":"custserv","7":"custserv","8":"9.649054e-01","9":"0.0292665325","10":"5.828045e-03","11":"9.640506e-01","12":"0.0298520020","13":"6.097378e-03"},{"1":"6","2":"27","3":"11","4":"custserv","5":"21","6":"custserv","7":"custserv","8":"9.815677e-01","9":"0.0153480620","10":"3.084262e-03","11":"9.814446e-01","12":"0.0153892528","13":"3.166103e-03"},{"1":"10","2":"17","3":"8","4":"custserv","5":"22","6":"custserv","7":"custserv","8":"5.697748e-01","9":"0.2142654531","10":"2.159598e-01","11":"5.564430e-01","12":"0.2193844588","13":"2.241726e-01"},{"1":"1","2":"30","3":"6","4":"custserv","5":"23","6":"custserv","7":"custserv","8":"9.991982e-01","9":"0.0007741549","10":"2.761694e-05","11":"9.993360e-01","12":"0.0006425343","13":"2.150907e-05"},{"1":"14","2":"29","3":"7","4":"custserv","5":"24","6":"custserv","7":"custserv","8":"8.837774e-01","9":"0.1151828840","10":"1.039703e-03","11":"8.812319e-01","12":"0.1177243692","13":"1.043763e-03"},{"1":"13","2":"21","3":"11","4":"custserv","5":"25","6":"custserv","7":"custserv","8":"4.938044e-01","9":"0.3478209184","10":"1.583747e-01","11":"4.900475e-01","12":"0.3507825820","13":"1.591699e-01"},{"1":"21","2":"31","3":"11","4":"custserv","5":"26","6":"mechanic","7":"mechanic","8":"3.564096e-01","9":"0.6399736784","10":"3.616675e-03","11":"3.284696e-01","12":"0.6679472291","13":"3.583212e-03"},{"1":"12","2":"26","3":"9","4":"custserv","5":"27","6":"custserv","7":"custserv","8":"8.693126e-01","9":"0.1234199965","10":"7.267402e-03","11":"8.681486e-01","12":"0.1244616639","13":"7.389737e-03"},{"1":"12","2":"22","3":"9","4":"custserv","5":"28","6":"custserv","7":"custserv","8":"7.215912e-01","9":"0.2304179226","10":"4.799088e-02","11":"7.197249e-01","12":"0.2318062554","13":"4.846884e-02"},{"1":"5","2":"25","3":"7","4":"custserv","5":"29","6":"custserv","7":"custserv","8":"9.883365e-01","9":"0.0103444748","10":"1.319044e-03","11":"9.883962e-01","12":"0.0102735851","13":"1.330263e-03"},{"1":"10","2":"24","3":"5","4":"custserv","5":"30","6":"custserv","7":"custserv","8":"9.359042e-01","9":"0.0614193101","10":"2.676529e-03","11":"9.347196e-01","12":"0.0625547690","13":"2.725584e-03"},{"1":"3","2":"20","3":"14","4":"custserv","5":"31","6":"custserv","7":"custserv","8":"8.018758e-01","9":"0.0236590252","10":"1.744651e-01","11":"7.742463e-01","12":"0.0235896872","13":"2.021640e-01"},{"1":"6","2":"25","3":"12","4":"custserv","5":"32","6":"custserv","7":"custserv","8":"9.618798e-01","9":"0.0251561754","10":"1.296402e-02","11":"9.609191e-01","12":"0.0254749476","13":"1.360592e-02"},{"1":"11","2":"27","3":"10","4":"custserv","5":"33","6":"custserv","7":"custserv","8":"9.129230e-01","9":"0.0815110137","10":"5.565968e-03","11":"9.118209e-01","12":"0.0825052772","13":"5.673827e-03"},{"1":"13","2":"21","3":"14","4":"custserv","5":"34","6":"dispatcher","7":"dispatcher","8":"3.220516e-01","9":"0.3146838699","10":"3.632646e-01","11":"3.110459e-01","12":"0.3194771955","13":"3.694769e-01"},{"1":"11","2":"23","3":"5","4":"custserv","5":"35","6":"custserv","7":"custserv","8":"8.909918e-01","9":"0.1036949094","10":"5.313327e-03","11":"8.887897e-01","12":"0.1057697409","13":"5.440523e-03"},{"1":"8","2":"18","3":"8","4":"custserv","5":"36","6":"custserv","7":"custserv","8":"7.734984e-01","9":"0.1132639919","10":"1.132376e-01","11":"7.645667e-01","12":"0.1163652476","13":"1.190680e-01"},{"1":"5","2":"17","3":"9","4":"custserv","5":"37","6":"custserv","7":"custserv","8":"7.928969e-01","9":"0.0522175881","10":"1.548856e-01","11":"7.758784e-01","12":"0.0534832962","13":"1.706383e-01"},{"1":"11","2":"22","3":"11","4":"custserv","5":"38","6":"custserv","7":"custserv","8":"7.152302e-01","9":"0.1961688726","10":"8.860092e-02","11":"7.120042e-01","12":"0.1983147027","13":"8.968111e-02"},{"1":"14","2":"22","3":"11","4":"custserv","5":"39","6":"custserv","7":"custserv","8":"4.830847e-01","9":"0.4023708150","10":"1.145445e-01","11":"4.801022e-01","12":"0.4047357863","13":"1.151620e-01"},{"1":"22","2":"22","3":"6","4":"custserv","5":"40","6":"mechanic","7":"mechanic","8":"9.523627e-02","9":"0.8890830359","10":"1.568069e-02","11":"8.328070e-02","12":"0.9010277467","13":"1.569155e-02"},{"1":"16","2":"28","3":"6","4":"custserv","5":"41","6":"custserv","7":"custserv","8":"7.679833e-01","9":"0.2304785704","10":"1.538158e-03","11":"7.616243e-01","12":"0.2368262506","13":"1.549406e-03"},{"1":"12","2":"25","3":"8","4":"custserv","5":"42","6":"custserv","7":"custserv","8":"8.582757e-01","9":"0.1338004111","10":"7.923928e-03","11":"8.570963e-01","12":"0.1348488652","13":"8.054796e-03"},{"1":"12","2":"25","3":"7","4":"custserv","5":"43","6":"custserv","7":"custserv","8":"8.727131e-01","9":"0.1219886414","10":"5.298216e-03","11":"8.713396e-01","12":"0.1232692610","13":"5.391098e-03"},{"1":"15","2":"21","3":"4","4":"custserv","5":"44","6":"custserv","7":"custserv","8":"5.832550e-01","9":"0.4014139446","10":"1.533108e-02","11":"5.706328e-01","12":"0.4135417207","13":"1.582551e-02"},{"1":"11","2":"28","3":"8","4":"custserv","5":"45","6":"custserv","7":"custserv","8":"9.432314e-01","9":"0.0552880094","10":"1.480633e-03","11":"9.424628e-01","12":"0.0560415630","13":"1.495624e-03"},{"1":"11","2":"20","3":"9","4":"custserv","5":"46","6":"custserv","7":"custserv","8":"6.748657e-01","9":"0.2231741012","10":"1.019602e-01","11":"6.705930e-01","12":"0.2259802818","13":"1.034267e-01"},{"1":"15","2":"19","3":"9","4":"custserv","5":"47","6":"mechanic","7":"mechanic","8":"2.955104e-01","9":"0.5262939623","10":"1.781956e-01","11":"2.892635e-01","12":"0.5309880384","13":"1.797484e-01"},{"1":"15","2":"24","3":"7","4":"custserv","5":"48","6":"custserv","7":"custserv","8":"6.496219e-01","9":"0.3377002656","10":"1.267779e-02","11":"6.465180e-01","12":"0.3405640467","13":"1.291799e-02"},{"1":"15","2":"21","3":"10","4":"custserv","5":"49","6":"mechanic","7":"mechanic","8":"3.774214e-01","9":"0.4998701545","10":"1.227084e-01","11":"3.739661e-01","12":"0.5026088101","13":"1.234251e-01"},{"1":"17","2":"26","3":"7","4":"custserv","5":"50","6":"custserv","7":"custserv","8":"5.755170e-01","9":"0.4183442282","10":"6.138769e-03","11":"5.687186e-01","12":"0.4250221357","13":"6.259229e-03"},{"1":"12","2":"28","3":"13","4":"custserv","5":"51","6":"custserv","7":"custserv","8":"8.603505e-01","9":"0.1260109570","10":"1.363857e-02","11":"8.567805e-01","12":"0.1291169423","13":"1.410258e-02"},{"1":"7","2":"28","3":"12","4":"custserv","5":"52","6":"custserv","7":"custserv","8":"9.764155e-01","9":"0.0201350730","10":"3.449384e-03","11":"9.761418e-01","12":"0.0203090285","13":"3.549184e-03"},{"1":"14","2":"12","3":"6","4":"custserv","5":"53","6":"dispatcher","7":"dispatcher","8":"1.013578e-01","9":"0.3711805789","10":"5.274616e-01","11":"8.223677e-02","12":"0.3667692252","13":"5.509940e-01"},{"1":"22","2":"24","3":"6","4":"custserv","5":"54","6":"mechanic","7":"mechanic","8":"1.373009e-01","9":"0.8546840791","10":"8.015011e-03","11":"1.222768e-01","12":"0.8697585447","13":"7.964666e-03"},{"1":"22","2":"27","3":"12","4":"custserv","5":"55","6":"mechanic","7":"mechanic","8":"1.302936e-01","9":"0.8498459777","10":"1.986045e-02","11":"1.160156e-01","12":"0.8639522011","13":"2.003224e-02"},{"1":"18","2":"30","3":"9","4":"custserv","5":"56","6":"custserv","7":"custserv","8":"6.305186e-01","9":"0.3670539517","10":"2.427472e-03","11":"6.179477e-01","12":"0.3796015651","13":"2.450782e-03"},{"1":"16","2":"18","3":"5","4":"custserv","5":"57","6":"mechanic","7":"mechanic","8":"3.052008e-01","9":"0.6230462861","10":"7.175295e-02","11":"2.885197e-01","12":"0.6373977298","13":"7.408255e-02"},{"1":"12","2":"23","3":"4","4":"custserv","5":"58","6":"custserv","7":"custserv","8":"8.650641e-01","9":"0.1307240754","10":"4.211839e-03","11":"8.614504e-01","12":"0.1342358317","13":"4.313814e-03"},{"1":"16","2":"22","3":"2","4":"custserv","5":"59","6":"custserv","7":"custserv","8":"6.014337e-01","9":"0.3935126078","10":"5.053717e-03","11":"5.800604e-01","12":"0.4147716187","13":"5.167962e-03"},{"1":"15","2":"26","3":"9","4":"custserv","5":"60","6":"custserv","7":"custserv","8":"6.910126e-01","9":"0.2979301609","10":"1.105727e-02","11":"6.887098e-01","12":"0.3000364384","13":"1.125377e-02"},{"1":"7","2":"13","3":"7","4":"custserv","5":"61","6":"dispatcher","7":"dispatcher","8":"4.375162e-01","9":"0.1092588927","10":"4.532249e-01","11":"3.915656e-01","12":"0.1091245644","13":"4.993098e-01"},{"1":"6","2":"18","3":"6","4":"custserv","5":"62","6":"custserv","7":"custserv","8":"9.114106e-01","9":"0.0511644494","10":"3.742499e-02","11":"9.067625e-01","12":"0.0527878840","13":"4.044963e-02"},{"1":"9","2":"24","3":"6","4":"custserv","5":"63","6":"custserv","7":"custserv","8":"9.487266e-01","9":"0.0479502714","10":"3.323158e-03","11":"9.479463e-01","12":"0.0486636791","13":"3.390047e-03"},{"1":"9","2":"20","3":"12","4":"custserv","5":"64","6":"custserv","7":"custserv","8":"6.396191e-01","9":"0.1399212131","10":"2.204597e-01","11":"6.296750e-01","12":"0.1427717631","13":"2.275532e-01"},{"1":"20","2":"28","3":"8","4":"custserv","5":"65","6":"mechanic","7":"mechanic","8":"3.769863e-01","9":"0.6188639027","10":"4.149835e-03","11":"3.603471e-01","12":"0.6354747314","13":"4.178210e-03"},{"1":"5","2":"22","3":"15","4":"custserv","5":"66","6":"custserv","7":"custserv","8":"8.150930e-01","9":"0.0375046016","10":"1.474024e-01","11":"7.958047e-01","12":"0.0381876729","13":"1.660076e-01"},{"1":"14","2":"26","3":"17","4":"custserv","5":"67","6":"custserv","7":"custserv","8":"4.804647e-01","9":"0.3424095294","10":"1.771258e-01","11":"4.535833e-01","12":"0.3564338501","13":"1.899828e-01"},{"1":"8","2":"28","3":"12","4":"custserv","5":"68","6":"custserv","7":"custserv","8":"9.668855e-01","9":"0.0288735299","10":"4.240998e-03","11":"9.663553e-01","12":"0.0292786181","13":"4.366069e-03"},{"1":"14","2":"22","3":"9","4":"custserv","5":"69","6":"custserv","7":"custserv","8":"5.642826e-01","9":"0.3778629731","10":"5.785442e-02","11":"5.624192e-01","12":"0.3792364918","13":"5.834435e-02"},{"1":"15","2":"26","3":"4","4":"custserv","5":"70","6":"custserv","7":"custserv","8":"7.988256e-01","9":"0.1996028063","10":"1.571578e-03","11":"7.921634e-01","12":"0.2062528007","13":"1.583798e-03"},{"1":"15","2":"25","3":"10","4":"custserv","5":"71","6":"custserv","7":"custserv","8":"6.135977e-01","9":"0.3613257474","10":"2.507652e-02","11":"6.115209e-01","12":"0.3630313609","13":"2.544777e-02"},{"1":"14","2":"27","3":"6","4":"custserv","5":"72","6":"custserv","7":"custserv","8":"8.493025e-01","9":"0.1488443717","10":"1.853127e-03","11":"8.464136e-01","12":"0.1517112655","13":"1.875131e-03"},{"1":"15","2":"25","3":"11","4":"custserv","5":"73","6":"custserv","7":"custserv","8":"5.817686e-01","9":"0.3820746444","10":"3.615675e-02","11":"5.787862e-01","12":"0.3845196437","13":"3.669419e-02"},{"1":"11","2":"26","3":"9","4":"custserv","5":"74","6":"custserv","7":"custserv","8":"9.051632e-01","9":"0.0887421887","10":"6.094582e-03","11":"9.041778e-01","12":"0.0896198215","13":"6.202361e-03"},{"1":"10","2":"28","3":"5","4":"custserv","5":"75","6":"custserv","7":"custserv","8":"9.713098e-01","9":"0.0283410443","10":"3.491677e-04","11":"9.709300e-01","12":"0.0287283607","13":"3.416697e-04"},{"1":"7","2":"22","3":"10","4":"custserv","5":"76","6":"custserv","7":"custserv","8":"9.172652e-01","9":"0.0512945333","10":"3.144031e-02","11":"9.151237e-01","12":"0.0521945697","13":"3.268170e-02"},{"1":"11","2":"15","3":"12","4":"custserv","5":"77","6":"dispatcher","7":"dispatcher","8":"1.068060e-01","9":"0.1349552313","10":"7.582388e-01","11":"9.511037e-02","12":"0.1334633801","13":"7.714262e-01"},{"1":"14","2":"25","3":"15","4":"custserv","5":"78","6":"custserv","7":"custserv","8":"5.077766e-01","9":"0.3562832211","10":"1.359402e-01","11":"4.933835e-01","12":"0.3655002047","13":"1.411163e-01"},{"1":"18","2":"28","3":"7","4":"custserv","5":"79","6":"custserv","7":"custserv","8":"5.859625e-01","9":"0.4112861174","10":"2.751358e-03","11":"5.746374e-01","12":"0.4225807192","13":"2.781837e-03"},{"1":"14","2":"29","3":"8","4":"custserv","5":"80","6":"custserv","7":"custserv","8":"8.717307e-01","9":"0.1267097808","10":"1.559568e-03","11":"8.692442e-01","12":"0.1291806661","13":"1.575158e-03"},{"1":"17","2":"20","3":"6","4":"custserv","5":"81","6":"mechanic","7":"mechanic","8":"2.979887e-01","9":"0.6551123471","10":"4.689900e-02","11":"2.869621e-01","12":"0.6650354417","13":"4.800251e-02"},{"1":"13","2":"25","3":"14","4":"custserv","5":"82","6":"custserv","7":"custserv","8":"6.344252e-01","9":"0.2756221181","10":"8.995264e-02","11":"6.256674e-01","12":"0.2816191313","13":"9.271344e-02"},{"1":"9","2":"21","3":"12","4":"custserv","5":"83","6":"custserv","7":"custserv","8":"7.226154e-01","9":"0.1290819384","10":"1.483026e-01","11":"7.154223e-01","12":"0.1316780347","13":"1.528997e-01"},{"1":"13","2":"26","3":"13","4":"custserv","5":"84","6":"custserv","7":"custserv","8":"7.280124e-01","9":"0.2315718430","10":"4.041574e-02","11":"7.227717e-01","12":"0.2357418452","13":"4.148643e-02"},{"1":"16","2":"24","3":"10","4":"custserv","5":"85","6":"mechanic","7":"mechanic","8":"4.695896e-01","9":"0.4903925046","10":"4.001790e-02","11":"4.668114e-01","12":"0.4926120251","13":"4.057659e-02"},{"1":"20","2":"27","3":"6","4":"mechanic","5":"1","6":"mechanic","7":"mechanic","8":"3.810625e-01","9":"0.6158913595","10":"3.046185e-03","11":"3.948077e-01","12":"0.6022588342","13":"2.933515e-03"},{"1":"21","2":"15","3":"10","4":"mechanic","5":"2","6":"mechanic","7":"mechanic","8":"1.450807e-02","9":"0.5977248885","10":"3.877670e-01","11":"1.442787e-02","12":"0.5882516677","13":"3.973205e-01"},{"1":"15","2":"27","3":"12","4":"mechanic","5":"3","6":"custserv","7":"custserv","8":"6.570708e-01","9":"0.3209113839","10":"2.201784e-02","11":"6.674949e-01","12":"0.3104923549","13":"2.201274e-02"},{"1":"15","2":"29","3":"8","4":"mechanic","5":"4","6":"custserv","7":"custserv","8":"8.245977e-01","9":"0.1735706360","10":"1.831683e-03","11":"8.377469e-01","12":"0.1605535131","13":"1.699581e-03"},{"1":"11","2":"25","3":"11","4":"mechanic","5":"5","6":"custserv","7":"custserv","8":"8.507090e-01","9":"0.1270438510","10":"2.224719e-02","11":"8.598203e-01","12":"0.1182066332","13":"2.197309e-02"},{"1":"24","2":"9","3":"17","4":"mechanic","5":"6","6":"dispatcher","7":"dispatcher","8":"4.444566e-05","9":"0.0402571239","10":"9.596984e-01","11":"2.295947e-05","12":"0.0257759629","13":"9.742011e-01"},{"1":"18","2":"21","3":"13","4":"mechanic","5":"7","6":"mechanic","7":"mechanic","8":"1.140489e-01","9":"0.6363397688","10":"2.496113e-01","11":"1.151891e-01","12":"0.6333884677","13":"2.514224e-01"},{"1":"14","2":"18","3":"4","4":"mechanic","5":"8","6":"custserv","7":"custserv","8":"5.068084e-01","9":"0.4423674151","10":"5.082414e-02","11":"5.256043e-01","12":"0.4229786779","13":"5.141707e-02"},{"1":"13","2":"22","3":"12","4":"mechanic","5":"9","6":"custserv","7":"custserv","8":"5.176276e-01","9":"0.3320451101","10":"1.503273e-01","11":"5.230521e-01","12":"0.3247764786","13":"1.521714e-01"},{"1":"17","2":"21","3":"9","4":"mechanic","5":"10","6":"mechanic","7":"mechanic","8":"2.617847e-01","9":"0.6519356111","10":"8.627973e-02","11":"2.627134e-01","12":"0.6503803417","13":"8.690622e-02"},{"1":"16","2":"28","3":"13","4":"mechanic","5":"11","6":"custserv","7":"custserv","8":"5.946078e-01","9":"0.3829911730","10":"2.240108e-02","11":"6.089565e-01","12":"0.3686953256","13":"2.234813e-02"},{"1":"15","2":"22","3":"12","4":"mechanic","5":"12","6":"mechanic","7":"mechanic","8":"3.580478e-01","9":"0.4816520105","10":"1.603001e-01","11":"3.606313e-01","12":"0.4775594118","13":"1.618093e-01"},{"1":"24","2":"20","3":"15","4":"mechanic","5":"13","6":"mechanic","7":"mechanic","8":"9.047848e-03","9":"0.7091703489","10":"2.817818e-01","11":"8.870980e-03","12":"0.6965538998","13":"2.945751e-01"},{"1":"14","2":"19","3":"13","4":"mechanic","5":"14","6":"dispatcher","7":"dispatcher","8":"1.818092e-01","9":"0.3459362957","10":"4.722545e-01","11":"1.840422e-01","12":"0.3386514187","13":"4.773064e-01"},{"1":"14","2":"28","3":"1","4":"mechanic","5":"15","6":"custserv","7":"custserv","8":"9.232779e-01","9":"0.0765745994","10":"1.474794e-04","11":"9.425517e-01","12":"0.0573490216","13":"9.924449e-05"},{"1":"18","2":"17","3":"11","4":"mechanic","5":"16","6":"mechanic","7":"mechanic","8":"5.371204e-02","9":"0.5419003972","10":"4.043876e-01","11":"5.426567e-02","12":"0.5386311142","13":"4.071032e-01"},{"1":"14","2":"24","3":"7","4":"mechanic","5":"17","6":"custserv","7":"custserv","8":"7.274351e-01","9":"0.2611311186","10":"1.143381e-02","11":"7.353373e-01","12":"0.2532900715","13":"1.137261e-02"},{"1":"12","2":"16","3":"10","4":"mechanic","5":"18","6":"dispatcher","7":"dispatcher","8":"2.236793e-01","9":"0.2686932558","10":"5.076275e-01","11":"2.266860e-01","12":"0.2567189930","13":"5.165950e-01"},{"1":"16","2":"21","3":"10","4":"mechanic","5":"19","6":"mechanic","7":"mechanic","8":"3.010574e-01","9":"0.5774126448","10":"1.215299e-01","11":"3.020072e-01","12":"0.5756721091","13":"1.223207e-01"},{"1":"18","2":"19","3":"9","4":"mechanic","5":"20","6":"mechanic","7":"mechanic","8":"1.322283e-01","9":"0.7151531191","10":"1.526186e-01","11":"1.332280e-01","12":"0.7131842365","13":"1.535877e-01"},{"1":"19","2":"26","3":"7","4":"mechanic","5":"21","6":"mechanic","7":"mechanic","8":"3.935759e-01","9":"0.5999523328","10":"6.471784e-03","11":"4.021017e-01","12":"0.5914948099","13":"6.403483e-03"},{"1":"13","2":"20","3":"10","4":"mechanic","5":"22","6":"custserv","7":"custserv","8":"4.700075e-01","9":"0.3635186070","10":"1.664739e-01","11":"4.742141e-01","12":"0.3574320909","13":"1.683538e-01"},{"1":"28","2":"16","3":"10","4":"mechanic","5":"23","6":"mechanic","7":"mechanic","8":"1.913184e-03","9":"0.8595850073","10":"1.385018e-01","11":"1.745101e-03","12":"0.8485236032","13":"1.497313e-01"},{"1":"17","2":"19","3":"11","4":"mechanic","5":"24","6":"mechanic","7":"mechanic","8":"1.282814e-01","9":"0.5959330417","10":"2.757856e-01","11":"1.293013e-01","12":"0.5941023186","13":"2.765964e-01"},{"1":"24","2":"14","3":"7","4":"mechanic","5":"25","6":"mechanic","7":"mechanic","8":"7.359440e-03","9":"0.8128511865","10":"1.797894e-01","11":"7.150757e-03","12":"0.8012356952","13":"1.916135e-01"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"26","6":"mechanic","7":"mechanic","8":"1.546963e-01","9":"0.7472978899","10":"9.800578e-02","11":"1.560004e-01","12":"0.7451021731","13":"9.889743e-02"},{"1":"22","2":"12","3":"8","4":"mechanic","5":"27","6":"mechanic","7":"mechanic","8":"6.366740e-03","9":"0.5608687606","10":"4.327645e-01","11":"6.042621e-03","12":"0.5361657945","13":"4.577916e-01"},{"1":"22","2":"21","3":"11","4":"mechanic","5":"28","6":"mechanic","7":"mechanic","8":"4.352380e-02","9":"0.8585872696","10":"9.788893e-02","11":"4.395119e-02","12":"0.8568542950","13":"9.919452e-02"},{"1":"21","2":"19","3":"9","4":"mechanic","5":"29","6":"mechanic","7":"mechanic","8":"5.093261e-02","9":"0.8365453708","10":"1.125220e-01","11":"5.145406e-02","12":"0.8345886905","13":"1.139572e-01"},{"1":"18","2":"24","3":"13","4":"mechanic","5":"30","6":"mechanic","7":"mechanic","8":"2.222210e-01","9":"0.6751051113","10":"1.026739e-01","11":"2.250005e-01","12":"0.6709712273","13":"1.040283e-01"},{"1":"23","2":"27","3":"11","4":"mechanic","5":"31","6":"mechanic","7":"mechanic","8":"1.042359e-01","9":"0.8827918327","10":"1.297222e-02","11":"1.073042e-01","12":"0.8796497541","13":"1.304601e-02"},{"1":"20","2":"23","3":"12","4":"mechanic","5":"32","6":"mechanic","7":"mechanic","8":"1.138676e-01","9":"0.7965633033","10":"8.956908e-02","11":"1.150229e-01","12":"0.7944607377","13":"9.051638e-02"},{"1":"19","2":"13","3":"7","4":"mechanic","5":"33","6":"mechanic","7":"mechanic","8":"2.766735e-02","9":"0.5876329522","10":"3.846997e-01","11":"2.765270e-02","12":"0.5707779118","13":"4.015694e-01"},{"1":"17","2":"28","3":"13","4":"mechanic","5":"34","6":"custserv","7":"custserv","8":"5.051718e-01","9":"0.4711982009","10":"2.363000e-02","11":"5.184914e-01","12":"0.4578221004","13":"2.368647e-02"},{"1":"20","2":"24","3":"5","4":"mechanic","5":"35","6":"mechanic","7":"mechanic","8":"2.712627e-01","9":"0.7219828096","10":"6.754493e-03","11":"2.801906e-01","12":"0.7131326342","13":"6.676778e-03"},{"1":"21","2":"23","3":"11","4":"mechanic","5":"36","6":"mechanic","7":"mechanic","8":"9.323552e-02","9":"0.8468861175","10":"5.987836e-02","11":"9.423015e-02","12":"0.8452270222","13":"6.054283e-02"},{"1":"17","2":"21","3":"15","4":"mechanic","5":"37","6":"mechanic","7":"mechanic","8":"1.013269e-01","9":"0.4856037318","10":"4.130693e-01","11":"1.027189e-01","12":"0.4770392457","13":"4.202418e-01"},{"1":"11","2":"25","3":"12","4":"mechanic","5":"38","6":"custserv","7":"custserv","8":"8.289650e-01","9":"0.1380675414","10":"3.296750e-02","11":"8.393720e-01","12":"0.1279590796","13":"3.266891e-02"},{"1":"14","2":"19","3":"14","4":"mechanic","5":"39","6":"dispatcher","7":"dispatcher","8":"1.413975e-01","9":"0.3000578672","10":"5.585446e-01","11":"1.430496e-01","12":"0.2908911029","13":"5.660593e-01"},{"1":"18","2":"24","3":"5","4":"mechanic","5":"40","6":"mechanic","7":"mechanic","8":"4.375726e-01","9":"0.5553596192","10":"7.067738e-03","11":"4.491272e-01","12":"0.5439037204","13":"6.969038e-03"},{"1":"13","2":"14","3":"7","4":"mechanic","5":"41","6":"dispatcher","7":"dispatcher","8":"1.945372e-01","9":"0.3658468484","10":"4.396160e-01","11":"1.986703e-01","12":"0.3466237170","13":"4.547059e-01"},{"1":"22","2":"18","3":"16","4":"mechanic","5":"42","6":"dispatcher","7":"dispatcher","8":"6.659222e-03","9":"0.4163001775","10":"5.770406e-01","11":"6.371978e-03","12":"0.3968358373","13":"5.967922e-01"},{"1":"25","2":"17","3":"13","4":"mechanic","5":"43","6":"mechanic","7":"mechanic","8":"4.035569e-03","9":"0.6763358520","10":"3.196286e-01","11":"3.850422e-03","12":"0.6608129027","13":"3.353367e-01"},{"1":"19","2":"25","3":"13","4":"mechanic","5":"44","6":"mechanic","7":"mechanic","8":"2.026747e-01","9":"0.7280952982","10":"6.923004e-02","11":"2.060213e-01","12":"0.7236780382","13":"7.030067e-02"},{"1":"20","2":"20","3":"9","4":"mechanic","5":"45","6":"mechanic","7":"mechanic","8":"8.833131e-02","9":"0.8180841927","10":"9.358450e-02","11":"8.910090e-02","12":"0.8164928227","13":"9.440628e-02"},{"1":"21","2":"25","3":"11","4":"mechanic","5":"46","6":"mechanic","7":"mechanic","8":"1.372798e-01","9":"0.8314620896","10":"3.125813e-02","11":"1.393974e-01","12":"0.8289820564","13":"3.162057e-02"},{"1":"17","2":"24","3":"11","4":"mechanic","5":"47","6":"mechanic","7":"mechanic","8":"3.511831e-01","9":"0.5923086915","10":"5.650817e-02","11":"3.531484e-01","12":"0.5897770436","13":"5.707459e-02"},{"1":"18","2":"26","3":"10","4":"mechanic","5":"48","6":"mechanic","7":"mechanic","8":"3.989089e-01","9":"0.5825108760","10":"1.858018e-02","11":"4.035638e-01","12":"0.5777392776","13":"1.869694e-02"},{"1":"21","2":"29","3":"11","4":"mechanic","5":"49","6":"mechanic","7":"mechanic","8":"2.687072e-01","9":"0.7236019746","10":"7.690800e-03","11":"2.789949e-01","12":"0.7133975232","13":"7.607586e-03"},{"1":"17","2":"21","3":"12","4":"mechanic","5":"50","6":"mechanic","7":"mechanic","8":"1.781320e-01","9":"0.6153903320","10":"2.064777e-01","11":"1.793248e-01","12":"0.6132221411","13":"2.074531e-01"},{"1":"17","2":"19","3":"12","4":"mechanic","5":"51","6":"mechanic","7":"mechanic","8":"1.058156e-01","9":"0.5482344743","10":"3.459499e-01","11":"1.068536e-01","12":"0.5458593856","13":"3.472870e-01"},{"1":"17","2":"16","3":"6","4":"mechanic","5":"52","6":"mechanic","7":"mechanic","8":"1.389531e-01","9":"0.6870680964","10":"1.739788e-01","11":"1.424462e-01","12":"0.6783904915","13":"1.791633e-01"},{"1":"16","2":"22","3":"5","4":"mechanic","5":"53","6":"custserv","7":"custserv","8":"5.162079e-01","9":"0.4685369972","10":"1.525508e-02","11":"5.271940e-01","12":"0.4575798097","13":"1.522623e-02"},{"1":"22","2":"19","3":"10","4":"mechanic","5":"54","6":"mechanic","7":"mechanic","8":"3.154765e-02","9":"0.8368540071","10":"1.315983e-01","11":"3.181222e-02","12":"0.8345727796","13":"1.336150e-01"},{"1":"19","2":"23","3":"12","4":"mechanic","5":"55","6":"mechanic","7":"mechanic","8":"1.546963e-01","9":"0.7472978899","10":"9.800578e-02","11":"1.560004e-01","12":"0.7451021731","13":"9.889743e-02"},{"1":"16","2":"23","3":"9","4":"mechanic","5":"56","6":"mechanic","7":"mechanic","8":"4.462685e-01","9":"0.5117321428","10":"4.199934e-02","11":"4.480954e-01","12":"0.5094695218","13":"4.243503e-02"},{"1":"18","2":"27","3":"11","4":"mechanic","5":"57","6":"mechanic","7":"mechanic","8":"4.215770e-01","9":"0.5606425665","10":"1.778044e-02","11":"4.286638e-01","12":"0.5534769861","13":"1.785919e-02"},{"1":"21","2":"24","3":"12","4":"mechanic","5":"58","6":"mechanic","7":"mechanic","8":"1.014840e-01","9":"0.8394991446","10":"5.901682e-02","11":"1.028970e-01","12":"0.8372620092","13":"5.984097e-02"},{"1":"15","2":"22","3":"13","4":"mechanic","5":"59","6":"mechanic","7":"mechanic","8":"3.143532e-01","9":"0.4716208615","10":"2.140259e-01","11":"3.177253e-01","12":"0.4658393745","13":"2.164354e-01"},{"1":"19","2":"26","3":"12","4":"mechanic","5":"60","6":"mechanic","7":"mechanic","8":"2.656731e-01","9":"0.6987948125","10":"3.553211e-02","11":"2.700925e-01","12":"0.6939517916","13":"3.595569e-02"},{"1":"14","2":"17","3":"11","4":"mechanic","5":"61","6":"dispatcher","7":"dispatcher","8":"1.547478e-01","9":"0.3550153647","10":"4.902368e-01","11":"1.566358e-01","12":"0.3481204155","13":"4.952438e-01"},{"1":"15","2":"23","3":"7","4":"mechanic","5":"62","6":"custserv","7":"custserv","8":"5.990222e-01","9":"0.3813445332","10":"1.963323e-02","11":"6.051086e-01","12":"0.3751565213","13":"1.973488e-02"},{"1":"23","2":"20","3":"16","4":"mechanic","5":"63","6":"mechanic","7":"mechanic","8":"1.004930e-02","9":"0.6066208578","10":"3.833298e-01","11":"9.812454e-03","12":"0.5895732785","13":"4.006143e-01"},{"1":"22","2":"26","3":"15","4":"mechanic","5":"64","6":"mechanic","7":"mechanic","8":"7.703519e-02","9":"0.8536081721","10":"6.935664e-02","11":"7.943337e-02","12":"0.8487349044","13":"7.183172e-02"},{"1":"13","2":"16","3":"11","4":"mechanic","5":"65","6":"dispatcher","7":"dispatcher","8":"1.384048e-01","9":"0.2685166334","10":"5.930786e-01","11":"1.398890e-01","12":"0.2588045252","13":"6.013065e-01"},{"1":"25","2":"29","3":"11","4":"mechanic","5":"66","6":"mechanic","7":"mechanic","8":"7.745584e-02","9":"0.9172756109","10":"5.268551e-03","11":"8.095827e-02","12":"0.9138764341","13":"5.165292e-03"},{"1":"23","2":"24","3":"7","4":"mechanic","5":"67","6":"mechanic","7":"mechanic","8":"8.957511e-02","9":"0.9005516501","10":"9.873244e-03","11":"9.188770e-02","12":"0.8982262784","13":"9.886021e-03"},{"1":"17","2":"29","3":"9","4":"mechanic","5":"68","6":"custserv","7":"custserv","8":"6.677764e-01","9":"0.3287461102","10":"3.477501e-03","11":"6.822062e-01","12":"0.3144567714","13":"3.337040e-03"},{"1":"21","2":"19","3":"7","4":"mechanic","5":"69","6":"mechanic","7":"mechanic","8":"6.596322e-02","9":"0.8710234752","10":"6.301330e-02","11":"6.701427e-02","12":"0.8688177135","13":"6.416801e-02"},{"1":"15","2":"13","3":"6","4":"mechanic","5":"70","6":"mechanic","7":"mechanic","8":"1.089597e-01","9":"0.4718417916","10":"4.191985e-01","11":"1.111935e-01","12":"0.4499668022","13":"4.388397e-01"},{"1":"19","2":"27","3":"14","4":"mechanic","5":"71","6":"mechanic","7":"mechanic","8":"2.593547e-01","9":"0.6928799361","10":"4.776533e-02","11":"2.674316e-01","12":"0.6838652040","13":"4.870319e-02"},{"1":"22","2":"24","3":"14","4":"mechanic","5":"72","6":"mechanic","7":"mechanic","8":"5.691481e-02","9":"0.8480464521","10":"9.503874e-02","11":"5.796365e-02","12":"0.8444782912","13":"9.755806e-02"},{"1":"17","2":"18","3":"8","4":"mechanic","5":"73","6":"mechanic","7":"mechanic","8":"1.631958e-01","9":"0.6692651852","10":"1.675390e-01","11":"1.650479e-01","12":"0.6655326258","13":"1.694194e-01"},{"1":"21","2":"19","3":"8","4":"mechanic","5":"74","6":"mechanic","7":"mechanic","8":"5.820853e-02","9":"0.8572299996","10":"8.456147e-02","11":"5.893181e-02","12":"0.8552015265","13":"8.586666e-02"},{"1":"24","2":"18","3":"13","4":"mechanic","5":"75","6":"mechanic","7":"mechanic","8":"7.491403e-03","9":"0.7079630895","10":"2.845455e-01","11":"7.344524e-03","12":"0.6977257593","13":"2.949297e-01"},{"1":"21","2":"12","3":"9","4":"mechanic","5":"76","6":"dispatcher","7":"dispatcher","8":"6.574656e-03","9":"0.4460604063","10":"5.473649e-01","11":"6.248876e-03","12":"0.4233238050","13":"5.704273e-01"},{"1":"15","2":"17","3":"8","4":"mechanic","5":"77","6":"mechanic","7":"mechanic","8":"2.215688e-01","9":"0.5306266834","10":"2.478046e-01","11":"2.248797e-01","12":"0.5235184821","13":"2.516018e-01"},{"1":"24","2":"22","3":"14","4":"mechanic","5":"78","6":"mechanic","7":"mechanic","8":"1.814155e-02","9":"0.8501376257","10":"1.317208e-01","11":"1.820278e-02","12":"0.8453478827","13":"1.364493e-01"},{"1":"19","2":"19","3":"7","4":"mechanic","5":"79","6":"mechanic","7":"mechanic","8":"1.263200e-01","9":"0.7954036797","10":"7.827628e-02","11":"1.281322e-01","12":"0.7924447206","13":"7.942307e-02"},{"1":"23","2":"16","3":"10","4":"mechanic","5":"80","6":"mechanic","7":"mechanic","8":"1.040750e-02","9":"0.7342552318","10":"2.553373e-01","11":"1.030377e-02","12":"0.7260332931","13":"2.636629e-01"},{"1":"21","2":"29","3":"12","4":"mechanic","5":"81","6":"mechanic","7":"mechanic","8":"2.471054e-01","9":"0.7421391527","10":"1.075548e-02","11":"2.570711e-01","12":"0.7322084699","13":"1.072039e-02"},{"1":"20","2":"19","3":"11","4":"mechanic","5":"82","6":"mechanic","7":"mechanic","8":"5.202222e-02","9":"0.7339080028","10":"2.140698e-01","11":"5.247938e-02","12":"0.7319890166","13":"2.155316e-01"},{"1":"18","2":"28","3":"0","4":"mechanic","5":"83","6":"custserv","7":"custserv","8":"7.534177e-01","9":"0.2463942665","10":"1.880719e-04","11":"8.006081e-01","12":"0.1992645529","13":"1.273722e-04"},{"1":"23","2":"21","3":"16","4":"mechanic","5":"84","6":"mechanic","7":"mechanic","8":"1.369770e-02","9":"0.6751890552","10":"3.111132e-01","11":"1.353468e-02","12":"0.6608414477","13":"3.256239e-01"},{"1":"17","2":"17","3":"8","4":"mechanic","5":"85","6":"mechanic","7":"mechanic","8":"1.290933e-01","9":"0.6483313458","10":"2.225753e-01","11":"1.308424e-01","12":"0.6435044536","13":"2.256532e-01"},{"1":"17","2":"24","3":"5","4":"mechanic","5":"86","6":"custserv","7":"custserv","8":"5.292573e-01","9":"0.4638575918","10":"6.885111e-03","11":"5.417162e-01","12":"0.4515157930","13":"6.768020e-03"},{"1":"17","2":"18","3":"15","4":"mechanic","5":"87","6":"dispatcher","7":"dispatcher","8":"3.434966e-02","9":"0.3023369650","10":"6.633134e-01","11":"3.438784e-02","12":"0.2928991501","13":"6.727130e-01"},{"1":"17","2":"23","3":"10","4":"mechanic","5":"88","6":"mechanic","7":"mechanic","8":"3.300682e-01","9":"0.6112786186","10":"5.865320e-02","11":"3.310955e-01","12":"0.6097336424","13":"5.917087e-02"},{"1":"19","2":"15","3":"10","4":"mechanic","5":"89","6":"mechanic","7":"mechanic","8":"2.632700e-02","9":"0.5172261334","10":"4.564469e-01","11":"2.642124e-02","12":"0.5095112862","13":"4.640675e-01"},{"1":"17","2":"20","3":"8","4":"mechanic","5":"90","6":"mechanic","7":"mechanic","8":"2.439916e-01","9":"0.6672007895","10":"8.880757e-02","11":"2.457082e-01","12":"0.6646563409","13":"8.963542e-02"},{"1":"25","2":"20","3":"8","4":"mechanic","5":"91","6":"mechanic","7":"mechanic","8":"1.787608e-02","9":"0.9453756458","10":"3.674828e-02","11":"1.797840e-02","12":"0.9443719153","13":"3.764968e-02"},{"1":"16","2":"19","3":"8","4":"mechanic","5":"92","6":"mechanic","7":"mechanic","8":"2.628249e-01","9":"0.6077789461","10":"1.293962e-01","11":"2.652139e-01","12":"0.6040358909","13":"1.307502e-01"},{"1":"19","2":"16","3":"6","4":"mechanic","5":"93","6":"mechanic","7":"mechanic","8":"7.519155e-02","9":"0.7796743157","10":"1.451341e-01","11":"7.687065e-02","12":"0.7733127888","13":"1.498166e-01"},{"1":"19","2":"19","3":"16","4":"dispatcher","5":"1","6":"dispatcher","7":"dispatcher","8":"2.233844e-02","9":"0.3755027546","10":"6.021588e-01","11":"2.297406e-02","12":"0.3838866657","13":"5.931393e-01"},{"1":"17","2":"17","3":"12","4":"dispatcher","5":"2","6":"dispatcher","7":"dispatcher","8":"5.558202e-02","9":"0.4318755298","10":"5.125425e-01","11":"5.623822e-02","12":"0.4333398749","13":"5.104219e-01"},{"1":"8","2":"17","3":"14","4":"dispatcher","5":"3","6":"dispatcher","7":"dispatcher","8":"2.279882e-01","9":"0.0786765659","10":"6.933352e-01","11":"2.427581e-01","12":"0.0808727862","13":"6.763691e-01"},{"1":"13","2":"20","3":"16","4":"dispatcher","5":"4","6":"dispatcher","7":"dispatcher","8":"1.455729e-01","9":"0.2166700625","10":"6.377571e-01","11":"1.507420e-01","12":"0.2222149798","13":"6.270431e-01"},{"1":"14","2":"18","3":"4","4":"dispatcher","5":"5","6":"custserv","7":"custserv","8":"5.068084e-01","9":"0.4423674151","10":"5.082414e-02","11":"5.209550e-01","12":"0.4388994189","13":"4.014561e-02"},{"1":"17","2":"12","3":"13","4":"dispatcher","5":"6","6":"dispatcher","7":"dispatcher","8":"4.711858e-03","9":"0.1124653067","10":"8.828228e-01","11":"4.797337e-03","12":"0.1143260899","13":"8.808766e-01"},{"1":"17","2":"12","3":"17","4":"dispatcher","5":"7","6":"dispatcher","7":"dispatcher","8":"9.615280e-04","9":"0.0355074481","10":"9.635310e-01","11":"9.619115e-04","12":"0.0362584172","13":"9.627797e-01"},{"1":"14","2":"21","3":"16","4":"dispatcher","5":"8","6":"dispatcher","7":"dispatcher","8":"1.666968e-01","9":"0.2933919879","10":"5.399112e-01","11":"1.723025e-01","12":"0.3006478914","13":"5.270496e-01"},{"1":"19","2":"18","3":"12","4":"dispatcher","5":"9","6":"mechanic","7":"mechanic","8":"4.391730e-02","9":"0.5843441781","10":"3.717385e-01","11":"4.470520e-02","12":"0.5883071712","13":"3.669876e-01"},{"1":"18","2":"16","3":"15","4":"dispatcher","5":"10","6":"dispatcher","7":"dispatcher","8":"1.139711e-02","9":"0.2178601020","10":"7.707428e-01","11":"1.162372e-02","12":"0.2205702426","13":"7.678060e-01"},{"1":"15","2":"14","3":"17","4":"dispatcher","5":"11","6":"dispatcher","7":"dispatcher","8":"4.111778e-03","9":"0.0482799441","10":"9.476083e-01","11":"4.200717e-03","12":"0.0491886516","13":"9.466106e-01"},{"1":"20","2":"15","3":"7","4":"dispatcher","5":"12","6":"mechanic","7":"mechanic","8":"3.619326e-02","9":"0.7422749633","10":"2.215318e-01","11":"3.702090e-02","12":"0.7595368663","13":"2.034422e-01"},{"1":"24","2":"20","3":"13","4":"dispatcher","5":"13","6":"mechanic","7":"mechanic","8":"1.290640e-02","9":"0.8132888754","10":"1.738047e-01","11":"1.298012e-02","12":"0.8295108535","13":"1.575090e-01"},{"1":"16","2":"16","3":"17","4":"dispatcher","5":"14","6":"dispatcher","7":"dispatcher","8":"8.788252e-03","9":"0.0996410258","10":"8.915707e-01","11":"9.018991e-03","12":"0.1017453653","13":"8.892356e-01"},{"1":"17","2":"15","3":"10","4":"dispatcher","5":"15","6":"dispatcher","7":"dispatcher","8":"4.626438e-02","9":"0.4334243141","10":"5.203113e-01","11":"4.717276e-02","12":"0.4380798499","13":"5.147474e-01"},{"1":"17","2":"10","3":"12","4":"dispatcher","5":"16","6":"dispatcher","7":"dispatcher","8":"2.627441e-03","9":"0.0843304228","10":"9.130421e-01","11":"2.672248e-03","12":"0.0866234873","13":"9.107043e-01"},{"1":"11","2":"16","3":"11","4":"dispatcher","5":"17","6":"dispatcher","7":"dispatcher","8":"2.125497e-01","9":"0.1966382663","10":"5.908120e-01","11":"2.175042e-01","12":"0.2004249995","13":"5.820708e-01"},{"1":"15","2":"18","3":"14","4":"dispatcher","5":"18","6":"dispatcher","7":"dispatcher","8":"7.692116e-02","9":"0.2894804124","10":"6.335984e-01","11":"7.778219e-02","12":"0.2915234497","13":"6.306944e-01"},{"1":"20","2":"19","3":"16","4":"dispatcher","5":"19","6":"dispatcher","7":"dispatcher","8":"1.700342e-02","9":"0.4139070326","10":"5.690896e-01","11":"1.749420e-02","12":"0.4246704302","13":"5.578354e-01"},{"1":"14","2":"22","3":"16","4":"dispatcher","5":"20","6":"dispatcher","7":"dispatcher","8":"2.290562e-01","9":"0.3291994564","10":"4.417444e-01","11":"2.372427e-01","12":"0.3374296052","13":"4.253277e-01"},{"1":"13","2":"15","3":"18","4":"dispatcher","5":"21","6":"dispatcher","7":"dispatcher","8":"7.068771e-03","9":"0.0360451874","10":"9.568860e-01","11":"7.324125e-03","12":"0.0368769837","13":"9.557989e-01"},{"1":"16","2":"14","3":"13","4":"dispatcher","5":"22","6":"dispatcher","7":"dispatcher","8":"1.526915e-02","9":"0.1678136599","10":"8.169172e-01","11":"1.551788e-02","12":"0.1691236979","13":"8.153584e-01"},{"1":"12","2":"12","3":"6","4":"dispatcher","5":"23","6":"dispatcher","7":"dispatcher","8":"1.633462e-01","9":"0.2852492423","10":"5.514045e-01","11":"1.774245e-01","12":"0.3009955209","13":"5.215799e-01"},{"1":"17","2":"17","3":"19","4":"dispatcher","5":"24","6":"dispatcher","7":"dispatcher","8":"5.232025e-03","9":"0.0872516234","10":"9.075164e-01","11":"5.412514e-03","12":"0.0907369351","13":"9.038506e-01"},{"1":"10","2":"8","3":"16","4":"dispatcher","5":"25","6":"dispatcher","7":"dispatcher","8":"8.628193e-04","9":"0.0048113373","10":"9.943258e-01","11":"8.593816e-04","12":"0.0047114896","13":"9.944291e-01"},{"1":"11","2":"17","3":"20","4":"dispatcher","5":"26","6":"dispatcher","7":"dispatcher","8":"1.333064e-02","9":"0.0268843510","10":"9.597850e-01","11":"1.439740e-02","12":"0.0278460266","13":"9.577566e-01"},{"1":"13","2":"16","3":"7","4":"dispatcher","5":"27","6":"mechanic","7":"mechanic","8":"3.273139e-01","9":"0.4104435410","10":"2.622426e-01","11":"3.367477e-01","12":"0.4177984612","13":"2.454538e-01"},{"1":"19","2":"15","3":"13","4":"dispatcher","5":"28","6":"dispatcher","7":"dispatcher","8":"1.120707e-02","9":"0.3054355934","10":"6.833573e-01","11":"1.142867e-02","12":"0.3089664615","13":"6.796049e-01"},{"1":"15","2":"11","3":"13","4":"dispatcher","5":"29","6":"dispatcher","7":"dispatcher","8":"4.565093e-03","9":"0.0636307793","10":"9.318041e-01","11":"4.657314e-03","12":"0.0647462924","13":"9.305964e-01"},{"1":"17","2":"11","3":"10","4":"dispatcher","5":"30","6":"dispatcher","7":"dispatcher","8":"8.965272e-03","9":"0.1889058551","10":"8.021289e-01","11":"9.239373e-03","12":"0.1947896910","13":"7.959709e-01"},{"1":"15","2":"10","3":"13","4":"dispatcher","5":"31","6":"dispatcher","7":"dispatcher","8":"2.771083e-03","9":"0.0473010784","10":"9.499278e-01","11":"2.819554e-03","12":"0.0482484473","13":"9.489320e-01"},{"1":"19","2":"14","3":"12","4":"dispatcher","5":"32","6":"dispatcher","7":"dispatcher","8":"1.017657e-02","9":"0.3045440295","10":"6.852794e-01","11":"1.039136e-02","12":"0.3090452593","13":"6.805634e-01"},{"1":"19","2":"14","3":"15","4":"dispatcher","5":"33","6":"dispatcher","7":"dispatcher","8":"3.579839e-03","9":"0.1486142380","10":"8.478059e-01","11":"3.639826e-03","12":"0.1516235662","13":"8.447366e-01"},{"1":"4","2":"12","3":"11","4":"dispatcher","5":"34","6":"dispatcher","7":"dispatcher","8":"1.661938e-01","9":"0.0258936674","10":"8.079125e-01","11":"1.956529e-01","12":"0.0265133728","13":"7.778337e-01"},{"1":"13","2":"12","3":"15","4":"dispatcher","5":"35","6":"dispatcher","7":"dispatcher","8":"5.261037e-03","9":"0.0355171413","10":"9.592218e-01","11":"5.385047e-03","12":"0.0360495472","13":"9.585654e-01"},{"1":"20","2":"13","3":"19","4":"dispatcher","5":"36","6":"dispatcher","7":"dispatcher","8":"3.628261e-04","9":"0.0413272608","10":"9.583099e-01","11":"3.508909e-04","12":"0.0430589471","13":"9.565902e-01"},{"1":"14","2":"18","3":"14","4":"dispatcher","5":"37","6":"dispatcher","7":"dispatcher","8":"9.772434e-02","9":"0.2539625966","10":"6.483131e-01","11":"9.888683e-02","12":"0.2563447416","13":"6.447684e-01"},{"1":"10","2":"12","3":"9","4":"dispatcher","5":"38","6":"dispatcher","7":"dispatcher","8":"1.014576e-01","9":"0.1172021794","10":"7.813402e-01","11":"1.087115e-01","12":"0.1221847687","13":"7.691037e-01"},{"1":"11","2":"12","3":"19","4":"dispatcher","5":"39","6":"dispatcher","7":"dispatcher","8":"1.566086e-03","9":"0.0078001082","10":"9.906338e-01","11":"1.590775e-03","12":"0.0077703681","13":"9.906389e-01"},{"1":"8","2":"20","3":"8","4":"dispatcher","5":"40","6":"custserv","7":"custserv","8":"8.699108e-01","9":"0.0849374934","10":"4.515167e-02","11":"8.818960e-01","12":"0.0815810172","13":"3.652301e-02"},{"1":"14","2":"16","3":"7","4":"dispatcher","5":"41","6":"mechanic","7":"mechanic","8":"2.624197e-01","9":"0.4765316600","10":"2.610486e-01","11":"2.694608e-01","12":"0.4850172607","13":"2.455220e-01"},{"1":"18","2":"20","3":"15","4":"dispatcher","5":"42","6":"dispatcher","7":"mechanic","8":"5.555677e-02","9":"0.4721764764","10":"4.722668e-01","11":"5.681314e-02","12":"0.4789033311","13":"4.642835e-01"},{"1":"19","2":"7","3":"13","4":"dispatcher","5":"43","6":"dispatcher","7":"dispatcher","8":"2.501282e-04","9":"0.0344842774","10":"9.652656e-01","11":"2.383393e-04","12":"0.0358372573","13":"9.639244e-01"},{"1":"21","2":"13","3":"11","4":"dispatcher","5":"44","6":"dispatcher","7":"dispatcher","8":"5.418486e-03","9":"0.3733879008","10":"6.211936e-01","11":"5.529481e-03","12":"0.3854890323","13":"6.089815e-01"},{"1":"14","2":"26","3":"15","4":"dispatcher","5":"45","6":"custserv","7":"custserv","8":"5.772471e-01","9":"0.3307353202","10":"9.201760e-02","11":"5.917248e-01","12":"0.3299101498","13":"7.836505e-02"},{"1":"25","2":"16","3":"12","4":"dispatcher","5":"46","6":"mechanic","7":"mechanic","8":"3.669802e-03","9":"0.6753383620","10":"3.209918e-01","11":"3.629394e-03","12":"0.7013124729","13":"2.950581e-01"},{"1":"18","2":"11","3":"19","4":"dispatcher","5":"47","6":"dispatcher","7":"dispatcher","8":"2.034627e-04","9":"0.0165736451","10":"9.832229e-01","11":"1.925958e-04","12":"0.0168837440","13":"9.829237e-01"},{"1":"14","2":"16","3":"6","4":"dispatcher","5":"48","6":"mechanic","7":"mechanic","8":"3.046592e-01","9":"0.4960516106","10":"1.992892e-01","11":"3.142601e-01","12":"0.5043791114","13":"1.813608e-01"},{"1":"13","2":"20","3":"18","4":"dispatcher","5":"49","6":"dispatcher","7":"dispatcher","8":"7.702310e-02","9":"0.1425952452","10":"7.803817e-01","11":"8.204042e-02","12":"0.1487249691","13":"7.692346e-01"},{"1":"20","2":"16","3":"14","4":"dispatcher","5":"50","6":"dispatcher","7":"dispatcher","8":"9.478974e-03","9":"0.3407014879","10":"6.498195e-01","11":"9.682253e-03","12":"0.3462450535","13":"6.440727e-01"},{"1":"12","2":"14","3":"8","4":"dispatcher","5":"51","6":"dispatcher","7":"dispatcher","8":"1.917110e-01","9":"0.2776644348","10":"5.306246e-01","11":"2.001242e-01","12":"0.2860190815","13":"5.138567e-01"},{"1":"16","2":"19","3":"12","4":"dispatcher","5":"52","6":"mechanic","7":"mechanic","8":"1.386787e-01","9":"0.4961580594","10":"3.651632e-01","11":"1.396233e-01","12":"0.4986136559","13":"3.617630e-01"},{"1":"21","2":"15","3":"7","4":"dispatcher","5":"53","6":"mechanic","7":"mechanic","8":"2.611049e-02","9":"0.7754584493","10":"1.984311e-01","11":"2.655056e-02","12":"0.7942041926","13":"1.792452e-01"},{"1":"18","2":"23","3":"15","4":"dispatcher","5":"54","6":"mechanic","7":"mechanic","8":"1.347321e-01","9":"0.6234862324","10":"2.417816e-01","11":"1.380489e-01","12":"0.6337806116","13":"2.281704e-01"},{"1":"19","2":"11","3":"13","4":"dispatcher","5":"55","6":"dispatcher","7":"dispatcher","8":"1.826868e-03","9":"0.1119825092","10":"8.861906e-01","11":"1.846344e-03","12":"0.1152079474","13":"8.829457e-01"},{"1":"17","2":"18","3":"9","4":"dispatcher","5":"56","6":"mechanic","7":"mechanic","8":"1.401549e-01","9":"0.6410331082","10":"2.188120e-01","11":"1.420345e-01","12":"0.6462528314","13":"2.117126e-01"},{"1":"4","2":"10","3":"15","4":"dispatcher","5":"57","6":"dispatcher","7":"dispatcher","8":"1.338773e-02","9":"0.0048397672","10":"9.817725e-01","11":"1.514038e-02","12":"0.0047002727","13":"9.801593e-01"},{"1":"17","2":"17","3":"14","4":"dispatcher","5":"58","6":"dispatcher","7":"dispatcher","8":"3.125918e-02","9":"0.3021116335","10":"6.666292e-01","11":"3.172491e-02","12":"0.3038337388","13":"6.644413e-01"},{"1":"14","2":"13","3":"12","4":"dispatcher","5":"59","6":"dispatcher","7":"dispatcher","8":"2.218212e-02","9":"0.1276509099","10":"8.501670e-01","11":"2.265057e-02","12":"0.1293223757","13":"8.480271e-01"},{"1":"15","2":"16","3":"14","4":"dispatcher","5":"60","6":"dispatcher","7":"dispatcher","8":"3.347095e-02","9":"0.1889074349","10":"7.776216e-01","11":"3.392017e-02","12":"0.1901212234","13":"7.759586e-01"},{"1":"20","2":"13","3":"18","4":"dispatcher","5":"61","6":"dispatcher","7":"dispatcher","8":"5.434963e-04","9":"0.0555075385","10":"9.439490e-01","11":"5.343607e-04","12":"0.0577093505","13":"9.417563e-01"},{"1":"20","2":"14","3":"18","4":"dispatcher","5":"62","6":"dispatcher","7":"dispatcher","8":"8.940124e-04","9":"0.0745581347","10":"9.245479e-01","11":"8.912612e-04","12":"0.0776264637","13":"9.214823e-01"},{"1":"16","2":"22","3":"12","4":"dispatcher","5":"63","6":"mechanic","7":"mechanic","8":"2.853946e-01","9":"0.5559610200","10":"1.586444e-01","11":"2.874493e-01","12":"0.5604770365","13":"1.520736e-01"},{"1":"9","2":"13","3":"16","4":"dispatcher","5":"64","6":"dispatcher","7":"dispatcher","8":"1.391454e-02","9":"0.0194531176","10":"9.666323e-01","11":"1.471178e-02","12":"0.0197918150","13":"9.654964e-01"},{"1":"15","2":"13","3":"13","4":"dispatcher","5":"65","6":"dispatcher","7":"dispatcher","8":"1.209752e-02","9":"0.1124362561","10":"8.754662e-01","11":"1.232444e-02","12":"0.1136875181","13":"8.739880e-01"},{"1":"18","2":"20","3":"10","4":"dispatcher","5":"66","6":"mechanic","7":"mechanic","8":"1.434582e-01","9":"0.7066085684","10":"1.499332e-01","11":"1.451256e-01","12":"0.7109459494","13":"1.439285e-01"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>That’s not too bad. We could shorten some variable names and reduce some decimal places, but that’ll do for now.</p>
<p>How many individuals were predicted differently? We have columns called <code>class.x</code> (predicted group membership from original LDA) and <code>class.y</code> (from cross-validation), and so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>all <span class="sc">%&gt;%</span> <span class="fu">filter</span>(class.x <span class="sc">!=</span> class.y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["outdoor"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[4],"type":["fct"],"align":["left"]},{"label":["id"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class.x"],"name":[6],"type":["fct"],"align":["left"]},{"label":["class.y"],"name":[7],"type":["fct"],"align":["left"]},{"label":["posterior.custserv.x"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.x"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.x"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["posterior.custserv.y"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.y"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.y"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"17","2":"25","3":"8","4":"custserv","5":"11","6":"custserv","7":"mechanic","8":"0.49503885","9":"0.4914751","10":"0.01348603","11":"0.49005230","12":"0.4961868","13":"0.01376092"},{"1":"18","2":"20","3":"15","4":"dispatcher","5":"42","6":"dispatcher","7":"mechanic","8":"0.05555677","9":"0.4721765","10":"0.47226675","11":"0.05681314","12":"0.4789033","13":"0.46428353"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>There are exactly <em>two</em> individuals that were predicted differently. Under cross-validation, they both got called mechanics. How do their posterior probabilities compare? These are all in columns beginning with <code>posterior</code>. We could scrutinize the output above, or try to make things simpler. Let’s round them to three decimals, and then display only some of the columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>all <span class="sc">%&gt;%</span> <span class="fu">filter</span>(class.x <span class="sc">!=</span> class.y) <span class="sc">%&gt;%</span> </span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), \(post) <span class="fu">round</span>(post, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, job, <span class="fu">starts_with</span>(<span class="st">"posterior"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[2],"type":["fct"],"align":["left"]},{"label":["posterior.custserv.x"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.x"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.x"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["posterior.custserv.y"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.y"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.y"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"11","2":"custserv","3":"0.495","4":"0.491","5":"0.013","6":"0.490","7":"0.496","8":"0.014"},{"1":"42","2":"dispatcher","3":"0.056","4":"0.472","5":"0.472","6":"0.057","7":"0.479","8":"0.464"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>And then, because I can, let’s re-format that to make it easier to read, <code>x</code> being regular LDA and <code>y</code> being cross-validation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>all <span class="sc">%&gt;%</span> <span class="fu">filter</span>(class.x <span class="sc">!=</span> class.y) <span class="sc">%&gt;%</span> </span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), \(post) <span class="fu">round</span>(post, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, job, <span class="fu">starts_with</span>(<span class="st">"posterior"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"post_job"</span>, <span class="st">"method"</span>), </span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_pattern =</span> <span class="st">"posterior</span><span class="sc">\\</span><span class="st">.(.*)</span><span class="sc">\\</span><span class="st">.(.)"</span>, <span class="at">values_to =</span> <span class="st">"prob"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> prob)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[2],"type":["fct"],"align":["left"]},{"label":["post_job"],"name":[3],"type":["chr"],"align":["left"]},{"label":["x"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["y"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"11","2":"custserv","3":"custserv","4":"0.495","5":"0.490"},{"1":"11","2":"custserv","3":"mechanic","4":"0.491","5":"0.496"},{"1":"11","2":"custserv","3":"dispatcher","4":"0.013","5":"0.014"},{"1":"42","2":"dispatcher","3":"custserv","4":"0.056","5":"0.057"},{"1":"42","2":"dispatcher","3":"mechanic","4":"0.472","5":"0.479"},{"1":"42","2":"dispatcher","3":"dispatcher","4":"0.472","5":"0.464"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>As I suspected, the posterior probabilities in each case are almost identical, but different ones happen to be slightly higher in the two cases. For the first individual (actually in customer service), cross-validation just tweaked the posterior probabilities enough to call that individual a mechanic, and for the second one, actually a dispatcher, the first analysis was almost too close to call, and things under cross-validation got nudged onto the mechanic side again.</p>
<p>All right, what <em>about</em> those people who got misclassified (say, by the LDA rather than the cross-validation, since it seems not to make much difference)?</p>
<p>Let’s count them first:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>all <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">is_correct =</span> <span class="fu">ifelse</span>(job <span class="sc">==</span> class.x, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="ot">-&gt;</span> all.mis</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>all.mis <span class="sc">%&gt;%</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(is_correct <span class="sc">==</span> <span class="st">"wrong"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["is_correct == \"wrong\""],"name":[1],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"FALSE","2":"185","3":"0.7581967"},{"1":"TRUE","2":"59","3":"0.2418033"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>24% of them. There are a lot of them, so we’ll pick a random sample to look at, rounding the posterior probabilities to 3 decimals first and reducing the number of columns to look at:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">457299</span>)</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>all.mis <span class="sc">%&gt;%</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_correct <span class="sc">==</span> <span class="st">"wrong"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), \(post) <span class="fu">round</span>(post, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>    id, job, class.x, outdoor, social, conservative,</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"posterior"</span>)</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["job"],"name":[2],"type":["fct"],"align":["left"]},{"label":["class.x"],"name":[3],"type":["fct"],"align":["left"]},{"label":["outdoor"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["social"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["conservative"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["posterior.custserv.x"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.x"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.x"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.custserv.y"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["posterior.mechanic.y"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["posterior.dispatcher.y"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"6","2":"mechanic","3":"dispatcher","4":"24","5":"9","6":"17","7":"0.000","8":"0.040","9":"0.960","10":"0.000","11":"0.026","12":"0.974"},{"1":"65","2":"mechanic","3":"dispatcher","4":"13","5":"16","6":"11","7":"0.138","8":"0.269","9":"0.593","10":"0.140","11":"0.259","12":"0.601"},{"1":"61","2":"custserv","3":"dispatcher","4":"7","5":"13","6":"7","7":"0.438","8":"0.109","9":"0.453","10":"0.392","11":"0.109","12":"0.499"},{"1":"47","2":"custserv","3":"mechanic","4":"15","5":"19","6":"9","7":"0.296","8":"0.526","9":"0.178","10":"0.289","11":"0.531","12":"0.180"},{"1":"22","2":"mechanic","3":"custserv","4":"13","5":"20","6":"10","7":"0.470","8":"0.364","9":"0.166","10":"0.474","11":"0.357","12":"0.168"},{"1":"53","2":"dispatcher","3":"mechanic","4":"21","5":"15","6":"7","7":"0.026","8":"0.775","9":"0.198","10":"0.027","11":"0.794","12":"0.179"},{"1":"4","2":"mechanic","3":"custserv","4":"15","5":"29","6":"8","7":"0.825","8":"0.174","9":"0.002","10":"0.838","11":"0.161","12":"0.002"},{"1":"34","2":"mechanic","3":"custserv","4":"17","5":"28","6":"13","7":"0.505","8":"0.471","9":"0.024","10":"0.518","11":"0.458","12":"0.024"},{"1":"40","2":"custserv","3":"mechanic","4":"22","5":"22","6":"6","7":"0.095","8":"0.889","9":"0.016","10":"0.083","11":"0.901","12":"0.016"},{"1":"46","2":"dispatcher","3":"mechanic","4":"25","5":"16","6":"12","7":"0.004","8":"0.675","9":"0.321","10":"0.004","11":"0.701","12":"0.295"},{"1":"42","2":"mechanic","3":"dispatcher","4":"22","5":"18","6":"16","7":"0.007","8":"0.416","9":"0.577","10":"0.006","11":"0.397","12":"0.597"},{"1":"38","2":"mechanic","3":"custserv","4":"11","5":"25","6":"12","7":"0.829","8":"0.138","9":"0.033","10":"0.839","11":"0.128","12":"0.033"},{"1":"86","2":"mechanic","3":"custserv","4":"17","5":"24","6":"5","7":"0.529","8":"0.464","9":"0.007","10":"0.542","11":"0.452","12":"0.007"},{"1":"55","2":"custserv","3":"mechanic","4":"22","5":"27","6":"12","7":"0.130","8":"0.850","9":"0.020","10":"0.116","11":"0.864","12":"0.020"},{"1":"15","2":"mechanic","3":"custserv","4":"14","5":"28","6":"1","7":"0.923","8":"0.077","9":"0.000","10":"0.943","11":"0.057","12":"0.000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I put the <code>set.seed</code> in so that this will come out the same each time I do it, and so that the discussion below always makes sense.</p>
<p>Now we can look at the true and predicted jobs for these people, and the posterior probabilities (which I rounded earlier).</p>
<ul>
<li>The first one, id 6, is badly wrong; this was actually a mechanic, but the posterior probabilities say that it is a near-certain dispatcher.</li>
<li>The second one, id 65, is a little better, but the posterior probability of actually being a mechanic is only 0.269; the probability of being a dispatcher is much higher at 0.593, so that’s what it gets classified as.</li>
<li>The third one, though, id #61, is a very close call: posterior probability 0.438 of being in customer service (correct), 0.453 of being a dispatcher, only slightly higher, but enough to make the prediction wrong.</li>
</ul>
<p>The implication from looking at our sample of 15 people is that some of them are “badly” misclassified (with a high posterior probability of having a different job from the one they actually hold), but a lot of them came out on the wrong end of a close call. This suggests that a number of the correct classifications came out <em>right</em> almost by chance as well, with (hypothesizing) two close posterior probabilities of which their actual job came out slightly higher.</p>
<p>Further further analysis would look at the original variables <code>social</code>, <code>outdoor</code> and <code>conservative</code> for the misclassified people, and try to find out what was unusual about them. But I think now would be an excellent place for me to stop.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
</section>
<section id="observing-children-with-adhd-1" class="level2" data-number="35.12">
<h2 data-number="35.12" class="anchored" data-anchor-id="observing-children-with-adhd-1"><span class="header-section-number">35.12</span> Observing children with ADHD</h2>
<p>A number of children with ADHD were observed by their mother or their father (only one parent observed each child). Each parent was asked to rate occurrences of behaviours of four different types, labelled <code>q1</code> through <code>q4</code> in the data set. Also recorded was the identity of the parent doing the observation for each child: 1 is father, 2 is mother.</p>
<p>Can we tell (without looking at the <code>parent</code> column) which parent is doing the observation? Research suggests that rating the degree of impairment in different categories depends on who is doing the rating: for example, mothers may feel that a child has difficulty sitting still, while fathers, who might do more observing of a child at play, might think of such a child as simply being “active” or “just being a kid”. The data are in <a href="http://ritsokiguess.site/datafiles/adhd-parents.txt">link</a>.</p>
<ol type="a">
<li>Read in the data and confirm that you have four ratings and a column labelling the parent who made each observation.</li>
</ol>
<p>Solution</p>
<p>As ever:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/nxskok/datafiles/master/adhd-parents.txt"</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>adhd <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(my_url, <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 29 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: " "
chr (1): parent
dbl (4): q1, q2, q3, q4

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>adhd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["q1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["q2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["q3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["q4"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"father","2":"2","3":"1","4":"3","5":"1"},{"1":"mother","2":"1","3":"3","4":"1","5":"1"},{"1":"father","2":"2","3":"1","4":"3","5":"1"},{"1":"mother","2":"3","3":"2","4":"3","5":"3"},{"1":"mother","2":"3","3":"3","4":"2","5":"1"},{"1":"mother","2":"1","3":"3","4":"3","5":"1"},{"1":"mother","2":"3","3":"3","4":"1","5":"1"},{"1":"mother","2":"2","3":"3","4":"1","5":"1"},{"1":"mother","2":"1","3":"3","4":"3","5":"1"},{"1":"mother","2":"3","3":"3","4":"3","5":"3"},{"1":"mother","2":"3","3":"3","4":"2","5":"3"},{"1":"mother","2":"3","3":"3","4":"1","5":"2"},{"1":"mother","2":"1","3":"2","4":"2","5":"2"},{"1":"mother","2":"3","3":"3","4":"2","5":"1"},{"1":"mother","2":"3","3":"3","4":"3","5":"1"},{"1":"father","2":"1","3":"1","4":"1","5":"3"},{"1":"mother","2":"1","3":"1","4":"2","5":"1"},{"1":"mother","2":"3","3":"3","4":"3","5":"1"},{"1":"father","2":"2","3":"1","4":"1","5":"1"},{"1":"mother","2":"3","3":"3","4":"1","5":"1"},{"1":"mother","2":"3","3":"3","4":"1","5":"1"},{"1":"mother","2":"3","3":"3","4":"3","5":"1"},{"1":"mother","2":"2","3":"2","4":"1","5":"3"},{"1":"mother","2":"3","3":"3","4":"2","5":"3"},{"1":"mother","2":"3","3":"3","4":"2","5":"3"},{"1":"mother","2":"1","3":"3","4":"1","5":"2"},{"1":"father","2":"2","3":"1","4":"1","5":"3"},{"1":"mother","2":"3","3":"3","4":"3","5":"1"},{"1":"mother","2":"2","3":"3","4":"1","5":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Yes, exactly that.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>Run a suitable discriminant analysis and display the output.</li>
</ol>
<p>Solution</p>
<p>This is as before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>adhd<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(parent <span class="sc">~</span> q1 <span class="sc">+</span> q2 <span class="sc">+</span> q3 <span class="sc">+</span> q4, <span class="at">data =</span> adhd)</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>adhd<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(parent ~ q1 + q2 + q3 + q4, data = adhd)

Prior probabilities of groups:
   father    mother 
0.1724138 0.8275862 

Group means:
          q1       q2       q3    q4
father 1.800 1.000000 1.800000 1.800
mother 2.375 2.791667 1.958333 1.625

Coefficients of linear discriminants:
          LD1
q1 -0.3223454
q2  2.3219448
q3  0.1411360
q4  0.1884613</code></pre>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li>Which behaviour item or items seem to be most helpful at distinguishing the parent making the observations? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>Look at the Coefficients of Linear Discriminants. The coefficient of <code>q2</code>, 2.32, is much larger in size than the others, so it’s really <code>q2</code> that distinguishes mothers and fathers. Note also that the group means for fathers and mothers are fairly close on all the items except for <code>q2</code>, which are a long way apart. So that’s another hint that it might be <code>q2</code> that makes the difference. But that might be deceiving: one of the other <code>q</code>s, even though the means are close for mothers and fathers, might actually do a good job of distinguishing mothers from fathers, because it has a small SD overall.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li>Obtain the predictions from the <code>lda</code>, and make a suitable plot of the discriminant scores, bearing in mind that you only have one <code>LD</code>. Do you think there will be any misclassifications? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>The prediction is the obvious thing. I take a quick look at it (using <code>glimpse</code>), but only because I feel like it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>adhd<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">predict</span>(adhd<span class="fl">.1</span>)</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(adhd<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ class    : Factor w/ 2 levels "father","mother": 1 2 1 2 2 2 2 2 2 2 ...
 $ posterior: num [1:29, 1:2] 9.98e-01 5.57e-06 9.98e-01 4.97e-02 4.10e-05 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:29] "1" "2" "3" "4" ...
  .. ..$ : chr [1:2] "father" "mother"
 $ x        : num [1:29, 1] -3.327 1.357 -3.327 -0.95 0.854 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:29] "1" "2" "3" "4" ...
  .. ..$ : chr "LD1"</code></pre>
</div>
</div>
<p>The discriminant scores are in the thing called <code>x</code> in there. There is only <code>LD1</code> (only two groups, mothers and fathers), so the right way to plot it is against the true groups, eg. by a boxplot, first making a data frame, using <code>data.frame</code>, containing what you need:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(adhd, adhd<span class="fl">.2</span>)</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["q1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["q2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["q3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["q4"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.father"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.mother"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"father","2":"2","3":"1","4":"3","5":"1","6":"father","7":"9.984540e-01","8":"0.001545972","9":"-3.3265660","_rn_":"1"},{"1":"mother","2":"1","3":"3","4":"1","5":"1","6":"mother","7":"5.573608e-06","8":"0.999994426","9":"1.3573971","_rn_":"2"},{"1":"father","2":"2","3":"1","4":"3","5":"1","6":"father","7":"9.984540e-01","8":"0.001545972","9":"-3.3265660","_rn_":"3"},{"1":"mother","2":"3","3":"2","4":"3","5":"3","6":"mother","7":"4.971864e-02","8":"0.950281356","9":"-0.9500439","_rn_":"4"},{"1":"mother","2":"3","3":"3","4":"2","5":"1","6":"mother","7":"4.102507e-05","8":"0.999958975","9":"0.8538422","_rn_":"5"},{"1":"mother","2":"1","3":"3","4":"3","5":"1","6":"mother","7":"1.820430e-06","8":"0.999998180","9":"1.6396690","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> parent, <span class="at">y =</span> LD1)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/adhd-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The fathers look to be a very compact group with <code>LD1</code> score around <span class="math inline">\(-3\)</span>, so I don’t foresee any problems there. The mothers, on the other hand, have outliers: there is one with <code>LD1</code> score beyond <span class="math inline">\(-3\)</span> that will certainly be mistaken for a father. There are a couple of other unusual <code>LD1</code> scores among the mothers, but a rule like “anything above <span class="math inline">\(-2\)</span> is called a mother, anything below is called a father” will get these two right. So I expect that the one very low mother will get misclassified, but that’s the only one.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li>Obtain the predicted group memberships and make a table of actual vs.&nbsp;predicted. Were there any misclassifications? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>Use the predictions from the previous part, and the observed <code>parent</code> values from the original data frame. Then use either <code>table</code> or <code>tidyverse</code> to summarize.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(d, <span class="fu">table</span>(<span class="at">obs =</span> parent, <span class="at">pred =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        pred
obs      father mother
  father      5      0
  mother      1     23</code></pre>
</div>
</div>
<p>Or,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(parent, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"father","2":"father","3":"5"},{"1":"mother","2":"father","3":"1"},{"1":"mother","2":"mother","3":"23"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>or</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(parent, class) <span class="sc">%&gt;%</span></span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>class, <span class="at">values_from=</span>n, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">n=</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["father"],"name":[2],"type":["int"],"align":["right"]},{"label":["mother"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"father","2":"5","3":"0"},{"1":"mother","2":"1","3":"23"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>One of the mothers got classified as a father (evidently that one with a very negative <code>LD1</code> score), but everything else is correct.</p>
<p>This time, by “explain briefly” I mean something like “tell me how you know there are or are not misclassifications”, or “describe any misclassifications that occur” or something like that.</p>
<p>Extra: I was curious — what is it about that one mother that caused her to get misclassified? (I didn’t ask you to think further about this, but in case you are curious as well.)</p>
<p>First, which mother <em>was</em> it? Let’s begin by adding the predicted classification to the data frame, and then we can query it by asking to see only the rows where the actual parent and the predicted parent were different. I’m also going to create a column <code>id</code> that will give us the row of the <em>original</em> data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(parent <span class="sc">!=</span> class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["q1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["q2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["q3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["q4"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.father"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.mother"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["id"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"mother","2":"1","3":"1","4":"2","5":"1","6":"father","7":"0.9968343","8":"0.003165699","9":"-3.145357","10":"17","_rn_":"17"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>It was the original row 17. So what was unusual about this? We know from earlier that behaviour <code>q2</code> was the one that generally distinguished mothers from fathers, so maybe we should find the mean and SD of scores for mothers and fathers on <code>q2</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>adhd <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(parent) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">m2 =</span> <span class="fu">mean</span>(q2), <span class="at">s2 =</span> <span class="fu">sd</span>(q2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["m2"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["s2"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"father","2":"1.000000","3":"0.0000000"},{"1":"mother","2":"2.791667","3":"0.5089774"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The fathers’ scores on <code>q2</code> were <em>all</em> 1, but the mothers’ scores on <code>q2</code> were on average much higher. So it’s not really a surprise that this mother was mistaken for a father.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li>Re-run the discriminant analysis using cross-validation, and again obtain a table of actual and predicted parents. Is the pattern of misclassification different from before? Hints: (i) Bear in mind that there is no <code>predict</code> step this time, because the cross-validation output includes predictions; (ii) use a different name for the predictions this time because we are going to do a comparison in a moment.</li>
</ol>
<p>Solution</p>
<p>So, this, with different name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>adhd<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(parent <span class="sc">~</span> q1 <span class="sc">+</span> q2 <span class="sc">+</span> q3 <span class="sc">+</span> q4, <span class="at">data =</span> adhd, <span class="at">CV =</span> T)</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">cbind</span>(adhd, <span class="at">class =</span> adhd<span class="fl">.3</span><span class="sc">$</span>class, <span class="at">posterior =</span> adhd<span class="fl">.3</span><span class="sc">$</span>posterior)</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(dd, <span class="fu">table</span>(parent, class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        class
parent   father mother
  father      5      0
  mother      1     23</code></pre>
</div>
</div>
<p>It’s exactly the same pattern of misclassification. (In fact, it’s exactly the same mother being misclassified as a father.)</p>
<p>This one is the same <em>not</em> because of having lots of data. In fact, as you see below, having a small data set makes quite a bit of difference to the posterior probabilities (where they are not close to 1 or 0), but the decisions about whether the parents are a mother or a father are clear-cut enough that none of <em>those</em> change. Even though (some of) the posterior probabilities are noticeably changed, which one is the bigger has not changed at all.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li>Display the original data (that you read in from the data file) side by side with two sets of posterior probabilities: the ones that you obtained with <code>predict</code> before, and the ones from the cross-validated analysis. Comment briefly on whether the two sets of posterior probabilities are similar. Hints: (i) use <code>data.frame</code> rather than <code>cbind</code>, for reasons that I explain elsewhere; (ii) round the posterior probabilities to 3 decimals before you display them. There are only 29 rows, so look at them all. I am going to add the <code>LD1</code> scores to my output and sort by that, but you don’t need to. (This is for something I am going to add later.)</li>
</ol>
<p>Solution</p>
<p>We have two data frames, <code>d</code> and <code>dd</code><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a><br>
that respectively contain everything from the (original) <code>lda</code> output and the cross-validated output. Let’s glue them together, look at what we have, and then pull out what we need:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>all <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(d, dd)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(all)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["q1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["q2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["q3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["q4"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.father"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.mother"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["parent.1"],"name":[10],"type":["chr"],"align":["left"]},{"label":["q1.1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["q2.1"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["q3.1"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["q4.1"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["class.1"],"name":[15],"type":["fct"],"align":["left"]},{"label":["posterior.father.1"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["posterior.mother.1"],"name":[17],"type":["dbl"],"align":["right"]}],"data":[{"1":"father","2":"2","3":"1","4":"3","5":"1","6":"father","7":"9.984540e-01","8":"0.001545972","9":"-3.3265660","10":"father","11":"2","12":"1","13":"3","14":"1","15":"father","16":"9.958418e-01","17":"0.004158233","_rn_":"1"},{"1":"mother","2":"1","3":"3","4":"1","5":"1","6":"mother","7":"5.573608e-06","8":"0.999994426","9":"1.3573971","10":"mother","11":"1","12":"3","13":"1","14":"1","15":"mother","16":"5.036602e-06","17":"0.999994963","_rn_":"2"},{"1":"father","2":"2","3":"1","4":"3","5":"1","6":"father","7":"9.984540e-01","8":"0.001545972","9":"-3.3265660","10":"father","11":"2","12":"1","13":"3","14":"1","15":"father","16":"9.958418e-01","17":"0.004158233","_rn_":"3"},{"1":"mother","2":"3","3":"2","4":"3","5":"3","6":"mother","7":"4.971864e-02","8":"0.950281356","9":"-0.9500439","10":"mother","11":"3","12":"2","13":"3","14":"3","15":"mother","16":"2.359247e-01","17":"0.764075258","_rn_":"4"},{"1":"mother","2":"3","3":"3","4":"2","5":"1","6":"mother","7":"4.102507e-05","8":"0.999958975","9":"0.8538422","10":"mother","11":"3","12":"3","13":"2","14":"1","15":"mother","16":"5.702541e-05","17":"0.999942975","_rn_":"5"},{"1":"mother","2":"1","3":"3","4":"3","5":"1","6":"mother","7":"1.820430e-06","8":"0.999998180","9":"1.6396690","10":"mother","11":"1","12":"3","13":"3","14":"1","15":"mother","16":"8.430421e-07","17":"0.999999157","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The ones with a 1 on the end are the cross-validated ones. We need the posterior probabilities, rounded, and they need to have shorter names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>all <span class="sc">%&gt;%</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(parent, <span class="fu">starts_with</span>(<span class="st">"posterior"</span>), LD1) <span class="sc">%&gt;%</span></span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), \(x) <span class="fu">round</span>(x, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> <span class="fu">str_replace</span>(., <span class="st">"posterior"</span>, <span class="st">"p"</span>),</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"posterior"</span>),</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(LD1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["parent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["p.father"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p.mother"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p.father.1"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.mother.1"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"father","2":"0.999","3":"0.001","4":"0.999","5":"0.001","6":"-3.6088379","_rn_":"19"},{"1":"father","2":"0.998","3":"0.002","4":"0.996","5":"0.004","6":"-3.3265660","_rn_":"1"},{"1":"father","2":"0.998","3":"0.002","4":"0.996","5":"0.004","6":"-3.3265660","_rn_":"3"},{"1":"father","2":"0.998","3":"0.002","4":"0.994","5":"0.006","6":"-3.2319152","_rn_":"27"},{"1":"mother","2":"0.997","3":"0.003","4":"1.000","5":"0.000","6":"-3.1453565","_rn_":"17"},{"1":"father","2":"0.992","3":"0.008","4":"0.958","5":"0.042","6":"-2.9095698","_rn_":"16"},{"1":"mother","2":"0.050","3":"0.950","4":"0.236","5":"0.764","6":"-0.9500439","_rn_":"4"},{"1":"mother","2":"0.043","3":"0.957","4":"0.107","5":"0.893","6":"-0.9099704","_rn_":"23"},{"1":"mother","2":"0.015","3":"0.985","4":"0.030","5":"0.970","6":"-0.6349504","_rn_":"13"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.7127063","_rn_":"7"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.7127063","_rn_":"20"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.7127063","_rn_":"21"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.8538422","_rn_":"5"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.8538422","_rn_":"14"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.9011676","_rn_":"12"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.9949782","_rn_":"15"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.9949782","_rn_":"18"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.9949782","_rn_":"22"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"0.9949782","_rn_":"28"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.0350517","_rn_":"8"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.0350517","_rn_":"29"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.2307649","_rn_":"11"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.2307649","_rn_":"24"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.2307649","_rn_":"25"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.3573971","_rn_":"2"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.3719009","_rn_":"10"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.5458584","_rn_":"26"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.6396690","_rn_":"6"},{"1":"mother","2":"0.000","3":"1.000","4":"0.000","5":"1.000","6":"1.6396690","_rn_":"9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The <code>rename_with</code> changes the names of the columns that start with <code>posterior</code> to start with <code>p</code> instead (shorter). I learned about this today (having wondered whether it existed or not), and it took about three goes for me to get it right.<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> The first column is the actual parent; the other five columns are: the posterior probabilities from before, for father and for mother (two columns), and the posterior probabilities from cross-validation for father and for mother (two more columns), and the LD1 scores from before, sorted into order. You might have these the other way around from me, but in any case you ought to make it clear which is which. I included the <code>LD1</code> scores for my discussion below; you don’t need to. Are the two sets of posterior probabilities similar? Only kinda. The ones at the top and bottom of the list are without doubt respectively fathers at the top of the list (top 5 rows on my sorted output, except that one of those is actually a mother), or mothers at the bottom, from row 10 down. But for rows 6 through 9, the posterior probabilities are not that similar. The most dissimilar ones are in row 4, where the regular <code>lda</code> gives a posterior probability of 0.050 that the parent is a father, but under cross-validation that goes all the way up to 0.236. I think this is one of those mothers that is a bit like a father: her score on <code>q2</code> was only 2, compared to 3 for most of the mothers. If you take out this mother, as cross-validation does, there are noticeably fewer <code>q2=2</code> mothers left, so the observation looks more like a father than it would otherwise.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="8" type="a">
<li>Row 17 of your (original) data frame above, row 5 of the output in the previous part, is the mother that was misclassified as a father. Why is it that the cross-validated posterior probabilities are 1 and 0, while the previous posterior probabilities are a bit less than 1 and a bit more than 0?</li>
</ol>
<p>Solution</p>
<p>In making the classification, the non-cross-validated procedure uses all the data, so that parent #17 suggests that the mothers are very variable on <code>q2</code>, so it is conceivable (though still unlikely) that this parent actually is a mother. Under cross-validation, however, parent #17 is <em>omitted</em>. This mother is nothing like any of the other mothers, or, to put it another way, the remaining mothers as a group are very far away from this one, so #17 doesn’t look like a mother <em>at all</em>.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol type="i">
<li>Find the parents where the cross-validated posterior probability of being a father is “non-trivial”: that is, not close to zero and not close to 1. (You will have to make a judgement about what “close to zero or 1” means for you.) What do these parents have in common, all of them or most of them?</li>
</ol>
<p>Solution</p>
<p>Let’s add something to the output we had before: the original scores on <code>q1</code> through <code>q4</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>all <span class="sc">%&gt;%</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(q1<span class="sc">:</span>q4, parent, <span class="fu">starts_with</span>(<span class="st">"posterior"</span>), LD1) <span class="sc">%&gt;%</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), \(x) <span class="fu">round</span>(x, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>    \(y) <span class="fu">str_replace</span>(y, <span class="st">"posterior"</span>, <span class="st">"p"</span>),</span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"posterior"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(LD1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["q1"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["q2"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["q3"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["q4"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["parent"],"name":[5],"type":["chr"],"align":["left"]},{"label":["p.father"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["p.mother"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["p.father.1"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["p.mother.1"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[10],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"1","3":"1","4":"1","5":"father","6":"0.999","7":"0.001","8":"0.999","9":"0.001","10":"-3.6088379","_rn_":"19"},{"1":"2","2":"1","3":"3","4":"1","5":"father","6":"0.998","7":"0.002","8":"0.996","9":"0.004","10":"-3.3265660","_rn_":"1"},{"1":"2","2":"1","3":"3","4":"1","5":"father","6":"0.998","7":"0.002","8":"0.996","9":"0.004","10":"-3.3265660","_rn_":"3"},{"1":"2","2":"1","3":"1","4":"3","5":"father","6":"0.998","7":"0.002","8":"0.994","9":"0.006","10":"-3.2319152","_rn_":"27"},{"1":"1","2":"1","3":"2","4":"1","5":"mother","6":"0.997","7":"0.003","8":"1.000","9":"0.000","10":"-3.1453565","_rn_":"17"},{"1":"1","2":"1","3":"1","4":"3","5":"father","6":"0.992","7":"0.008","8":"0.958","9":"0.042","10":"-2.9095698","_rn_":"16"},{"1":"3","2":"2","3":"3","4":"3","5":"mother","6":"0.050","7":"0.950","8":"0.236","9":"0.764","10":"-0.9500439","_rn_":"4"},{"1":"2","2":"2","3":"1","4":"3","5":"mother","6":"0.043","7":"0.957","8":"0.107","9":"0.893","10":"-0.9099704","_rn_":"23"},{"1":"1","2":"2","3":"2","4":"2","5":"mother","6":"0.015","7":"0.985","8":"0.030","9":"0.970","10":"-0.6349504","_rn_":"13"},{"1":"3","2":"3","3":"1","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.7127063","_rn_":"7"},{"1":"3","2":"3","3":"1","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.7127063","_rn_":"20"},{"1":"3","2":"3","3":"1","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.7127063","_rn_":"21"},{"1":"3","2":"3","3":"2","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.8538422","_rn_":"5"},{"1":"3","2":"3","3":"2","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.8538422","_rn_":"14"},{"1":"3","2":"3","3":"1","4":"2","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.9011676","_rn_":"12"},{"1":"3","2":"3","3":"3","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.9949782","_rn_":"15"},{"1":"3","2":"3","3":"3","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.9949782","_rn_":"18"},{"1":"3","2":"3","3":"3","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.9949782","_rn_":"22"},{"1":"3","2":"3","3":"3","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"0.9949782","_rn_":"28"},{"1":"2","2":"3","3":"1","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.0350517","_rn_":"8"},{"1":"2","2":"3","3":"1","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.0350517","_rn_":"29"},{"1":"3","2":"3","3":"2","4":"3","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.2307649","_rn_":"11"},{"1":"3","2":"3","3":"2","4":"3","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.2307649","_rn_":"24"},{"1":"3","2":"3","3":"2","4":"3","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.2307649","_rn_":"25"},{"1":"1","2":"3","3":"1","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.3573971","_rn_":"2"},{"1":"3","2":"3","3":"3","4":"3","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.3719009","_rn_":"10"},{"1":"1","2":"3","3":"1","4":"2","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.5458584","_rn_":"26"},{"1":"1","2":"3","3":"3","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.6396690","_rn_":"6"},{"1":"1","2":"3","3":"3","4":"1","5":"mother","6":"0.000","7":"1.000","8":"0.000","9":"1.000","10":"1.6396690","_rn_":"9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>To my mind, the “non-trivial” posterior probabilities are in rows 5 through 9. (You might have drawn the line in a different place.) These are the ones where there was some doubt, though maybe only a little, about which parent actually gave the ratings. For three of these, the parent (that was actually a mother) gave a rating of 2 on <code>q2</code>. These were the only 2’s on <code>q2</code>. The others were easy to call: “mother” if 3 and “father” if 1, and you’d get them all right except for that outlying mother. The clue in looking at <code>q2</code> was that we found earlier that <code>LD1</code> contained mostly <code>q2</code>, so that it was mainly <code>q2</code> that separated the fathers and mothers. If you found something else that the “non-trivial” rows had in common, that is good too, but I think looking at <code>q2</code> is your quickest route to an answer. (<code>q1=1</code> picks out some of these, but not all of them.) This is really the same kind of issue as we discussed when comparing the posterior probabilities for <code>lda</code> and cross-validation above: there were only a few parents with <code>q2=2</code>, so the effect there is that under cross-validation, there are even fewer when you take one of them out.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
</section>
<section id="growing-corn-1" class="level2" data-number="35.13">
<h2 data-number="35.13" class="anchored" data-anchor-id="growing-corn-1"><span class="header-section-number">35.13</span> Growing corn</h2>
<p>A new type of corn seed has been developed. The people developing it want to know if the type of soil the seed is planted in has an impact on how well the seed performs, and if so, what kind of impact. Three outcome measures were used: the yield of corn produced (from a fixed amount of seed), the amount of water needed, and the amount of herbicide needed. The data are in <a href="http://ritsokiguess.site/datafiles/cornseed.csv">link</a>. 32 fields were planted with the seed, 8 fields with each soil type.</p>
<ol type="a">
<li>Read in the data and verify that you have 32 observations with the correct variables.</li>
</ol>
<p>Solution</p>
<p>The usual:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/nxskok/datafiles/master/cornseed.csv"</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>cornseed <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 32 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): soil
dbl (4): field, yield, water, herbicide

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>cornseed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["field"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["soil"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yield"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["water"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["herbicide"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"loam","3":"76.7","4":"29.5","5":"7.5"},{"1":"2","2":"loam","3":"60.5","4":"32.1","5":"6.3"},{"1":"3","2":"loam","3":"96.1","4":"40.7","5":"4.2"},{"1":"4","2":"loam","3":"88.1","4":"45.1","5":"4.9"},{"1":"5","2":"loam","3":"50.2","4":"34.1","5":"11.7"},{"1":"6","2":"loam","3":"55.0","4":"31.1","5":"6.9"},{"1":"7","2":"loam","3":"65.4","4":"21.6","5":"4.3"},{"1":"8","2":"loam","3":"65.7","4":"27.7","5":"5.3"},{"1":"9","2":"sandy","3":"67.3","4":"48.3","5":"5.5"},{"1":"10","2":"sandy","3":"61.3","4":"28.9","5":"6.9"},{"1":"11","2":"sandy","3":"58.2","4":"42.5","5":"4.8"},{"1":"12","2":"sandy","3":"76.9","4":"20.4","5":"3.0"},{"1":"13","2":"sandy","3":"66.9","4":"23.9","5":"1.1"},{"1":"14","2":"sandy","3":"55.4","4":"29.1","5":"5.0"},{"1":"15","2":"sandy","3":"50.5","4":"18.0","5":"4.8"},{"1":"16","2":"sandy","3":"64.1","4":"14.5","5":"3.7"},{"1":"17","2":"salty","3":"62.8","4":"25.9","5":"2.9"},{"1":"18","2":"salty","3":"45.0","4":"15.9","5":"1.2"},{"1":"19","2":"salty","3":"47.8","4":"36.1","5":"4.1"},{"1":"20","2":"salty","3":"75.6","4":"27.7","5":"6.3"},{"1":"21","2":"salty","3":"46.6","4":"46.9","5":"3.6"},{"1":"22","2":"salty","3":"50.6","4":"29.7","5":"4.7"},{"1":"23","2":"salty","3":"45.7","4":"27.6","5":"6.2"},{"1":"24","2":"salty","3":"68.4","4":"35.3","5":"1.9"},{"1":"25","2":"clay","3":"52.5","4":"39.0","5":"3.1"},{"1":"26","2":"clay","3":"80.0","4":"54.2","5":"4.0"},{"1":"27","2":"clay","3":"54.7","4":"32.1","5":"5.7"},{"1":"28","2":"clay","3":"63.5","4":"25.6","5":"3.0"},{"1":"29","2":"clay","3":"46.3","4":"31.8","5":"7.4"},{"1":"30","2":"clay","3":"61.5","4":"16.8","5":"1.9"},{"1":"31","2":"clay","3":"62.9","4":"25.8","5":"2.4"},{"1":"32","2":"clay","3":"49.3","4":"39.4","5":"5.2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>We have 32 rows; we have a categorical soil type, three numerical columns containing the yield, water and herbicide values, and we also have a label for each of the 32 fields (which is actually a number, but we don’t have to worry about that, since we won’t be using <code>field</code> for anything).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>Run a multivariate analysis of variance to see whether the type of soil has any effect on any of the variables. What do you conclude from it?</li>
</ol>
<p>Solution</p>
<p>The usual thing: create the response, use <code>manova</code> (or <code>Manova</code> from <code>car</code> if you like, but it’s not necessary):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">with</span>(cornseed, <span class="fu">cbind</span>(yield, water, herbicide))</span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>cornseed<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">manova</span>(response <span class="sc">~</span> soil, <span class="at">data =</span> cornseed)</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cornseed<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Df Pillai approx F num Df den Df  Pr(&gt;F)  
soil       3 0.5345   2.0234      9     84 0.04641 *
Residuals 28                                        
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>With a P-value (just) less than 0.05, soil type has some effect on the response variables: that is, it affects one or more of the three responses, or some combination of them. ANOVA conclusions are usually vague, and MANOVA conclusions are vaguer than most. We will try to improve on this. But with an only-just-significant P-value, we should not be expecting miracles.</p>
<p>We ought to check Box’s M test:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">BoxM</span>(response, cornseed<span class="sc">$</span>soil))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Box's M Test 

Chi-Squared Value = 12.07432 , df = 18  and p-value: 0.843 </code></pre>
</div>
</div>
<p>No problems with unequal variances or correlations, at least.</p>
<p>Here and below, <code>field</code> is neither a response variable nor an explanatory variable; it is an experimental unit, so <code>field</code> acts as an ID rather than anything else. So <code>field</code> should not be part of any of the analyses; if it did appear, the only way it could is as a factor, for example if this was somehow a repeated measures analysis over the three response variables. In that case, <code>lmer</code>, if you were going that way, would use <code>field</code> as a random effect.</p>
<p>The variables to include are the yield, water and herbicide as measured response variables, and soil type, as the categorical explanatory variable. (For the discriminant analysis, these get turned around: the grouping variable <code>soil</code> acts like a response and the others act as explanatory.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li>Run a discriminant analysis on these data, “predicting” soil type from the three response variables. Display the results.</li>
</ol>
<p>Solution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>cornseed<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(soil <span class="sc">~</span> yield <span class="sc">+</span> water <span class="sc">+</span> herbicide, <span class="at">data =</span> cornseed)</span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>cornseed<span class="fl">.2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(soil ~ yield + water + herbicide, data = cornseed)

Prior probabilities of groups:
 clay  loam salty sandy 
 0.25  0.25  0.25  0.25 

Group means:
        yield   water herbicide
clay  58.8375 33.0875    4.0875
loam  69.7125 32.7375    6.3875
salty 55.3125 30.6375    3.8625
sandy 62.5750 28.2000    4.3500

Coefficients of linear discriminants:
                  LD1         LD2         LD3
yield     -0.08074845 -0.02081174 -0.04822432
water      0.03759961  0.09598577 -0.03231897
herbicide -0.50654017  0.06979662  0.27281743

Proportion of trace:
   LD1    LD2    LD3 
0.9487 0.0456 0.0057 </code></pre>
</div>
</div>
<p>No <code>field</code> in here, for reasons discussed above. (I’m not even sure how you <em>can</em> run a discriminant analysis with a factor variable on the right of the squiggle.) The fields were numbered by soil type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>cornseed <span class="sc">%&gt;%</span> <span class="fu">select</span>(field, soil)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["field"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["soil"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"loam"},{"1":"2","2":"loam"},{"1":"3","2":"loam"},{"1":"4","2":"loam"},{"1":"5","2":"loam"},{"1":"6","2":"loam"},{"1":"7","2":"loam"},{"1":"8","2":"loam"},{"1":"9","2":"sandy"},{"1":"10","2":"sandy"},{"1":"11","2":"sandy"},{"1":"12","2":"sandy"},{"1":"13","2":"sandy"},{"1":"14","2":"sandy"},{"1":"15","2":"sandy"},{"1":"16","2":"sandy"},{"1":"17","2":"salty"},{"1":"18","2":"salty"},{"1":"19","2":"salty"},{"1":"20","2":"salty"},{"1":"21","2":"salty"},{"1":"22","2":"salty"},{"1":"23","2":"salty"},{"1":"24","2":"salty"},{"1":"25","2":"clay"},{"1":"26","2":"clay"},{"1":"27","2":"clay"},{"1":"28","2":"clay"},{"1":"29","2":"clay"},{"1":"30","2":"clay"},{"1":"31","2":"clay"},{"1":"32","2":"clay"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>so evidently if you know the field number you can guess the field type, but we didn’t care about that: we cared about whether you can distinguish the fields by yield, water, herbicide or combination thereof.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li><a name="part:corn-svd">*</a> Which linear discriminants seem to be worth paying attention to? Why did you get three linear discriminants? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>Look for “proportion of trace” in the output.</p>
<p>The first one is <em>way</em> bigger than the others, which says that the first linear discriminant is way more important (at separating the groups) than either of the other two.</p>
<p>As to why we got three: there are 3 variables and 4 groups (soil types), and the smaller of 3 and <span class="math inline">\(4-1\)</span> is 3.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li>Which response variables do the important linear discriminants depend on? Answer this by extracting something from your discriminant analysis output.</li>
</ol>
<p>Solution</p>
<p>The table “coefficients of linear discriminants”. We said earlier that the only important discriminant is <code>LD1</code>. On that, the only notably non-zero coefficient is for <code>herbicide</code>; the ones for <code>yield</code> and <code>water</code> are close to zero. That is to say, the effects of the soil types play out through herbicide and not either of the other two variables.</p>
<p>I didn’t ask you to, but you could check this by seeing how <code>herbicide</code> differs according to soil type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cornseed, <span class="fu">aes</span>(<span class="at">x =</span> soil, <span class="at">y =</span> herbicide)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/cornseed-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The fields in <code>loam</code> soil needed more herbicide than the others.</p>
<p>Or by <code>water</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cornseed, <span class="fu">aes</span>(<span class="at">x =</span> soil, <span class="at">y =</span> water)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/cornseed-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There isn’t much difference in the amount of water needed between any of the fields, no matter what soil type.</p>
<p>This confirms that <code>water</code> is not distinguished by soil type, while <code>herbicide</code> is (at least to some extent).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li>Obtain predictions for the discriminant analysis. (You don’t need to do anything with them yet.)</li>
</ol>
<p>Solution</p>
<p>Just this, therefore:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>cornseed.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(cornseed<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li>Plot the first two discriminant scores against each other, coloured by soil type. You’ll have to start by making a data frame containing what you need.</li>
</ol>
<p>Solution</p>
<p>I changed my mind from the past about how to do this. I make a big data frame out of the data and predictions (with <code>cbind</code>) and go from there:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(cornseed, cornseed.pred)</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["field"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["soil"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yield"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["water"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["herbicide"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.clay"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.loam"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.salty"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.sandy"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["x.LD3"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"loam","3":"76.7","4":"29.5","5":"7.5","6":"loam","7":"0.008122562","8":"0.9303136","9":"0.003067182","10":"0.05849665","11":"-2.7137304","12":"-0.2765450","13":"0.09765792","_rn_":"1"},{"1":"2","2":"loam","3":"60.5","4":"32.1","5":"6.3","6":"loam","7":"0.195608997","8":"0.3536733","9":"0.134234919","10":"0.31648283","11":"-0.6999983","12":"0.2264123","13":"0.46748170","_rn_":"2"},{"1":"3","2":"loam","3":"96.1","4":"40.7","5":"4.2","6":"loam","7":"0.029529543","8":"0.8533003","9":"0.008018680","10":"0.10915147","11":"-2.1875521","12":"0.1644190","13":"-2.10016387","_rn_":"3"},{"1":"4","2":"loam","3":"88.1","4":"45.1","5":"4.9","6":"loam","7":"0.069082256","8":"0.7696194","9":"0.020907569","10":"0.14039076","11":"-1.7307043","12":"0.8021079","13":"-1.66560056","_rn_":"4"},{"1":"5","2":"loam","3":"50.2","4":"34.1","5":"11.7","6":"loam","7":"0.010588934","8":"0.9457005","9":"0.005163698","10":"0.03854692","11":"-2.5284069","12":"1.0096466","13":"2.37276838","_rn_":"5"},{"1":"6","2":"loam","3":"55.0","4":"31.1","5":"6.9","6":"loam","7":"0.208208691","8":"0.3194421","9":"0.159072574","10":"0.31327660","11":"-0.5974055","12":"0.2867691","13":"0.92872489","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Then we use this as input to <code>ggplot</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">colour =</span> soil)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/cornseed-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="8" type="a">
<li>On your plot that you just made, explain briefly how <code>LD1</code> distinguishes at least one of the soil types.</li>
</ol>
<p>Solution</p>
<p>Find a soil type that is typically high (or low or average) on LD1. Any one or more of these will do: loam soils are typically high on LD1, clay soils or salty soils are typically low on LD1; sandy soils are typically average on LD1. (There are exceptions, but I’m looking for “typically”.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol type="i">
<li>On your plot, does <code>LD2</code> appear to do anything to separate the groups? Is this surprising given your earlier findings? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>All the soil groups appear go to about the full height of the plot: that is to say, none of the groups appear to be especially at the top or the bottom. That means that <code>LD2</code> does not separate the groups at all.</p>
<p>Back in part (<a href="#part:corn-svd">here</a>), we said that the first linear discriminant is way more important than either of the other two, and here we see what that means: <code>LD2</code> does nothing to separate the groups. So it’s not a surprising finding at all.</p>
<p>I thought earlier about asking you to plot only the first linear discriminant, and now we see why: only the first one separates the groups. If you wanted to do that, you could make a boxplot of the discriminant scores by <code>soil</code> group, thus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> soil, <span class="at">y =</span> x.LD1)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/cornseed-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This says more or less the same thing as your plot of <code>LD1</code> and <code>LD2</code>: <code>loam</code> has the highest <code>LD1</code> score, <code>sandy</code> is about in the middle, and <code>clay</code> and <code>salty</code> have typically negative <code>LD1</code> scores, similar to each other, though there is one outlying <code>salty</code> that looks a lot more like a <code>loam</code>.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="10" type="a">
<li>Make a table of actual and predicted <code>soil</code> group. Which soil type was classified correctly the most often?</li>
</ol>
<p>Solution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(d, <span class="fu">table</span>(<span class="at">obs =</span> soil, <span class="at">pred =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       pred
obs     clay loam salty sandy
  clay     3    0     3     2
  loam     0    6     0     2
  salty    1    1     5     1
  sandy    2    1     1     4</code></pre>
</div>
</div>
<p>Or, the <code>tidyverse</code> way, which is below.</p>
<p>There were 8 fields of each soil type. The soil type that has the most of its fields classified correctly (based on the values of the response variables) has the biggest number down the diagonal of the table: looking at 3, 6, 5 and 4, we see that the <code>loam</code> soil type had the most of its fields classified correctly, so this was the most distinct from the others. (We also saw this on the plot of <code>LD1</code> vs.&nbsp;<code>LD2</code>: the <code>loam</code> fields were all over on the right.)</p>
<p>This was easier because we had the same number of fields of each type. If we didn’t have that, the right way to go then would be to work out <em>row</em> percentages: “out of the fields that were actually sandy, what percent of them got classified as sandy”, and so on.</p>
<p>This is not a perfect classification, though, which is about what you would expect from the soil types being intermingled on the plot of <code>LD1</code> vs.&nbsp;<code>LD2</code>. If you look at the table, <code>salty</code> and <code>sandy</code> are fairly distinct also, but <code>clay</code> is often confused with both of them. On the plot of <code>LD1</code> and <code>LD2</code>, <code>salty</code> is generally to the left of <code>sandy</code>, but <code>clay</code> is mixed up with them both. The tidyverse way of doing this is equally good. This is the tidied-up way:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(soil, class) <span class="sc">%&gt;%</span> </span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> class, <span class="at">values_from =</span> n, <span class="at">values_fill =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["soil"],"name":[1],"type":["chr"],"align":["left"]},{"label":["clay"],"name":[2],"type":["int"],"align":["right"]},{"label":["salty"],"name":[3],"type":["int"],"align":["right"]},{"label":["sandy"],"name":[4],"type":["int"],"align":["right"]},{"label":["loam"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"clay","2":"3","3":"3","4":"2","5":"0"},{"1":"loam","2":"0","3":"0","4":"2","5":"6"},{"1":"salty","2":"1","3":"5","4":"1","5":"1"},{"1":"sandy","2":"2","3":"1","4":"4","5":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Six out of eight <code>loam</code>s were correctly classified, which is better than anything else.</p>
<p>Extra: we can calculate misclassification rates, first overall, which is easier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil, class) <span class="sc">%&gt;%</span></span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">soil_stat =</span> <span class="fu">ifelse</span>(soil <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil_stat, <span class="at">wt =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["soil_stat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"correct","2":"18"},{"1":"wrong","2":"14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil, class) <span class="sc">%&gt;%</span></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">soil_stat =</span> <span class="fu">ifelse</span>(soil <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil_stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb185-5"><a href="#cb185-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> nn <span class="sc">/</span> <span class="fu">sum</span>(nn))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `mutate()`:
ℹ In argument: `prop = nn/sum(nn)`.
Caused by error:
! object 'nn' not found</code></pre>
</div>
</div>
<p>Note the use of <code>wt</code> on the second <code>count</code> to count the number of <em>observations</em> from the first <code>count</code>, not the number of <em>rows</em>.</p>
<p>This shows that 44% of the soil types were misclassified, which sounds awful, but is actually not so bad, considering. Bear in mind that if you were just guessing, you’d get 75% of them wrong, so getting 44% wrong is quite a bit better than that. The variables (especially <code>herbicide</code>) are at least somewhat informative about soil type; it’s better to know them than not to.</p>
<p>Or do it by actual soil type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil, class) <span class="sc">%&gt;%</span></span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(soil) <span class="sc">%&gt;%</span></span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">soil_stat =</span> <span class="fu">ifelse</span>(soil <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil_stat, <span class="at">wt =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["soil"],"name":[1],"type":["chr"],"align":["left"]},{"label":["soil_stat"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"clay","2":"correct","3":"3"},{"1":"clay","2":"wrong","3":"5"},{"1":"loam","2":"correct","3":"6"},{"1":"loam","2":"wrong","3":"2"},{"1":"salty","2":"correct","3":"5"},{"1":"salty","2":"wrong","3":"3"},{"1":"sandy","2":"correct","3":"4"},{"1":"sandy","2":"wrong","3":"4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil, class) <span class="sc">%&gt;%</span></span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(soil) <span class="sc">%&gt;%</span></span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">soil_stat =</span> <span class="fu">ifelse</span>(soil <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(soil_stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb188-7"><a href="#cb188-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb188-8"><a href="#cb188-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>soil_stat, <span class="at">values_from=</span>prop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["soil"],"name":[1],"type":["chr"],"align":["left"]},{"label":["correct"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["wrong"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"clay","2":"0.375","3":"0.625"},{"1":"loam","2":"0.750","3":"0.250"},{"1":"salty","2":"0.625","3":"0.375"},{"1":"sandy","2":"0.500","3":"0.500"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Loam soil was the easiest to get right, and clay was easiest to get wrong. However, these proportions were each based on only eight observations, so it’s probably wise <em>not</em> to say that loam is <em>always</em> easiest to get right.</p>
<p>I didn’t have you look at posterior probabilities here.<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> With 32 fields, this is rather a lot to list them all, but what we can do is to look at the ones that were misclassified (the true soil type differs from the predicted soil type). Before that, though, we need to make a data frame with the stuff in it that we want to look at. And before <em>that</em>, I want to round the posterior probabilities to a small number of decimals.</p>
<p>Then, we can fire away with this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"posterior"</span>), </span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>                \(post) <span class="fu">round</span>(post, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="ot">-&gt;</span> dd</span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span> <span class="fu">filter</span>(soil <span class="sc">!=</span> class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["field"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["soil"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yield"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["water"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["herbicide"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[6],"type":["fct"],"align":["left"]},{"label":["posterior.clay"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.loam"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.salty"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["posterior.sandy"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["x.LD3"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["row"],"name":[14],"type":["int"],"align":["right"]}],"data":[{"1":"7","2":"loam","3":"65.4","4":"21.6","5":"4.3","6":"sandy","7":"0.174","8":"0.214","9":"0.147","10":"0.465","11":"-0.4773813","12":"-1.02300901","13":"0.02489683","14":"7","_rn_":"7"},{"1":"8","2":"loam","3":"65.7","4":"27.7","5":"5.3","6":"sandy","7":"0.163","8":"0.352","9":"0.113","10":"0.373","11":"-0.7787883","12":"-0.37394272","13":"0.08610126","14":"8","_rn_":"8"},{"1":"9","2":"sandy","3":"67.3","4":"48.3","5":"5.5","6":"clay","7":"0.384","8":"0.206","9":"0.195","10":"0.215","11":"-0.2347419","12":"1.58402466","13":"-0.60226491","14":"9","_rn_":"9"},{"1":"10","2":"sandy","3":"61.3","4":"28.9","5":"6.9","6":"loam","7":"0.106","8":"0.553","9":"0.069","10":"0.272","11":"-1.1888399","12":"-0.05551354","13":"0.69601339","14":"10","_rn_":"10"},{"1":"11","2":"sandy","3":"58.2","4":"42.5","5":"4.8","6":"clay","7":"0.436","8":"0.043","9":"0.339","10":"0.182","11":"0.6365694","12":"1.16783644","13":"-0.16694577","14":"11","_rn_":"11"},{"1":"13","2":"sandy","3":"66.9","4":"23.9","5":"1.1","6":"salty","7":"0.317","8":"0.013","9":"0.362","10":"0.307","11":"1.1089037","12":"-1.05680853","13":"-0.99478905","14":"13","_rn_":"13"},{"1":"17","2":"salty","3":"62.8","4":"25.9","5":"2.9","6":"sandy","7":"0.308","8":"0.038","9":"0.315","10":"0.340","11":"0.6033993","12":"-0.65387493","13":"-0.37063590","14":"17","_rn_":"17"},{"1":"20","2":"salty","3":"75.6","4":"27.7","5":"6.3","6":"loam","7":"0.026","8":"0.819","9":"0.012","10":"0.143","11":"-2.0847382","12":"-0.51018238","13":"-0.11850210","14":"20","_rn_":"20"},{"1":"24","2":"salty","3":"68.4","4":"35.3","5":"1.9","6":"clay","7":"0.403","8":"0.018","9":"0.351","10":"0.227","11":"1.0111845","12":"0.06204891","13":"-1.21730783","14":"24","_rn_":"24"},{"1":"25","2":"clay","3":"52.5","4":"39.0","5":"3.1","6":"salty","7":"0.414","8":"0.004","9":"0.484","10":"0.098","11":"1.8263552","12":"0.83185894","13":"-0.24274038","14":"25","_rn_":"25"},{"1":"28","2":"clay","3":"63.5","4":"25.6","5":"3.0","6":"sandy","7":"0.298","8":"0.047","9":"0.295","10":"0.360","11":"0.4849415","12":"-0.69025922","13":"-0.36741549","14":"28","_rn_":"28"},{"1":"30","2":"clay","3":"61.5","4":"16.8","5":"1.9","6":"sandy","7":"0.255","8":"0.020","9":"0.338","10":"0.388","11":"0.8727560","12":"-1.57008678","13":"-0.28665910","14":"30","_rn_":"30"},{"1":"31","2":"clay","3":"62.9","4":"25.8","5":"2.4","6":"salty","7":"0.320","8":"0.024","9":"0.346","10":"0.310","11":"0.8448346","12":"-0.70045299","13":"-0.50863515","14":"31","_rn_":"31"},{"1":"32","2":"clay","3":"49.3","4":"39.4","5":"5.2","6":"salty","7":"0.416","8":"0.019","9":"0.418","10":"0.146","11":"1.0360558","12":"1.08342373","13":"0.47156646","14":"32","_rn_":"32"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Most of the posterior probabilities are neither especially small nor especially large, which adds to the impression that things are really rather uncertain. For example, field 8 could have been either loam (0.352) or sandy (0.373). There was one field that was actually salty but looked like a loam one (with <code>LD1</code> score around 2); this is field 20, that needed a lot of herbicide; it was rated to have an 82% chance of being loam and only 1% chance of salty.</p>
<p>Let’s remind ourselves of why we were doing this: the MANOVA was significant, so at least some of the fields were different on some of the variables from some of the others. What we found by doing the discriminant analysis was that only the first discriminant was of any value in distinguishing the soil types by the variables we measured, and <em>that</em> was mostly <code>herbicide</code>. So the major effect that soil type had was on the amount of herbicide needed, with the loam soils needing most.</p>
<p>I wanted to finish with one more thing, which was to look again at the soils that were actually loam:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(soil <span class="sc">==</span> <span class="st">"loam"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(soil, yield, water, herbicide, class, <span class="fu">starts_with</span>(<span class="st">"posterior"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["soil"],"name":[1],"type":["chr"],"align":["left"]},{"label":["yield"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["water"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["herbicide"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[5],"type":["fct"],"align":["left"]},{"label":["posterior.clay"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["posterior.loam"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["posterior.salty"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["posterior.sandy"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"loam","2":"76.7","3":"29.5","4":"7.5","5":"loam","6":"0.008","7":"0.930","8":"0.003","9":"0.058","_rn_":"1"},{"1":"loam","2":"60.5","3":"32.1","4":"6.3","5":"loam","6":"0.196","7":"0.354","8":"0.134","9":"0.316","_rn_":"2"},{"1":"loam","2":"96.1","3":"40.7","4":"4.2","5":"loam","6":"0.030","7":"0.853","8":"0.008","9":"0.109","_rn_":"3"},{"1":"loam","2":"88.1","3":"45.1","4":"4.9","5":"loam","6":"0.069","7":"0.770","8":"0.021","9":"0.140","_rn_":"4"},{"1":"loam","2":"50.2","3":"34.1","4":"11.7","5":"loam","6":"0.011","7":"0.946","8":"0.005","9":"0.039","_rn_":"5"},{"1":"loam","2":"55.0","3":"31.1","4":"6.9","5":"loam","6":"0.208","7":"0.319","8":"0.159","9":"0.313","_rn_":"6"},{"1":"loam","2":"65.4","3":"21.6","4":"4.3","5":"sandy","6":"0.174","7":"0.214","8":"0.147","9":"0.465","_rn_":"7"},{"1":"loam","2":"65.7","3":"27.7","4":"5.3","5":"sandy","6":"0.163","7":"0.352","8":"0.113","9":"0.373","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Fields 7 and 8 could have been pretty much any type of soil; <code>sandy</code> came out with the highest posterior probability, so that’s what they were predicted (wrongly) to be. Some of the fields, 1, 3 and 5, were clearly (and correctly) loam. For 1 and 5, you can clearly see that this is because <code>herbicide</code> was high, but field 3 is more of a mystery. For this field, <code>herbicide</code> is <em>not</em> high, so one or more of the other variables must be pointing towards <code>loam</code>.</p>
<p>We can obtain predicted <code>LD1</code> scores for various combinations of “typical” values of the response variables and see what has what effect on <code>LD1</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cornseed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     field           soil               yield           water      
 Min.   : 1.00   Length:32          Min.   :45.00   Min.   :14.50  
 1st Qu.: 8.75   Class :character   1st Qu.:50.58   1st Qu.:25.75  
 Median :16.50   Mode  :character   Median :61.40   Median :29.60  
 Mean   :16.50                      Mean   :61.61   Mean   :31.17  
 3rd Qu.:24.25                      3rd Qu.:67.00   3rd Qu.:36.83  
 Max.   :32.00                      Max.   :96.10   Max.   :54.20  
   herbicide     
 Min.   : 1.100  
 1st Qu.: 3.075  
 Median : 4.750  
 Mean   : 4.672  
 3rd Qu.: 5.825  
 Max.   :11.700  </code></pre>
</div>
</div>
<p>The problem is that the variables have different spreads. Let’s do some predictions (ie.&nbsp;calculations) of LD1 score for combinations of quartiles of our response variables. I like quartiles because these are “representative” values of the variables, typical of how far up and down they go. This process is one you’ve seen before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>yields <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">51</span>, <span class="dv">67</span>)</span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a>waters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">26</span>, <span class="dv">37</span>)</span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a>herbicides <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb193-4"><a href="#cb193-4" aria-hidden="true" tabindex="-1"></a>new <span class="ot">&lt;-</span> <span class="fu">datagrid</span>(<span class="at">model =</span> cornseed<span class="fl">.2</span>, <span class="at">yield =</span> yields, </span>
<span id="cb193-5"><a href="#cb193-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">water =</span> waters, <span class="at">herbicide =</span> herbicides)</span>
<span id="cb193-6"><a href="#cb193-6" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(cornseed<span class="fl">.2</span>, new)</span>
<span id="cb193-7"><a href="#cb193-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(new, pred<span class="sc">$</span>x) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(LD1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["soil"],"name":[1],"type":["chr"],"align":["left"]},{"label":["yield"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["water"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["herbicide"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["LD1"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["LD2"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["LD3"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"loam","2":"51","3":"37","4":"3","5":"1.92293271","6":"0.6641254","7":"-0.13304771","_rn_":"3"},{"1":"loam","2":"51","3":"26","4":"3","5":"1.50933696","6":"-0.3917181","7":"0.22246094","_rn_":"1"},{"1":"loam","2":"67","3":"37","4":"3","5":"0.63095747","6":"0.3311374","7":"-0.90463685","_rn_":"7"},{"1":"loam","2":"51","3":"37","4":"6","5":"0.40331219","6":"0.8735152","7":"0.68540458","_rn_":"4"},{"1":"loam","2":"67","3":"26","4":"3","5":"0.21736172","6":"-0.7247060","7":"-0.54912820","_rn_":"5"},{"1":"loam","2":"51","3":"26","4":"6","5":"-0.01028356","6":"-0.1823283","7":"1.04091323","_rn_":"2"},{"1":"loam","2":"67","3":"37","4":"6","5":"-0.88866305","6":"0.5405273","7":"-0.08618456","_rn_":"8"},{"1":"loam","2":"67","3":"26","4":"6","5":"-1.30225880","6":"-0.5153162","7":"0.26932408","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I arranged the predicted LD1 scores in descending order, so the most loam-like combinations are at the top. The top two combinations look like loam; they both have high <code>herbicide</code>, as we figured before. But they also have high <code>yield</code>. That might go some way towards explaining why field 3, with its non-high <code>herbicide</code>, was confidently predicted to be <code>loam</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>cornseed <span class="sc">%&gt;%</span> <span class="fu">filter</span>(field <span class="sc">==</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["field"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["soil"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yield"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["water"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["herbicide"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"3","2":"loam","3":"96.1","4":"40.7","5":"4.2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This has a very high <code>yield</code>, and <em>that</em> is what is making us (correctly) think it is <code>loam</code>.</p>
<p>I suddenly remembered that I hadn’t done a biplot of this one, which I could, since it’s a discriminant analysis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbiplot</span>(cornseed<span class="fl">.2</span>, <span class="at">groups =</span> cornseed<span class="sc">$</span>soil)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/cornseed-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows the dominant influence of <code>herbicide</code> on LD1 score (more herbicide is more positive), and that <code>water</code> has nothing to say (in terms of distinguishing soil types) and <code>yield</code> has not much to say, their arrows being short. That observation with a non-high <code>herbicide</code> that was predicted to be had the highest <code>yield</code> of all, so even the small influence of <code>yield</code> on <code>LD1</code> made a big difference here.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
</section>
<section id="understanding-athletes-height-weight-sport-and-gender-1" class="level2" data-number="35.14">
<h2 data-number="35.14" class="anchored" data-anchor-id="understanding-athletes-height-weight-sport-and-gender-1"><span class="header-section-number">35.14</span> Understanding athletes’ height, weight, sport and gender</h2>
<p>On a previous assignment, we used MANOVA on the athletes data to demonstrate that there was a significant relationship between the combination of the athletes’ height and weight, with the sport they play and the athlete’s gender. The problem with MANOVA is that it doesn’t give any information about the <em>kind</em> of relationship. To understand that, we need to do discriminant analysis, which is the purpose of this question.</p>
<p>The data can be found at <a href="https://raw.githubusercontent.com/nxskok/datafiles/master/ais.txt">link</a>.</p>
<ol type="a">
<li>Once again, read in and display (some of) the data, bearing in mind that the data values are separated by <em>tabs</em>. (This ought to be a free two marks.)</li>
</ol>
<p>Solution</p>
<p>Nothing new here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/nxskok/datafiles/master/ais.txt"</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>athletes <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 202 Columns: 13
── Column specification ────────────────────────────────────────────────────────
Delimiter: "\t"
chr  (2): Sex, Sport
dbl (11): RCC, WCC, Hc, Hg, Ferr, BMI, SSF, %Bfat, LBM, Ht, Wt

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>athletes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Sex"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Sport"],"name":[2],"type":["chr"],"align":["left"]},{"label":["RCC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["WCC"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Hc"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Hg"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Ferr"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["BMI"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["SSF"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["%Bfat"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["LBM"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Ht"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["Wt"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"Netball","3":"4.56","4":"13.30","5":"42.2","6":"13.6","7":"20","8":"19.16","9":"49.0","10":"11.29","11":"53.14","12":"176.8","13":"59.90"},{"1":"female","2":"Netball","3":"4.15","4":"6.00","5":"38.0","6":"12.7","7":"59","8":"21.15","9":"110.2","10":"25.26","11":"47.09","12":"172.6","13":"63.00"},{"1":"female","2":"Netball","3":"4.16","4":"7.60","5":"37.5","6":"12.3","7":"22","8":"21.40","9":"89.0","10":"19.39","11":"53.44","12":"176.0","13":"66.30"},{"1":"female","2":"Netball","3":"4.32","4":"6.40","5":"37.7","6":"12.3","7":"30","8":"21.03","9":"98.3","10":"19.63","11":"48.78","12":"169.9","13":"60.70"},{"1":"female","2":"Netball","3":"4.06","4":"5.80","5":"38.7","6":"12.8","7":"78","8":"21.77","9":"122.1","10":"23.11","11":"56.05","12":"183.0","13":"72.90"},{"1":"female","2":"Netball","3":"4.12","4":"6.10","5":"36.6","6":"11.8","7":"21","8":"21.38","9":"90.4","10":"16.86","11":"56.45","12":"178.2","13":"67.90"},{"1":"female","2":"Netball","3":"4.17","4":"5.00","5":"37.4","6":"12.7","7":"109","8":"21.47","9":"106.9","10":"21.32","11":"53.11","12":"177.3","13":"67.50"},{"1":"female","2":"Netball","3":"3.80","4":"6.60","5":"36.5","6":"12.4","7":"102","8":"24.45","9":"156.6","10":"26.57","11":"54.41","12":"174.1","13":"74.10"},{"1":"female","2":"Netball","3":"3.96","4":"5.50","5":"36.3","6":"12.4","7":"71","8":"22.63","9":"101.1","10":"17.93","11":"55.97","12":"173.6","13":"68.20"},{"1":"female","2":"Netball","3":"4.44","4":"9.70","5":"41.4","6":"14.1","7":"64","8":"22.80","9":"126.4","10":"24.97","11":"51.62","12":"173.7","13":"68.80"},{"1":"female","2":"Netball","3":"4.27","4":"10.60","5":"37.7","6":"12.5","7":"68","8":"23.58","9":"114.0","10":"22.62","11":"58.27","12":"178.7","13":"75.30"},{"1":"female","2":"Netball","3":"3.90","4":"6.30","5":"35.9","6":"12.1","7":"78","8":"20.06","9":"70.0","10":"15.01","11":"57.28","12":"183.3","13":"67.40"},{"1":"female","2":"Netball","3":"4.02","4":"9.10","5":"37.7","6":"12.7","7":"107","8":"23.01","9":"77.0","10":"18.14","11":"57.30","12":"174.4","13":"70.00"},{"1":"female","2":"Netball","3":"4.39","4":"9.60","5":"38.3","6":"12.5","7":"39","8":"24.64","9":"148.9","10":"26.78","11":"54.18","12":"173.3","13":"74.00"},{"1":"female","2":"Netball","3":"4.52","4":"5.10","5":"38.8","6":"13.1","7":"58","8":"18.26","9":"80.1","10":"17.22","11":"42.96","12":"168.6","13":"51.90"},{"1":"female","2":"Netball","3":"4.25","4":"10.70","5":"39.5","6":"13.2","7":"127","8":"24.47","9":"156.6","10":"26.50","11":"54.46","12":"174.0","13":"74.10"},{"1":"female","2":"Netball","3":"4.46","4":"10.90","5":"39.7","6":"13.7","7":"102","8":"23.99","9":"115.9","10":"23.01","11":"57.20","12":"176.0","13":"74.30"},{"1":"female","2":"Netball","3":"4.40","4":"9.30","5":"40.4","6":"13.6","7":"86","8":"26.24","9":"181.7","10":"30.10","11":"54.38","12":"172.2","13":"77.80"},{"1":"female","2":"Netball","3":"4.83","4":"8.40","5":"41.8","6":"13.4","7":"40","8":"20.04","9":"71.6","10":"13.93","11":"57.58","12":"182.7","13":"66.90"},{"1":"female","2":"Netball","3":"4.23","4":"6.90","5":"38.3","6":"12.6","7":"50","8":"25.72","9":"143.5","10":"26.65","11":"61.46","12":"180.5","13":"83.80"},{"1":"female","2":"Netball","3":"4.24","4":"8.40","5":"37.6","6":"12.5","7":"58","8":"25.64","9":"200.8","10":"35.52","11":"53.46","12":"179.8","13":"82.90"},{"1":"female","2":"Netball","3":"3.95","4":"6.60","5":"38.4","6":"12.8","7":"33","8":"19.87","9":"68.9","10":"15.59","11":"54.11","12":"179.6","13":"64.10"},{"1":"female","2":"Netball","3":"4.03","4":"8.50","5":"37.7","6":"13.0","7":"51","8":"23.35","9":"103.6","10":"19.61","11":"55.35","12":"171.7","13":"68.85"},{"1":"female","2":"BBall","3":"3.96","4":"7.50","5":"37.5","6":"12.3","7":"60","8":"20.56","9":"109.1","10":"19.75","11":"63.32","12":"195.9","13":"78.90"},{"1":"female","2":"BBall","3":"4.41","4":"8.30","5":"38.2","6":"12.7","7":"68","8":"20.67","9":"102.8","10":"21.30","11":"58.55","12":"189.7","13":"74.40"},{"1":"female","2":"BBall","3":"4.14","4":"5.00","5":"36.4","6":"11.6","7":"21","8":"21.86","9":"104.6","10":"19.88","11":"55.36","12":"177.8","13":"69.10"},{"1":"female","2":"BBall","3":"4.11","4":"5.30","5":"37.3","6":"12.6","7":"69","8":"21.88","9":"126.4","10":"23.66","11":"57.18","12":"185.0","13":"74.90"},{"1":"female","2":"BBall","3":"4.45","4":"6.80","5":"41.5","6":"14.0","7":"29","8":"18.96","9":"80.3","10":"17.64","11":"53.20","12":"184.6","13":"64.60"},{"1":"female","2":"BBall","3":"4.10","4":"4.40","5":"37.4","6":"12.5","7":"42","8":"21.04","9":"75.2","10":"15.58","11":"53.77","12":"174.0","13":"63.70"},{"1":"female","2":"BBall","3":"4.31","4":"5.30","5":"39.6","6":"12.8","7":"73","8":"21.69","9":"87.2","10":"19.99","11":"60.17","12":"186.2","13":"75.20"},{"1":"female","2":"BBall","3":"4.42","4":"5.70","5":"39.9","6":"13.2","7":"44","8":"20.62","9":"97.9","10":"22.43","11":"48.33","12":"173.8","13":"62.30"},{"1":"female","2":"BBall","3":"4.30","4":"8.90","5":"41.1","6":"13.5","7":"41","8":"22.64","9":"75.1","10":"17.95","11":"54.57","12":"171.4","13":"66.50"},{"1":"female","2":"BBall","3":"4.51","4":"4.40","5":"41.6","6":"12.7","7":"44","8":"19.44","9":"65.1","10":"15.07","11":"53.42","12":"179.9","13":"62.90"},{"1":"female","2":"BBall","3":"4.71","4":"5.30","5":"41.4","6":"14.0","7":"38","8":"25.75","9":"171.1","10":"28.83","11":"68.53","12":"193.4","13":"96.30"},{"1":"female","2":"BBall","3":"4.62","4":"7.30","5":"43.8","6":"14.7","7":"26","8":"21.20","9":"76.8","10":"18.08","11":"61.85","12":"188.7","13":"75.50"},{"1":"female","2":"BBall","3":"4.35","4":"7.80","5":"41.4","6":"14.1","7":"30","8":"22.03","9":"117.8","10":"23.30","11":"48.32","12":"169.1","13":"63.00"},{"1":"female","2":"Row","3":"4.26","4":"6.20","5":"41.0","6":"13.9","7":"48","8":"25.44","9":"90.2","10":"17.71","11":"66.24","12":"177.9","13":"80.50"},{"1":"female","2":"Row","3":"4.63","4":"6.00","5":"43.7","6":"14.7","7":"30","8":"22.63","9":"97.2","10":"18.77","11":"57.92","12":"177.5","13":"71.30"},{"1":"female","2":"Row","3":"4.36","4":"5.80","5":"40.3","6":"13.3","7":"29","8":"21.86","9":"99.9","10":"19.83","11":"56.52","12":"179.6","13":"70.50"},{"1":"female","2":"Row","3":"3.91","4":"7.30","5":"37.6","6":"12.9","7":"43","8":"22.27","9":"125.9","10":"25.16","11":"54.78","12":"181.3","13":"73.20"},{"1":"female","2":"Row","3":"4.51","4":"8.30","5":"43.7","6":"14.7","7":"34","8":"21.27","9":"69.9","10":"18.04","11":"56.31","12":"179.7","13":"68.70"},{"1":"female","2":"Row","3":"4.37","4":"8.10","5":"41.8","6":"14.3","7":"53","8":"23.47","9":"98.0","10":"21.79","11":"62.96","12":"185.2","13":"80.50"},{"1":"female","2":"Row","3":"4.90","4":"6.90","5":"44.0","6":"14.5","7":"59","8":"23.19","9":"96.8","10":"22.25","11":"56.68","12":"177.3","13":"72.90"},{"1":"female","2":"Row","3":"4.46","4":"5.70","5":"39.2","6":"13.0","7":"43","8":"23.17","9":"80.3","10":"16.25","11":"62.39","12":"179.3","13":"74.50"},{"1":"female","2":"Row","3":"3.95","4":"3.30","5":"36.9","6":"12.5","7":"40","8":"24.54","9":"74.9","10":"16.38","11":"63.05","12":"175.3","13":"75.40"},{"1":"female","2":"Row","3":"4.46","4":"9.50","5":"41.5","6":"14.5","7":"92","8":"22.96","9":"83.0","10":"19.35","11":"56.05","12":"174.0","13":"69.50"},{"1":"female","2":"Row","3":"5.02","4":"6.40","5":"44.8","6":"15.2","7":"48","8":"19.76","9":"91.0","10":"19.20","11":"53.65","12":"183.3","13":"66.40"},{"1":"female","2":"Row","3":"4.26","4":"5.80","5":"41.2","6":"14.1","7":"77","8":"23.36","9":"76.2","10":"17.89","11":"65.45","12":"184.7","13":"79.70"},{"1":"female","2":"Row","3":"4.46","4":"5.60","5":"41.1","6":"14.3","7":"71","8":"22.67","9":"52.6","10":"12.20","11":"64.62","12":"180.2","13":"73.60"},{"1":"female","2":"Row","3":"4.16","4":"5.80","5":"39.8","6":"13.3","7":"37","8":"24.24","9":"111.1","10":"23.70","11":"60.05","12":"180.2","13":"78.70"},{"1":"female","2":"Row","3":"4.49","4":"7.60","5":"41.8","6":"14.4","7":"71","8":"24.21","9":"110.7","10":"24.69","11":"56.48","12":"176.0","13":"75.00"},{"1":"female","2":"Row","3":"4.21","4":"7.50","5":"38.4","6":"13.2","7":"73","8":"20.46","9":"74.7","10":"16.58","11":"41.54","12":"156.0","13":"49.80"},{"1":"female","2":"Row","3":"4.57","4":"6.60","5":"42.8","6":"14.5","7":"85","8":"20.81","9":"113.5","10":"21.47","11":"52.78","12":"179.7","13":"67.20"},{"1":"female","2":"Row","3":"4.87","4":"6.40","5":"44.8","6":"15.0","7":"64","8":"20.17","9":"99.8","10":"20.12","11":"52.72","12":"180.9","13":"66.00"},{"1":"female","2":"Row","3":"4.44","4":"10.10","5":"42.7","6":"14.0","7":"19","8":"23.06","9":"80.3","10":"17.51","11":"61.29","12":"179.5","13":"74.30"},{"1":"female","2":"Row","3":"4.45","4":"6.60","5":"42.6","6":"14.1","7":"39","8":"24.40","9":"109.5","10":"23.70","11":"59.59","12":"178.9","13":"78.10"},{"1":"female","2":"Row","3":"4.41","4":"5.90","5":"41.1","6":"13.5","7":"41","8":"23.97","9":"123.6","10":"22.39","11":"61.70","12":"182.1","13":"79.50"},{"1":"female","2":"Row","3":"4.87","4":"7.30","5":"44.1","6":"14.8","7":"13","8":"22.62","9":"91.2","10":"20.43","11":"62.46","12":"186.3","13":"78.50"},{"1":"female","2":"Swim","3":"4.36","4":"5.50","5":"41.4","6":"13.8","7":"82","8":"22.42","9":"71.3","10":"14.52","11":"55.39","12":"170.0","13":"64.80"},{"1":"female","2":"Swim","3":"4.07","4":"5.90","5":"39.5","6":"13.3","7":"25","8":"20.42","9":"54.6","10":"11.47","11":"52.23","12":"170.0","13":"59.00"},{"1":"female","2":"Swim","3":"4.17","4":"4.90","5":"38.9","6":"12.9","7":"86","8":"22.13","9":"88.2","10":"17.71","11":"59.33","12":"180.5","13":"72.10"},{"1":"female","2":"Swim","3":"4.23","4":"8.10","5":"38.2","6":"12.7","7":"22","8":"25.17","9":"95.4","10":"18.48","11":"61.63","12":"173.3","13":"75.60"},{"1":"female","2":"Swim","3":"4.46","4":"8.30","5":"42.2","6":"14.4","7":"30","8":"23.72","9":"47.5","10":"11.22","11":"63.39","12":"173.5","13":"71.40"},{"1":"female","2":"Swim","3":"4.38","4":"5.80","5":"42.0","6":"14.0","7":"27","8":"21.28","9":"55.6","10":"13.61","11":"60.22","12":"181.0","13":"69.70"},{"1":"female","2":"Swim","3":"4.31","4":"5.30","5":"41.1","6":"13.9","7":"60","8":"20.87","9":"62.9","10":"12.78","11":"55.73","12":"175.0","13":"63.90"},{"1":"female","2":"Swim","3":"4.51","4":"5.10","5":"40.9","6":"14.0","7":"115","8":"19.00","9":"52.5","10":"11.85","11":"48.57","12":"170.3","13":"55.10"},{"1":"female","2":"Swim","3":"4.13","4":"7.00","5":"39.7","6":"13.1","7":"124","8":"22.04","9":"62.6","10":"13.35","11":"51.99","12":"165.0","13":"60.00"},{"1":"female","2":"Field","3":"4.48","4":"9.50","5":"36.5","6":"13.3","7":"54","8":"20.12","9":"49.9","10":"11.77","11":"51.17","12":"169.8","13":"58.00"},{"1":"female","2":"T400m","3":"5.31","4":"9.50","5":"47.1","6":"15.9","7":"29","8":"21.35","9":"57.9","10":"11.07","11":"57.54","12":"174.1","13":"64.70"},{"1":"female","2":"Field","3":"4.58","4":"5.80","5":"42.1","6":"14.7","7":"164","8":"28.57","9":"109.6","10":"21.30","11":"68.86","12":"175.0","13":"87.50"},{"1":"female","2":"Field","3":"4.81","4":"6.80","5":"42.7","6":"15.3","7":"50","8":"26.95","9":"98.5","10":"20.10","11":"63.04","12":"171.1","13":"78.90"},{"1":"female","2":"Field","3":"4.51","4":"9.00","5":"39.7","6":"14.3","7":"36","8":"28.13","9":"136.3","10":"24.88","11":"63.03","12":"172.7","13":"83.90"},{"1":"female","2":"Field","3":"4.77","4":"7.10","5":"40.6","6":"14.6","7":"40","8":"26.85","9":"103.6","10":"19.26","11":"66.85","12":"175.6","13":"82.80"},{"1":"female","2":"Field","3":"5.33","4":"9.30","5":"47.0","6":"15.0","7":"62","8":"25.27","9":"102.8","10":"19.51","11":"59.89","12":"171.6","13":"74.40"},{"1":"female","2":"Field","3":"4.75","4":"7.50","5":"43.8","6":"15.2","7":"90","8":"31.93","9":"131.9","10":"23.01","11":"72.98","12":"172.3","13":"94.80"},{"1":"female","2":"T400m","3":"4.11","4":"7.30","5":"38.7","6":"12.4","7":"12","8":"16.75","9":"33.8","10":"8.07","11":"45.23","12":"171.4","13":"49.20"},{"1":"female","2":"TSprnt","3":"4.76","4":"7.60","5":"42.9","6":"13.4","7":"36","8":"19.54","9":"43.5","10":"11.05","11":"55.06","12":"178.0","13":"61.90"},{"1":"female","2":"T400m","3":"4.27","4":"6.90","5":"44.1","6":"14.7","7":"45","8":"20.42","9":"46.2","10":"12.39","11":"46.96","12":"162.0","13":"53.60"},{"1":"female","2":"T400m","3":"4.44","4":"6.10","5":"42.6","6":"13.9","7":"43","8":"22.76","9":"73.9","10":"15.95","11":"53.54","12":"167.3","13":"63.70"},{"1":"female","2":"T400m","3":"4.20","4":"6.50","5":"39.1","6":"13.0","7":"51","8":"20.12","9":"36.8","10":"9.91","11":"47.57","12":"162.0","13":"52.80"},{"1":"female","2":"T400m","3":"4.71","4":"6.90","5":"43.5","6":"13.8","7":"22","8":"22.35","9":"67.0","10":"16.20","11":"54.63","12":"170.8","13":"65.20"},{"1":"female","2":"T400m","3":"4.09","4":"6.40","5":"40.1","6":"13.2","7":"44","8":"19.16","9":"41.1","10":"9.02","11":"46.31","12":"163.0","13":"50.90"},{"1":"female","2":"T400m","3":"4.24","4":"6.60","5":"38.2","6":"12.6","7":"26","8":"20.77","9":"59.4","10":"14.26","11":"49.13","12":"166.1","13":"57.30"},{"1":"female","2":"T400m","3":"3.90","4":"6.00","5":"38.9","6":"13.5","7":"16","8":"19.37","9":"48.4","10":"10.48","11":"53.71","12":"176.0","13":"60.00"},{"1":"female","2":"TSprnt","3":"4.82","4":"7.60","5":"43.2","6":"14.4","7":"58","8":"22.37","9":"50.0","10":"11.64","11":"53.11","12":"163.9","13":"60.10"},{"1":"female","2":"T400m","3":"4.32","4":"6.80","5":"40.6","6":"13.7","7":"46","8":"17.54","9":"54.6","10":"12.16","11":"46.12","12":"173.0","13":"52.50"},{"1":"female","2":"T400m","3":"4.77","4":"7.20","5":"43.3","6":"14.8","7":"43","8":"19.06","9":"42.3","10":"10.53","11":"53.41","12":"177.0","13":"59.70"},{"1":"female","2":"TSprnt","3":"5.16","4":"8.20","5":"45.3","6":"14.7","7":"34","8":"20.30","9":"46.1","10":"10.15","11":"51.48","12":"168.0","13":"57.30"},{"1":"female","2":"TSprnt","3":"4.97","4":"7.80","5":"44.7","6":"14.2","7":"41","8":"20.15","9":"46.3","10":"10.74","11":"53.20","12":"172.0","13":"59.60"},{"1":"female","2":"Tennis","3":"4.00","4":"4.20","5":"36.6","6":"12.0","7":"57","8":"25.36","9":"109.0","10":"20.86","11":"56.58","12":"167.9","13":"71.50"},{"1":"female","2":"Tennis","3":"4.40","4":"4.00","5":"40.8","6":"13.9","7":"73","8":"22.12","9":"98.1","10":"19.64","11":"56.01","12":"177.5","13":"69.70"},{"1":"female","2":"Tennis","3":"4.38","4":"7.90","5":"39.8","6":"13.5","7":"88","8":"21.25","9":"80.6","10":"17.07","11":"46.52","12":"162.5","13":"56.10"},{"1":"female","2":"Tennis","3":"4.08","4":"6.60","5":"37.8","6":"12.1","7":"182","8":"20.53","9":"68.3","10":"15.31","11":"51.75","12":"172.5","13":"61.10"},{"1":"female","2":"Tennis","3":"4.98","4":"6.40","5":"44.8","6":"14.8","7":"80","8":"17.06","9":"47.6","10":"11.07","11":"42.15","12":"166.7","13":"47.40"},{"1":"female","2":"Tennis","3":"5.16","4":"7.20","5":"44.3","6":"14.5","7":"88","8":"18.29","9":"61.9","10":"12.92","11":"48.76","12":"175.0","13":"56.00"},{"1":"female","2":"Tennis","3":"4.66","4":"6.40","5":"40.9","6":"13.9","7":"109","8":"18.37","9":"38.2","10":"8.45","11":"41.93","12":"157.9","13":"45.80"},{"1":"female","2":"Gym","3":"4.19","4":"9.00","5":"39.0","6":"13.4","7":"69","8":"18.93","9":"43.5","10":"10.16","11":"42.95","12":"158.9","13":"47.80"},{"1":"female","2":"Gym","3":"4.53","4":"5.00","5":"40.7","6":"14.0","7":"41","8":"17.79","9":"56.8","10":"12.55","11":"38.30","12":"156.9","13":"43.80"},{"1":"female","2":"Gym","3":"4.09","4":"4.90","5":"36.0","6":"12.5","7":"66","8":"17.05","9":"41.6","10":"9.10","11":"34.36","12":"148.9","13":"37.80"},{"1":"female","2":"Gym","3":"4.42","4":"6.40","5":"42.8","6":"14.5","7":"63","8":"20.31","9":"58.9","10":"13.46","11":"39.03","12":"149.0","13":"45.10"},{"1":"male","2":"Swim","3":"5.13","4":"7.10","5":"46.8","6":"15.9","7":"34","8":"22.46","9":"44.5","10":"8.47","11":"61.00","12":"172.7","13":"67.00"},{"1":"male","2":"Swim","3":"4.83","4":"7.60","5":"45.2","6":"15.2","7":"97","8":"23.88","9":"41.8","10":"7.68","11":"69.00","12":"176.5","13":"74.40"},{"1":"male","2":"Swim","3":"5.09","4":"4.70","5":"46.6","6":"15.9","7":"55","8":"23.68","9":"33.7","10":"6.16","11":"74.00","12":"183.0","13":"79.30"},{"1":"male","2":"Swim","3":"5.17","4":"4.10","5":"44.9","6":"15.0","7":"76","8":"23.15","9":"50.9","10":"8.56","11":"80.00","12":"194.4","13":"87.50"},{"1":"male","2":"Swim","3":"5.11","4":"6.70","5":"46.1","6":"15.6","7":"93","8":"22.32","9":"40.5","10":"6.86","11":"78.00","12":"193.4","13":"83.50"},{"1":"male","2":"Swim","3":"5.03","4":"7.10","5":"45.1","6":"15.2","7":"46","8":"24.02","9":"51.2","10":"9.40","11":"71.00","12":"180.2","13":"78.00"},{"1":"male","2":"Swim","3":"5.32","4":"6.00","5":"47.5","6":"16.3","7":"155","8":"23.29","9":"54.4","10":"9.17","11":"71.00","12":"183.0","13":"78.00"},{"1":"male","2":"Swim","3":"4.75","4":"8.60","5":"45.5","6":"15.2","7":"99","8":"25.11","9":"52.3","10":"8.54","11":"78.00","12":"184.0","13":"85.00"},{"1":"male","2":"Swim","3":"5.34","4":"6.60","5":"48.6","6":"16.5","7":"35","8":"22.81","9":"57.0","10":"9.20","11":"77.00","12":"192.7","13":"84.70"},{"1":"male","2":"Swim","3":"4.87","4":"4.80","5":"44.9","6":"15.4","7":"124","8":"26.25","9":"65.3","10":"11.72","11":"81.00","12":"187.2","13":"92.00"},{"1":"male","2":"Swim","3":"5.33","4":"5.20","5":"47.8","6":"16.1","7":"176","8":"21.38","9":"52.0","10":"8.44","11":"66.00","12":"183.9","13":"72.30"},{"1":"male","2":"Swim","3":"4.81","4":"6.20","5":"45.2","6":"15.3","7":"107","8":"22.52","9":"42.7","10":"7.19","11":"77.00","12":"192.0","13":"83.00"},{"1":"male","2":"Swim","3":"4.32","4":"4.30","5":"41.6","6":"14.0","7":"177","8":"26.73","9":"35.2","10":"6.46","11":"91.00","12":"190.4","13":"96.90"},{"1":"male","2":"Row","3":"4.87","4":"8.20","5":"43.8","6":"15.0","7":"130","8":"23.57","9":"49.2","10":"9.00","11":"78.00","12":"190.7","13":"85.70"},{"1":"male","2":"Row","3":"5.04","4":"7.10","5":"44.0","6":"14.8","7":"64","8":"25.84","9":"61.8","10":"12.61","11":"75.00","12":"181.8","13":"85.40"},{"1":"male","2":"Row","3":"4.40","4":"5.30","5":"42.5","6":"14.5","7":"109","8":"24.06","9":"46.5","10":"9.03","11":"78.00","12":"188.3","13":"85.30"},{"1":"male","2":"Row","3":"4.95","4":"5.90","5":"45.4","6":"15.5","7":"125","8":"23.85","9":"34.8","10":"6.96","11":"87.00","12":"198.0","13":"93.50"},{"1":"male","2":"Row","3":"4.78","4":"9.30","5":"43.0","6":"14.7","7":"150","8":"25.09","9":"60.2","10":"10.05","11":"78.00","12":"186.0","13":"86.80"},{"1":"male","2":"Row","3":"5.21","4":"6.80","5":"44.5","6":"15.4","7":"115","8":"23.84","9":"48.1","10":"9.56","11":"79.00","12":"192.0","13":"87.90"},{"1":"male","2":"Row","3":"5.22","4":"8.40","5":"47.5","6":"16.2","7":"89","8":"25.31","9":"44.5","10":"9.36","11":"79.00","12":"185.6","13":"87.20"},{"1":"male","2":"Row","3":"5.18","4":"6.50","5":"45.4","6":"14.9","7":"93","8":"19.69","9":"54.0","10":"10.81","11":"48.00","12":"165.3","13":"53.80"},{"1":"male","2":"Row","3":"5.40","4":"6.80","5":"49.5","6":"17.3","7":"183","8":"26.07","9":"44.7","10":"8.61","11":"82.00","12":"185.6","13":"89.80"},{"1":"male","2":"Row","3":"4.92","4":"5.40","5":"46.2","6":"15.8","7":"84","8":"25.50","9":"64.9","10":"9.53","11":"82.00","12":"189.0","13":"91.10"},{"1":"male","2":"Row","3":"5.24","4":"7.50","5":"46.5","6":"15.5","7":"70","8":"23.69","9":"43.8","10":"7.42","11":"82.00","12":"193.4","13":"88.60"},{"1":"male","2":"Row","3":"5.09","4":"10.10","5":"44.9","6":"14.8","7":"118","8":"26.79","9":"58.3","10":"9.79","11":"83.00","12":"185.6","13":"92.30"},{"1":"male","2":"Row","3":"4.83","4":"5.00","5":"43.8","6":"15.1","7":"61","8":"25.61","9":"52.8","10":"8.97","11":"88.00","12":"194.6","13":"97.00"},{"1":"male","2":"Row","3":"5.22","4":"6.00","5":"46.6","6":"15.7","7":"72","8":"25.06","9":"43.1","10":"7.49","11":"83.00","12":"189.0","13":"89.50"},{"1":"male","2":"Row","3":"4.71","4":"8.00","5":"45.5","6":"15.6","7":"91","8":"24.93","9":"78.0","10":"11.95","11":"78.00","12":"188.1","13":"88.20"},{"1":"male","2":"BBall","3":"5.24","4":"7.20","5":"46.6","6":"15.9","7":"58","8":"22.96","9":"40.8","10":"7.35","11":"85.00","12":"200.4","13":"92.20"},{"1":"male","2":"BBall","3":"4.54","4":"5.90","5":"44.4","6":"15.6","7":"97","8":"20.69","9":"41.5","10":"7.16","11":"73.00","12":"195.3","13":"78.90"},{"1":"male","2":"BBall","3":"5.13","4":"5.80","5":"46.1","6":"15.9","7":"110","8":"23.97","9":"50.9","10":"8.77","11":"82.00","12":"194.1","13":"90.30"},{"1":"male","2":"BBall","3":"5.00","4":"6.70","5":"45.3","6":"15.7","7":"72","8":"24.64","9":"49.6","10":"9.56","11":"79.00","12":"187.9","13":"87.00"},{"1":"male","2":"BBall","3":"5.17","4":"8.00","5":"47.9","6":"16.4","7":"36","8":"25.93","9":"88.9","10":"14.53","11":"97.00","12":"209.4","13":"113.70"},{"1":"male","2":"BBall","3":"4.89","4":"7.50","5":"41.6","6":"14.4","7":"53","8":"23.69","9":"48.3","10":"8.51","11":"90.00","12":"203.4","13":"98.00"},{"1":"male","2":"BBall","3":"4.50","4":"9.20","5":"40.7","6":"13.7","7":"72","8":"25.38","9":"61.8","10":"10.64","11":"90.00","12":"198.7","13":"100.20"},{"1":"male","2":"BBall","3":"4.84","4":"8.30","5":"46.3","6":"15.9","7":"39","8":"22.68","9":"43.0","10":"7.06","11":"74.00","12":"187.1","13":"79.40"},{"1":"male","2":"BBall","3":"4.13","4":"8.90","5":"40.3","6":"13.5","7":"61","8":"23.36","9":"61.1","10":"8.87","11":"82.00","12":"196.6","13":"90.30"},{"1":"male","2":"BBall","3":"4.87","4":"7.40","5":"43.5","6":"15.0","7":"49","8":"22.44","9":"43.8","10":"7.88","11":"72.00","12":"186.1","13":"77.70"},{"1":"male","2":"BBall","3":"4.82","4":"6.40","5":"44.3","6":"14.8","7":"35","8":"22.57","9":"54.2","10":"9.20","11":"76.00","12":"192.8","13":"83.90"},{"1":"male","2":"BBall","3":"4.73","4":"6.70","5":"42.8","6":"14.9","7":"8","8":"19.81","9":"41.8","10":"7.19","11":"70.00","12":"195.2","13":"75.50"},{"1":"male","2":"T400m","3":"4.55","4":"5.55","5":"42.6","6":"14.4","7":"106","8":"21.19","9":"34.1","10":"6.06","11":"57.00","12":"169.1","13":"60.60"},{"1":"male","2":"T400m","3":"4.71","4":"7.20","5":"43.6","6":"14.0","7":"32","8":"20.39","9":"30.5","10":"5.63","11":"67.00","12":"186.6","13":"71.00"},{"1":"male","2":"T400m","3":"4.93","4":"7.30","5":"46.2","6":"15.1","7":"41","8":"21.12","9":"34.0","10":"6.59","11":"67.00","12":"184.4","13":"71.80"},{"1":"male","2":"T400m","3":"5.21","4":"7.50","5":"47.5","6":"16.5","7":"20","8":"21.89","9":"46.7","10":"9.50","11":"70.00","12":"187.3","13":"76.80"},{"1":"male","2":"Field","3":"5.09","4":"8.90","5":"46.3","6":"15.4","7":"44","8":"29.97","9":"71.1","10":"13.97","11":"88.00","12":"185.1","13":"102.70"},{"1":"male","2":"Field","3":"5.11","4":"9.60","5":"48.2","6":"16.7","7":"103","8":"27.39","9":"65.9","10":"11.66","11":"83.00","12":"185.5","13":"94.25"},{"1":"male","2":"Field","3":"4.94","4":"6.30","5":"45.7","6":"15.5","7":"50","8":"23.11","9":"34.3","10":"6.43","11":"74.00","12":"184.9","13":"79.00"},{"1":"male","2":"T400m","3":"4.87","4":"6.30","5":"45.8","6":"16.1","7":"41","8":"21.75","9":"34.6","10":"6.99","11":"62.00","12":"175.0","13":"66.60"},{"1":"male","2":"T400m","3":"4.41","4":"4.50","5":"44.2","6":"15.0","7":"101","8":"20.89","9":"31.8","10":"6.00","11":"67.00","12":"185.4","13":"71.80"},{"1":"male","2":"T400m","3":"4.86","4":"3.90","5":"44.9","6":"15.4","7":"73","8":"22.83","9":"34.5","10":"6.56","11":"70.00","12":"181.0","13":"74.80"},{"1":"male","2":"T400m","3":"4.91","4":"9.00","5":"46.3","6":"15.4","7":"56","8":"22.02","9":"31.0","10":"6.03","11":"64.00","12":"176.0","13":"68.20"},{"1":"male","2":"T400m","3":"4.93","4":"7.30","5":"45.2","6":"15.8","7":"74","8":"20.07","9":"32.6","10":"6.33","11":"58.00","12":"176.2","13":"62.30"},{"1":"male","2":"T400m","3":"4.20","4":"4.50","5":"41.2","6":"14.3","7":"58","8":"20.15","9":"31.5","10":"6.82","11":"57.00","12":"174.0","13":"61.00"},{"1":"male","2":"T400m","3":"5.10","4":"6.10","5":"45.3","6":"14.9","7":"87","8":"21.24","9":"32.6","10":"6.20","11":"73.00","12":"191.0","13":"77.50"},{"1":"male","2":"T400m","3":"4.50","4":"6.10","5":"42.2","6":"14.7","7":"139","8":"19.63","9":"31.0","10":"5.93","11":"54.00","12":"171.0","13":"57.40"},{"1":"male","2":"TSprnt","3":"4.89","4":"5.80","5":"45.5","6":"15.6","7":"82","8":"23.58","9":"28.0","10":"5.80","11":"67.00","12":"174.0","13":"71.40"},{"1":"male","2":"TSprnt","3":"5.13","4":"4.00","5":"44.1","6":"15.2","7":"87","8":"21.65","9":"33.7","10":"6.56","11":"66.00","12":"180.2","13":"70.30"},{"1":"male","2":"TSprnt","3":"4.88","4":"4.30","5":"45.6","6":"15.5","7":"80","8":"25.17","9":"30.3","10":"6.76","11":"75.00","12":"178.5","13":"80.20"},{"1":"male","2":"Field","3":"5.00","4":"8.20","5":"46.8","6":"14.7","7":"67","8":"23.25","9":"38.0","10":"7.22","11":"78.00","12":"190.3","13":"84.20"},{"1":"male","2":"Field","3":"5.48","4":"4.60","5":"49.4","6":"18.0","7":"132","8":"32.52","9":"55.7","10":"8.51","11":"102.00","12":"185.0","13":"111.30"},{"1":"male","2":"Field","3":"5.93","4":"6.40","5":"49.1","6":"16.1","7":"43","8":"22.59","9":"37.5","10":"7.72","11":"74.00","12":"189.0","13":"80.70"},{"1":"male","2":"Field","3":"5.01","4":"8.90","5":"46.0","6":"15.9","7":"212","8":"30.18","9":"112.5","10":"19.94","11":"78.00","12":"180.1","13":"97.90"},{"1":"male","2":"Field","3":"5.48","4":"6.20","5":"48.2","6":"16.3","7":"94","8":"34.42","9":"82.7","10":"13.91","11":"106.00","12":"189.2","13":"123.20"},{"1":"male","2":"TSprnt","3":"5.16","4":"8.40","5":"44.4","6":"15.5","7":"213","8":"21.86","9":"29.7","10":"6.10","11":"68.00","12":"182.6","13":"72.90"},{"1":"male","2":"TSprnt","3":"4.64","4":"9.00","5":"42.9","6":"14.9","7":"122","8":"23.99","9":"38.9","10":"7.52","11":"77.00","12":"186.0","13":"83.00"},{"1":"male","2":"TSprnt","3":"6.72","4":"7.10","5":"59.7","6":"19.2","7":"76","8":"24.81","9":"44.8","10":"9.56","11":"69.00","12":"174.9","13":"75.90"},{"1":"male","2":"T400m","3":"4.83","4":"6.60","5":"43.8","6":"14.3","7":"53","8":"21.68","9":"30.9","10":"6.06","11":"66.00","12":"180.6","13":"70.70"},{"1":"male","2":"T400m","3":"5.34","4":"7.60","5":"48.3","6":"16.2","7":"91","8":"21.04","9":"44.0","10":"7.35","11":"62.00","12":"178.6","13":"67.10"},{"1":"male","2":"T400m","3":"5.13","4":"4.60","5":"45.3","6":"16.8","7":"36","8":"23.12","9":"37.5","10":"6.00","11":"65.00","12":"173.0","13":"69.20"},{"1":"male","2":"T400m","3":"4.68","4":"4.80","5":"43.0","6":"14.8","7":"101","8":"20.76","9":"37.6","10":"6.92","11":"62.00","12":"179.7","13":"67.05"},{"1":"male","2":"TSprnt","3":"5.00","4":"5.20","5":"45.1","6":"15.1","7":"184","8":"23.13","9":"31.7","10":"6.33","11":"66.00","12":"174.6","13":"70.50"},{"1":"male","2":"TSprnt","3":"4.99","4":"7.20","5":"41.4","6":"14.9","7":"44","8":"22.35","9":"36.6","10":"5.90","11":"67.00","12":"178.0","13":"70.80"},{"1":"male","2":"T400m","3":"5.49","4":"5.90","5":"47.7","6":"15.9","7":"66","8":"22.28","9":"48.0","10":"8.84","11":"65.00","12":"178.5","13":"71.00"},{"1":"male","2":"TSprnt","3":"5.59","4":"7.90","5":"49.7","6":"17.2","7":"220","8":"23.55","9":"41.9","10":"8.94","11":"63.00","12":"171.3","13":"69.10"},{"1":"male","2":"T400m","3":"5.03","4":"6.60","5":"44.7","6":"15.9","7":"191","8":"19.85","9":"30.9","10":"6.53","11":"59.00","12":"178.0","13":"62.90"},{"1":"male","2":"TSprnt","3":"5.50","4":"6.40","5":"48.1","6":"16.5","7":"40","8":"26.51","9":"52.8","10":"9.40","11":"86.00","12":"189.1","13":"94.80"},{"1":"male","2":"Field","3":"5.11","4":"9.30","5":"45.4","6":"15.8","7":"189","8":"24.78","9":"43.2","10":"8.18","11":"87.00","12":"195.4","13":"94.60"},{"1":"male","2":"Field","3":"4.96","4":"8.30","5":"45.3","6":"15.7","7":"141","8":"33.73","9":"113.5","10":"17.41","11":"89.00","12":"179.1","13":"108.20"},{"1":"male","2":"Field","3":"5.01","4":"8.90","5":"46.0","6":"15.9","7":"212","8":"30.18","9":"96.9","10":"18.08","11":"80.00","12":"180.1","13":"97.90"},{"1":"male","2":"Field","3":"5.11","4":"8.70","5":"46.5","6":"16.3","7":"97","8":"23.31","9":"49.3","10":"9.86","11":"68.00","12":"179.6","13":"75.20"},{"1":"male","2":"TSprnt","3":"5.69","4":"10.80","5":"50.5","6":"18.5","7":"53","8":"24.51","9":"42.3","10":"7.29","11":"69.00","12":"174.7","13":"74.80"},{"1":"male","2":"WPolo","3":"4.63","4":"9.10","5":"42.1","6":"14.4","7":"126","8":"25.37","9":"96.3","10":"18.72","11":"77.00","12":"192.7","13":"94.20"},{"1":"male","2":"WPolo","3":"4.91","4":"10.20","5":"45.0","6":"15.2","7":"234","8":"23.67","9":"56.5","10":"10.12","11":"68.00","12":"179.3","13":"76.10"},{"1":"male","2":"WPolo","3":"4.95","4":"7.50","5":"44.5","6":"15.0","7":"50","8":"24.28","9":"105.7","10":"19.17","11":"77.00","12":"197.5","13":"94.70"},{"1":"male","2":"WPolo","3":"5.34","4":"10.00","5":"46.8","6":"16.2","7":"94","8":"25.82","9":"100.7","10":"17.24","11":"71.00","12":"182.7","13":"86.20"},{"1":"male","2":"WPolo","3":"5.16","4":"12.90","5":"47.6","6":"15.6","7":"156","8":"21.93","9":"56.8","10":"9.89","11":"72.00","12":"190.5","13":"79.60"},{"1":"male","2":"WPolo","3":"5.29","4":"12.70","5":"48.0","6":"16.2","7":"124","8":"23.38","9":"75.9","10":"13.06","11":"74.00","12":"191.0","13":"85.30"},{"1":"male","2":"WPolo","3":"5.02","4":"6.10","5":"43.6","6":"14.8","7":"87","8":"23.07","9":"52.8","10":"8.84","11":"68.00","12":"179.6","13":"74.40"},{"1":"male","2":"WPolo","3":"5.01","4":"9.80","5":"46.5","6":"15.8","7":"97","8":"25.21","9":"47.8","10":"8.87","11":"85.00","12":"192.6","13":"93.50"},{"1":"male","2":"WPolo","3":"5.03","4":"7.50","5":"43.6","6":"14.4","7":"102","8":"23.25","9":"76.0","10":"14.69","11":"75.00","12":"194.1","13":"87.60"},{"1":"male","2":"WPolo","3":"5.25","4":"7.40","5":"47.3","6":"15.8","7":"55","8":"22.93","9":"61.2","10":"8.64","11":"78.00","12":"193.0","13":"85.40"},{"1":"male","2":"WPolo","3":"5.08","4":"8.50","5":"46.3","6":"15.6","7":"117","8":"26.86","9":"75.6","10":"14.98","11":"86.00","12":"193.9","13":"101.00"},{"1":"male","2":"WPolo","3":"5.04","4":"6.00","5":"45.9","6":"15.0","7":"52","8":"21.26","9":"43.3","10":"7.82","11":"69.00","12":"187.7","13":"74.90"},{"1":"male","2":"WPolo","3":"4.63","4":"14.30","5":"44.8","6":"15.0","7":"133","8":"25.43","9":"49.5","10":"8.97","11":"79.00","12":"185.3","13":"87.30"},{"1":"male","2":"WPolo","3":"5.11","4":"7.00","5":"47.7","6":"15.8","7":"214","8":"24.54","9":"70.0","10":"11.63","11":"80.00","12":"191.5","13":"90.00"},{"1":"male","2":"WPolo","3":"5.34","4":"6.20","5":"49.8","6":"17.2","7":"143","8":"27.79","9":"75.7","10":"13.49","11":"82.00","12":"184.6","13":"94.70"},{"1":"male","2":"WPolo","3":"4.86","4":"8.90","5":"46.9","6":"15.8","7":"65","8":"23.58","9":"57.7","10":"10.25","11":"68.00","12":"179.9","13":"76.30"},{"1":"male","2":"WPolo","3":"4.90","4":"7.60","5":"45.6","6":"16.0","7":"90","8":"27.56","9":"67.2","10":"11.79","11":"82.00","12":"183.9","13":"93.20"},{"1":"male","2":"Tennis","3":"5.66","4":"8.30","5":"50.2","6":"17.7","7":"38","8":"23.76","9":"56.5","10":"10.05","11":"72.00","12":"183.5","13":"80.00"},{"1":"male","2":"Tennis","3":"5.03","4":"6.40","5":"42.7","6":"14.3","7":"122","8":"22.01","9":"47.6","10":"8.51","11":"68.00","12":"183.1","13":"73.80"},{"1":"male","2":"Tennis","3":"4.97","4":"8.80","5":"43.0","6":"14.9","7":"233","8":"22.34","9":"60.4","10":"11.50","11":"63.00","12":"178.4","13":"71.10"},{"1":"male","2":"Tennis","3":"5.38","4":"6.30","5":"46.0","6":"15.7","7":"32","8":"21.07","9":"34.9","10":"6.26","11":"72.00","12":"190.8","13":"76.70"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="2" type="a">
<li>Use <code>unite</code> to make a new column in your data frame which contains the sport-gender <em>combination</em>. Display it. (You might like to display only a few columns so that it is clear that you did the right thing.) Hint: you’ve seen <code>unite</code> in the peanuts example in class.</li>
</ol>
<p>Solution</p>
<p>The columns to combine are called <code>Sport</code> and <code>Sex</code>, with Capital Letters. The syntax for <code>unite</code> is that you give the name of the new combo column first, and then the names of the columns you want to combine, either by listing them or by using a select-helper. They will be separated by an underscore by default, which is usually easiest to handle.<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> In <code>unite</code>, you can group the columns to “unite” with <code>c()</code>, as in class, or not, as here. Either way is good.<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> We’ll be using height and weight in the analysis to come, so I decided to display just those:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>athletes <span class="sc">%&gt;%</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(combo, Sport, Sex) <span class="ot">-&gt;</span> athletesc</span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>athletesc <span class="sc">%&gt;%</span> <span class="fu">select</span>(combo, Ht, Wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Ht"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Wt"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Netball_female","2":"176.8","3":"59.90"},{"1":"Netball_female","2":"172.6","3":"63.00"},{"1":"Netball_female","2":"176.0","3":"66.30"},{"1":"Netball_female","2":"169.9","3":"60.70"},{"1":"Netball_female","2":"183.0","3":"72.90"},{"1":"Netball_female","2":"178.2","3":"67.90"},{"1":"Netball_female","2":"177.3","3":"67.50"},{"1":"Netball_female","2":"174.1","3":"74.10"},{"1":"Netball_female","2":"173.6","3":"68.20"},{"1":"Netball_female","2":"173.7","3":"68.80"},{"1":"Netball_female","2":"178.7","3":"75.30"},{"1":"Netball_female","2":"183.3","3":"67.40"},{"1":"Netball_female","2":"174.4","3":"70.00"},{"1":"Netball_female","2":"173.3","3":"74.00"},{"1":"Netball_female","2":"168.6","3":"51.90"},{"1":"Netball_female","2":"174.0","3":"74.10"},{"1":"Netball_female","2":"176.0","3":"74.30"},{"1":"Netball_female","2":"172.2","3":"77.80"},{"1":"Netball_female","2":"182.7","3":"66.90"},{"1":"Netball_female","2":"180.5","3":"83.80"},{"1":"Netball_female","2":"179.8","3":"82.90"},{"1":"Netball_female","2":"179.6","3":"64.10"},{"1":"Netball_female","2":"171.7","3":"68.85"},{"1":"BBall_female","2":"195.9","3":"78.90"},{"1":"BBall_female","2":"189.7","3":"74.40"},{"1":"BBall_female","2":"177.8","3":"69.10"},{"1":"BBall_female","2":"185.0","3":"74.90"},{"1":"BBall_female","2":"184.6","3":"64.60"},{"1":"BBall_female","2":"174.0","3":"63.70"},{"1":"BBall_female","2":"186.2","3":"75.20"},{"1":"BBall_female","2":"173.8","3":"62.30"},{"1":"BBall_female","2":"171.4","3":"66.50"},{"1":"BBall_female","2":"179.9","3":"62.90"},{"1":"BBall_female","2":"193.4","3":"96.30"},{"1":"BBall_female","2":"188.7","3":"75.50"},{"1":"BBall_female","2":"169.1","3":"63.00"},{"1":"Row_female","2":"177.9","3":"80.50"},{"1":"Row_female","2":"177.5","3":"71.30"},{"1":"Row_female","2":"179.6","3":"70.50"},{"1":"Row_female","2":"181.3","3":"73.20"},{"1":"Row_female","2":"179.7","3":"68.70"},{"1":"Row_female","2":"185.2","3":"80.50"},{"1":"Row_female","2":"177.3","3":"72.90"},{"1":"Row_female","2":"179.3","3":"74.50"},{"1":"Row_female","2":"175.3","3":"75.40"},{"1":"Row_female","2":"174.0","3":"69.50"},{"1":"Row_female","2":"183.3","3":"66.40"},{"1":"Row_female","2":"184.7","3":"79.70"},{"1":"Row_female","2":"180.2","3":"73.60"},{"1":"Row_female","2":"180.2","3":"78.70"},{"1":"Row_female","2":"176.0","3":"75.00"},{"1":"Row_female","2":"156.0","3":"49.80"},{"1":"Row_female","2":"179.7","3":"67.20"},{"1":"Row_female","2":"180.9","3":"66.00"},{"1":"Row_female","2":"179.5","3":"74.30"},{"1":"Row_female","2":"178.9","3":"78.10"},{"1":"Row_female","2":"182.1","3":"79.50"},{"1":"Row_female","2":"186.3","3":"78.50"},{"1":"Swim_female","2":"170.0","3":"64.80"},{"1":"Swim_female","2":"170.0","3":"59.00"},{"1":"Swim_female","2":"180.5","3":"72.10"},{"1":"Swim_female","2":"173.3","3":"75.60"},{"1":"Swim_female","2":"173.5","3":"71.40"},{"1":"Swim_female","2":"181.0","3":"69.70"},{"1":"Swim_female","2":"175.0","3":"63.90"},{"1":"Swim_female","2":"170.3","3":"55.10"},{"1":"Swim_female","2":"165.0","3":"60.00"},{"1":"Field_female","2":"169.8","3":"58.00"},{"1":"T400m_female","2":"174.1","3":"64.70"},{"1":"Field_female","2":"175.0","3":"87.50"},{"1":"Field_female","2":"171.1","3":"78.90"},{"1":"Field_female","2":"172.7","3":"83.90"},{"1":"Field_female","2":"175.6","3":"82.80"},{"1":"Field_female","2":"171.6","3":"74.40"},{"1":"Field_female","2":"172.3","3":"94.80"},{"1":"T400m_female","2":"171.4","3":"49.20"},{"1":"TSprnt_female","2":"178.0","3":"61.90"},{"1":"T400m_female","2":"162.0","3":"53.60"},{"1":"T400m_female","2":"167.3","3":"63.70"},{"1":"T400m_female","2":"162.0","3":"52.80"},{"1":"T400m_female","2":"170.8","3":"65.20"},{"1":"T400m_female","2":"163.0","3":"50.90"},{"1":"T400m_female","2":"166.1","3":"57.30"},{"1":"T400m_female","2":"176.0","3":"60.00"},{"1":"TSprnt_female","2":"163.9","3":"60.10"},{"1":"T400m_female","2":"173.0","3":"52.50"},{"1":"T400m_female","2":"177.0","3":"59.70"},{"1":"TSprnt_female","2":"168.0","3":"57.30"},{"1":"TSprnt_female","2":"172.0","3":"59.60"},{"1":"Tennis_female","2":"167.9","3":"71.50"},{"1":"Tennis_female","2":"177.5","3":"69.70"},{"1":"Tennis_female","2":"162.5","3":"56.10"},{"1":"Tennis_female","2":"172.5","3":"61.10"},{"1":"Tennis_female","2":"166.7","3":"47.40"},{"1":"Tennis_female","2":"175.0","3":"56.00"},{"1":"Tennis_female","2":"157.9","3":"45.80"},{"1":"Gym_female","2":"158.9","3":"47.80"},{"1":"Gym_female","2":"156.9","3":"43.80"},{"1":"Gym_female","2":"148.9","3":"37.80"},{"1":"Gym_female","2":"149.0","3":"45.10"},{"1":"Swim_male","2":"172.7","3":"67.00"},{"1":"Swim_male","2":"176.5","3":"74.40"},{"1":"Swim_male","2":"183.0","3":"79.30"},{"1":"Swim_male","2":"194.4","3":"87.50"},{"1":"Swim_male","2":"193.4","3":"83.50"},{"1":"Swim_male","2":"180.2","3":"78.00"},{"1":"Swim_male","2":"183.0","3":"78.00"},{"1":"Swim_male","2":"184.0","3":"85.00"},{"1":"Swim_male","2":"192.7","3":"84.70"},{"1":"Swim_male","2":"187.2","3":"92.00"},{"1":"Swim_male","2":"183.9","3":"72.30"},{"1":"Swim_male","2":"192.0","3":"83.00"},{"1":"Swim_male","2":"190.4","3":"96.90"},{"1":"Row_male","2":"190.7","3":"85.70"},{"1":"Row_male","2":"181.8","3":"85.40"},{"1":"Row_male","2":"188.3","3":"85.30"},{"1":"Row_male","2":"198.0","3":"93.50"},{"1":"Row_male","2":"186.0","3":"86.80"},{"1":"Row_male","2":"192.0","3":"87.90"},{"1":"Row_male","2":"185.6","3":"87.20"},{"1":"Row_male","2":"165.3","3":"53.80"},{"1":"Row_male","2":"185.6","3":"89.80"},{"1":"Row_male","2":"189.0","3":"91.10"},{"1":"Row_male","2":"193.4","3":"88.60"},{"1":"Row_male","2":"185.6","3":"92.30"},{"1":"Row_male","2":"194.6","3":"97.00"},{"1":"Row_male","2":"189.0","3":"89.50"},{"1":"Row_male","2":"188.1","3":"88.20"},{"1":"BBall_male","2":"200.4","3":"92.20"},{"1":"BBall_male","2":"195.3","3":"78.90"},{"1":"BBall_male","2":"194.1","3":"90.30"},{"1":"BBall_male","2":"187.9","3":"87.00"},{"1":"BBall_male","2":"209.4","3":"113.70"},{"1":"BBall_male","2":"203.4","3":"98.00"},{"1":"BBall_male","2":"198.7","3":"100.20"},{"1":"BBall_male","2":"187.1","3":"79.40"},{"1":"BBall_male","2":"196.6","3":"90.30"},{"1":"BBall_male","2":"186.1","3":"77.70"},{"1":"BBall_male","2":"192.8","3":"83.90"},{"1":"BBall_male","2":"195.2","3":"75.50"},{"1":"T400m_male","2":"169.1","3":"60.60"},{"1":"T400m_male","2":"186.6","3":"71.00"},{"1":"T400m_male","2":"184.4","3":"71.80"},{"1":"T400m_male","2":"187.3","3":"76.80"},{"1":"Field_male","2":"185.1","3":"102.70"},{"1":"Field_male","2":"185.5","3":"94.25"},{"1":"Field_male","2":"184.9","3":"79.00"},{"1":"T400m_male","2":"175.0","3":"66.60"},{"1":"T400m_male","2":"185.4","3":"71.80"},{"1":"T400m_male","2":"181.0","3":"74.80"},{"1":"T400m_male","2":"176.0","3":"68.20"},{"1":"T400m_male","2":"176.2","3":"62.30"},{"1":"T400m_male","2":"174.0","3":"61.00"},{"1":"T400m_male","2":"191.0","3":"77.50"},{"1":"T400m_male","2":"171.0","3":"57.40"},{"1":"TSprnt_male","2":"174.0","3":"71.40"},{"1":"TSprnt_male","2":"180.2","3":"70.30"},{"1":"TSprnt_male","2":"178.5","3":"80.20"},{"1":"Field_male","2":"190.3","3":"84.20"},{"1":"Field_male","2":"185.0","3":"111.30"},{"1":"Field_male","2":"189.0","3":"80.70"},{"1":"Field_male","2":"180.1","3":"97.90"},{"1":"Field_male","2":"189.2","3":"123.20"},{"1":"TSprnt_male","2":"182.6","3":"72.90"},{"1":"TSprnt_male","2":"186.0","3":"83.00"},{"1":"TSprnt_male","2":"174.9","3":"75.90"},{"1":"T400m_male","2":"180.6","3":"70.70"},{"1":"T400m_male","2":"178.6","3":"67.10"},{"1":"T400m_male","2":"173.0","3":"69.20"},{"1":"T400m_male","2":"179.7","3":"67.05"},{"1":"TSprnt_male","2":"174.6","3":"70.50"},{"1":"TSprnt_male","2":"178.0","3":"70.80"},{"1":"T400m_male","2":"178.5","3":"71.00"},{"1":"TSprnt_male","2":"171.3","3":"69.10"},{"1":"T400m_male","2":"178.0","3":"62.90"},{"1":"TSprnt_male","2":"189.1","3":"94.80"},{"1":"Field_male","2":"195.4","3":"94.60"},{"1":"Field_male","2":"179.1","3":"108.20"},{"1":"Field_male","2":"180.1","3":"97.90"},{"1":"Field_male","2":"179.6","3":"75.20"},{"1":"TSprnt_male","2":"174.7","3":"74.80"},{"1":"WPolo_male","2":"192.7","3":"94.20"},{"1":"WPolo_male","2":"179.3","3":"76.10"},{"1":"WPolo_male","2":"197.5","3":"94.70"},{"1":"WPolo_male","2":"182.7","3":"86.20"},{"1":"WPolo_male","2":"190.5","3":"79.60"},{"1":"WPolo_male","2":"191.0","3":"85.30"},{"1":"WPolo_male","2":"179.6","3":"74.40"},{"1":"WPolo_male","2":"192.6","3":"93.50"},{"1":"WPolo_male","2":"194.1","3":"87.60"},{"1":"WPolo_male","2":"193.0","3":"85.40"},{"1":"WPolo_male","2":"193.9","3":"101.00"},{"1":"WPolo_male","2":"187.7","3":"74.90"},{"1":"WPolo_male","2":"185.3","3":"87.30"},{"1":"WPolo_male","2":"191.5","3":"90.00"},{"1":"WPolo_male","2":"184.6","3":"94.70"},{"1":"WPolo_male","2":"179.9","3":"76.30"},{"1":"WPolo_male","2":"183.9","3":"93.20"},{"1":"Tennis_male","2":"183.5","3":"80.00"},{"1":"Tennis_male","2":"183.1","3":"73.80"},{"1":"Tennis_male","2":"178.4","3":"71.10"},{"1":"Tennis_male","2":"190.8","3":"76.70"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I gave the data frame a new name, since I might want to come back to the original later. Also, displaying only those columns gives more width for the display of my <code>combo</code>, so that I can be sure I got it right.</p>
<p>Extra: there is another column, <code>SSF</code>, that begins with S, so the select-helper thing is not so obviously helpful here. But the two columns we want start with S followed by either e or p, so we could do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>athletes <span class="sc">%&gt;%</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(combo, <span class="fu">matches</span>(<span class="st">"^S(e|p)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(combo, Ht, Wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Ht"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Wt"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"female_Netball","2":"176.8","3":"59.90"},{"1":"female_Netball","2":"172.6","3":"63.00"},{"1":"female_Netball","2":"176.0","3":"66.30"},{"1":"female_Netball","2":"169.9","3":"60.70"},{"1":"female_Netball","2":"183.0","3":"72.90"},{"1":"female_Netball","2":"178.2","3":"67.90"},{"1":"female_Netball","2":"177.3","3":"67.50"},{"1":"female_Netball","2":"174.1","3":"74.10"},{"1":"female_Netball","2":"173.6","3":"68.20"},{"1":"female_Netball","2":"173.7","3":"68.80"},{"1":"female_Netball","2":"178.7","3":"75.30"},{"1":"female_Netball","2":"183.3","3":"67.40"},{"1":"female_Netball","2":"174.4","3":"70.00"},{"1":"female_Netball","2":"173.3","3":"74.00"},{"1":"female_Netball","2":"168.6","3":"51.90"},{"1":"female_Netball","2":"174.0","3":"74.10"},{"1":"female_Netball","2":"176.0","3":"74.30"},{"1":"female_Netball","2":"172.2","3":"77.80"},{"1":"female_Netball","2":"182.7","3":"66.90"},{"1":"female_Netball","2":"180.5","3":"83.80"},{"1":"female_Netball","2":"179.8","3":"82.90"},{"1":"female_Netball","2":"179.6","3":"64.10"},{"1":"female_Netball","2":"171.7","3":"68.85"},{"1":"female_BBall","2":"195.9","3":"78.90"},{"1":"female_BBall","2":"189.7","3":"74.40"},{"1":"female_BBall","2":"177.8","3":"69.10"},{"1":"female_BBall","2":"185.0","3":"74.90"},{"1":"female_BBall","2":"184.6","3":"64.60"},{"1":"female_BBall","2":"174.0","3":"63.70"},{"1":"female_BBall","2":"186.2","3":"75.20"},{"1":"female_BBall","2":"173.8","3":"62.30"},{"1":"female_BBall","2":"171.4","3":"66.50"},{"1":"female_BBall","2":"179.9","3":"62.90"},{"1":"female_BBall","2":"193.4","3":"96.30"},{"1":"female_BBall","2":"188.7","3":"75.50"},{"1":"female_BBall","2":"169.1","3":"63.00"},{"1":"female_Row","2":"177.9","3":"80.50"},{"1":"female_Row","2":"177.5","3":"71.30"},{"1":"female_Row","2":"179.6","3":"70.50"},{"1":"female_Row","2":"181.3","3":"73.20"},{"1":"female_Row","2":"179.7","3":"68.70"},{"1":"female_Row","2":"185.2","3":"80.50"},{"1":"female_Row","2":"177.3","3":"72.90"},{"1":"female_Row","2":"179.3","3":"74.50"},{"1":"female_Row","2":"175.3","3":"75.40"},{"1":"female_Row","2":"174.0","3":"69.50"},{"1":"female_Row","2":"183.3","3":"66.40"},{"1":"female_Row","2":"184.7","3":"79.70"},{"1":"female_Row","2":"180.2","3":"73.60"},{"1":"female_Row","2":"180.2","3":"78.70"},{"1":"female_Row","2":"176.0","3":"75.00"},{"1":"female_Row","2":"156.0","3":"49.80"},{"1":"female_Row","2":"179.7","3":"67.20"},{"1":"female_Row","2":"180.9","3":"66.00"},{"1":"female_Row","2":"179.5","3":"74.30"},{"1":"female_Row","2":"178.9","3":"78.10"},{"1":"female_Row","2":"182.1","3":"79.50"},{"1":"female_Row","2":"186.3","3":"78.50"},{"1":"female_Swim","2":"170.0","3":"64.80"},{"1":"female_Swim","2":"170.0","3":"59.00"},{"1":"female_Swim","2":"180.5","3":"72.10"},{"1":"female_Swim","2":"173.3","3":"75.60"},{"1":"female_Swim","2":"173.5","3":"71.40"},{"1":"female_Swim","2":"181.0","3":"69.70"},{"1":"female_Swim","2":"175.0","3":"63.90"},{"1":"female_Swim","2":"170.3","3":"55.10"},{"1":"female_Swim","2":"165.0","3":"60.00"},{"1":"female_Field","2":"169.8","3":"58.00"},{"1":"female_T400m","2":"174.1","3":"64.70"},{"1":"female_Field","2":"175.0","3":"87.50"},{"1":"female_Field","2":"171.1","3":"78.90"},{"1":"female_Field","2":"172.7","3":"83.90"},{"1":"female_Field","2":"175.6","3":"82.80"},{"1":"female_Field","2":"171.6","3":"74.40"},{"1":"female_Field","2":"172.3","3":"94.80"},{"1":"female_T400m","2":"171.4","3":"49.20"},{"1":"female_TSprnt","2":"178.0","3":"61.90"},{"1":"female_T400m","2":"162.0","3":"53.60"},{"1":"female_T400m","2":"167.3","3":"63.70"},{"1":"female_T400m","2":"162.0","3":"52.80"},{"1":"female_T400m","2":"170.8","3":"65.20"},{"1":"female_T400m","2":"163.0","3":"50.90"},{"1":"female_T400m","2":"166.1","3":"57.30"},{"1":"female_T400m","2":"176.0","3":"60.00"},{"1":"female_TSprnt","2":"163.9","3":"60.10"},{"1":"female_T400m","2":"173.0","3":"52.50"},{"1":"female_T400m","2":"177.0","3":"59.70"},{"1":"female_TSprnt","2":"168.0","3":"57.30"},{"1":"female_TSprnt","2":"172.0","3":"59.60"},{"1":"female_Tennis","2":"167.9","3":"71.50"},{"1":"female_Tennis","2":"177.5","3":"69.70"},{"1":"female_Tennis","2":"162.5","3":"56.10"},{"1":"female_Tennis","2":"172.5","3":"61.10"},{"1":"female_Tennis","2":"166.7","3":"47.40"},{"1":"female_Tennis","2":"175.0","3":"56.00"},{"1":"female_Tennis","2":"157.9","3":"45.80"},{"1":"female_Gym","2":"158.9","3":"47.80"},{"1":"female_Gym","2":"156.9","3":"43.80"},{"1":"female_Gym","2":"148.9","3":"37.80"},{"1":"female_Gym","2":"149.0","3":"45.10"},{"1":"male_Swim","2":"172.7","3":"67.00"},{"1":"male_Swim","2":"176.5","3":"74.40"},{"1":"male_Swim","2":"183.0","3":"79.30"},{"1":"male_Swim","2":"194.4","3":"87.50"},{"1":"male_Swim","2":"193.4","3":"83.50"},{"1":"male_Swim","2":"180.2","3":"78.00"},{"1":"male_Swim","2":"183.0","3":"78.00"},{"1":"male_Swim","2":"184.0","3":"85.00"},{"1":"male_Swim","2":"192.7","3":"84.70"},{"1":"male_Swim","2":"187.2","3":"92.00"},{"1":"male_Swim","2":"183.9","3":"72.30"},{"1":"male_Swim","2":"192.0","3":"83.00"},{"1":"male_Swim","2":"190.4","3":"96.90"},{"1":"male_Row","2":"190.7","3":"85.70"},{"1":"male_Row","2":"181.8","3":"85.40"},{"1":"male_Row","2":"188.3","3":"85.30"},{"1":"male_Row","2":"198.0","3":"93.50"},{"1":"male_Row","2":"186.0","3":"86.80"},{"1":"male_Row","2":"192.0","3":"87.90"},{"1":"male_Row","2":"185.6","3":"87.20"},{"1":"male_Row","2":"165.3","3":"53.80"},{"1":"male_Row","2":"185.6","3":"89.80"},{"1":"male_Row","2":"189.0","3":"91.10"},{"1":"male_Row","2":"193.4","3":"88.60"},{"1":"male_Row","2":"185.6","3":"92.30"},{"1":"male_Row","2":"194.6","3":"97.00"},{"1":"male_Row","2":"189.0","3":"89.50"},{"1":"male_Row","2":"188.1","3":"88.20"},{"1":"male_BBall","2":"200.4","3":"92.20"},{"1":"male_BBall","2":"195.3","3":"78.90"},{"1":"male_BBall","2":"194.1","3":"90.30"},{"1":"male_BBall","2":"187.9","3":"87.00"},{"1":"male_BBall","2":"209.4","3":"113.70"},{"1":"male_BBall","2":"203.4","3":"98.00"},{"1":"male_BBall","2":"198.7","3":"100.20"},{"1":"male_BBall","2":"187.1","3":"79.40"},{"1":"male_BBall","2":"196.6","3":"90.30"},{"1":"male_BBall","2":"186.1","3":"77.70"},{"1":"male_BBall","2":"192.8","3":"83.90"},{"1":"male_BBall","2":"195.2","3":"75.50"},{"1":"male_T400m","2":"169.1","3":"60.60"},{"1":"male_T400m","2":"186.6","3":"71.00"},{"1":"male_T400m","2":"184.4","3":"71.80"},{"1":"male_T400m","2":"187.3","3":"76.80"},{"1":"male_Field","2":"185.1","3":"102.70"},{"1":"male_Field","2":"185.5","3":"94.25"},{"1":"male_Field","2":"184.9","3":"79.00"},{"1":"male_T400m","2":"175.0","3":"66.60"},{"1":"male_T400m","2":"185.4","3":"71.80"},{"1":"male_T400m","2":"181.0","3":"74.80"},{"1":"male_T400m","2":"176.0","3":"68.20"},{"1":"male_T400m","2":"176.2","3":"62.30"},{"1":"male_T400m","2":"174.0","3":"61.00"},{"1":"male_T400m","2":"191.0","3":"77.50"},{"1":"male_T400m","2":"171.0","3":"57.40"},{"1":"male_TSprnt","2":"174.0","3":"71.40"},{"1":"male_TSprnt","2":"180.2","3":"70.30"},{"1":"male_TSprnt","2":"178.5","3":"80.20"},{"1":"male_Field","2":"190.3","3":"84.20"},{"1":"male_Field","2":"185.0","3":"111.30"},{"1":"male_Field","2":"189.0","3":"80.70"},{"1":"male_Field","2":"180.1","3":"97.90"},{"1":"male_Field","2":"189.2","3":"123.20"},{"1":"male_TSprnt","2":"182.6","3":"72.90"},{"1":"male_TSprnt","2":"186.0","3":"83.00"},{"1":"male_TSprnt","2":"174.9","3":"75.90"},{"1":"male_T400m","2":"180.6","3":"70.70"},{"1":"male_T400m","2":"178.6","3":"67.10"},{"1":"male_T400m","2":"173.0","3":"69.20"},{"1":"male_T400m","2":"179.7","3":"67.05"},{"1":"male_TSprnt","2":"174.6","3":"70.50"},{"1":"male_TSprnt","2":"178.0","3":"70.80"},{"1":"male_T400m","2":"178.5","3":"71.00"},{"1":"male_TSprnt","2":"171.3","3":"69.10"},{"1":"male_T400m","2":"178.0","3":"62.90"},{"1":"male_TSprnt","2":"189.1","3":"94.80"},{"1":"male_Field","2":"195.4","3":"94.60"},{"1":"male_Field","2":"179.1","3":"108.20"},{"1":"male_Field","2":"180.1","3":"97.90"},{"1":"male_Field","2":"179.6","3":"75.20"},{"1":"male_TSprnt","2":"174.7","3":"74.80"},{"1":"male_WPolo","2":"192.7","3":"94.20"},{"1":"male_WPolo","2":"179.3","3":"76.10"},{"1":"male_WPolo","2":"197.5","3":"94.70"},{"1":"male_WPolo","2":"182.7","3":"86.20"},{"1":"male_WPolo","2":"190.5","3":"79.60"},{"1":"male_WPolo","2":"191.0","3":"85.30"},{"1":"male_WPolo","2":"179.6","3":"74.40"},{"1":"male_WPolo","2":"192.6","3":"93.50"},{"1":"male_WPolo","2":"194.1","3":"87.60"},{"1":"male_WPolo","2":"193.0","3":"85.40"},{"1":"male_WPolo","2":"193.9","3":"101.00"},{"1":"male_WPolo","2":"187.7","3":"74.90"},{"1":"male_WPolo","2":"185.3","3":"87.30"},{"1":"male_WPolo","2":"191.5","3":"90.00"},{"1":"male_WPolo","2":"184.6","3":"94.70"},{"1":"male_WPolo","2":"179.9","3":"76.30"},{"1":"male_WPolo","2":"183.9","3":"93.20"},{"1":"male_Tennis","2":"183.5","3":"80.00"},{"1":"male_Tennis","2":"183.1","3":"73.80"},{"1":"male_Tennis","2":"178.4","3":"71.10"},{"1":"male_Tennis","2":"190.8","3":"76.70"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The <code>matches</code> takes a so-called regular expression. This one says ``starting at the beginning of the column name, find an uppercase S followed by either a lowercase e or a lowercase p’’. This picks out the columns and only the columns we want. In the opposite order, though (either order is fine).</p>
<p>I have a feeling we can also take advantage of the fact that the two columns we want to <code>unite</code> are the only two text ones:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>athletes <span class="sc">%&gt;%</span> </span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(combo, <span class="fu">where</span>(is.character))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["RCC"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["WCC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Hc"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Hg"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Ferr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["BMI"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["SSF"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["%Bfat"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["LBM"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["Ht"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Wt"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"female_Netball","2":"4.56","3":"13.30","4":"42.2","5":"13.6","6":"20","7":"19.16","8":"49.0","9":"11.29","10":"53.14","11":"176.8","12":"59.90"},{"1":"female_Netball","2":"4.15","3":"6.00","4":"38.0","5":"12.7","6":"59","7":"21.15","8":"110.2","9":"25.26","10":"47.09","11":"172.6","12":"63.00"},{"1":"female_Netball","2":"4.16","3":"7.60","4":"37.5","5":"12.3","6":"22","7":"21.40","8":"89.0","9":"19.39","10":"53.44","11":"176.0","12":"66.30"},{"1":"female_Netball","2":"4.32","3":"6.40","4":"37.7","5":"12.3","6":"30","7":"21.03","8":"98.3","9":"19.63","10":"48.78","11":"169.9","12":"60.70"},{"1":"female_Netball","2":"4.06","3":"5.80","4":"38.7","5":"12.8","6":"78","7":"21.77","8":"122.1","9":"23.11","10":"56.05","11":"183.0","12":"72.90"},{"1":"female_Netball","2":"4.12","3":"6.10","4":"36.6","5":"11.8","6":"21","7":"21.38","8":"90.4","9":"16.86","10":"56.45","11":"178.2","12":"67.90"},{"1":"female_Netball","2":"4.17","3":"5.00","4":"37.4","5":"12.7","6":"109","7":"21.47","8":"106.9","9":"21.32","10":"53.11","11":"177.3","12":"67.50"},{"1":"female_Netball","2":"3.80","3":"6.60","4":"36.5","5":"12.4","6":"102","7":"24.45","8":"156.6","9":"26.57","10":"54.41","11":"174.1","12":"74.10"},{"1":"female_Netball","2":"3.96","3":"5.50","4":"36.3","5":"12.4","6":"71","7":"22.63","8":"101.1","9":"17.93","10":"55.97","11":"173.6","12":"68.20"},{"1":"female_Netball","2":"4.44","3":"9.70","4":"41.4","5":"14.1","6":"64","7":"22.80","8":"126.4","9":"24.97","10":"51.62","11":"173.7","12":"68.80"},{"1":"female_Netball","2":"4.27","3":"10.60","4":"37.7","5":"12.5","6":"68","7":"23.58","8":"114.0","9":"22.62","10":"58.27","11":"178.7","12":"75.30"},{"1":"female_Netball","2":"3.90","3":"6.30","4":"35.9","5":"12.1","6":"78","7":"20.06","8":"70.0","9":"15.01","10":"57.28","11":"183.3","12":"67.40"},{"1":"female_Netball","2":"4.02","3":"9.10","4":"37.7","5":"12.7","6":"107","7":"23.01","8":"77.0","9":"18.14","10":"57.30","11":"174.4","12":"70.00"},{"1":"female_Netball","2":"4.39","3":"9.60","4":"38.3","5":"12.5","6":"39","7":"24.64","8":"148.9","9":"26.78","10":"54.18","11":"173.3","12":"74.00"},{"1":"female_Netball","2":"4.52","3":"5.10","4":"38.8","5":"13.1","6":"58","7":"18.26","8":"80.1","9":"17.22","10":"42.96","11":"168.6","12":"51.90"},{"1":"female_Netball","2":"4.25","3":"10.70","4":"39.5","5":"13.2","6":"127","7":"24.47","8":"156.6","9":"26.50","10":"54.46","11":"174.0","12":"74.10"},{"1":"female_Netball","2":"4.46","3":"10.90","4":"39.7","5":"13.7","6":"102","7":"23.99","8":"115.9","9":"23.01","10":"57.20","11":"176.0","12":"74.30"},{"1":"female_Netball","2":"4.40","3":"9.30","4":"40.4","5":"13.6","6":"86","7":"26.24","8":"181.7","9":"30.10","10":"54.38","11":"172.2","12":"77.80"},{"1":"female_Netball","2":"4.83","3":"8.40","4":"41.8","5":"13.4","6":"40","7":"20.04","8":"71.6","9":"13.93","10":"57.58","11":"182.7","12":"66.90"},{"1":"female_Netball","2":"4.23","3":"6.90","4":"38.3","5":"12.6","6":"50","7":"25.72","8":"143.5","9":"26.65","10":"61.46","11":"180.5","12":"83.80"},{"1":"female_Netball","2":"4.24","3":"8.40","4":"37.6","5":"12.5","6":"58","7":"25.64","8":"200.8","9":"35.52","10":"53.46","11":"179.8","12":"82.90"},{"1":"female_Netball","2":"3.95","3":"6.60","4":"38.4","5":"12.8","6":"33","7":"19.87","8":"68.9","9":"15.59","10":"54.11","11":"179.6","12":"64.10"},{"1":"female_Netball","2":"4.03","3":"8.50","4":"37.7","5":"13.0","6":"51","7":"23.35","8":"103.6","9":"19.61","10":"55.35","11":"171.7","12":"68.85"},{"1":"female_BBall","2":"3.96","3":"7.50","4":"37.5","5":"12.3","6":"60","7":"20.56","8":"109.1","9":"19.75","10":"63.32","11":"195.9","12":"78.90"},{"1":"female_BBall","2":"4.41","3":"8.30","4":"38.2","5":"12.7","6":"68","7":"20.67","8":"102.8","9":"21.30","10":"58.55","11":"189.7","12":"74.40"},{"1":"female_BBall","2":"4.14","3":"5.00","4":"36.4","5":"11.6","6":"21","7":"21.86","8":"104.6","9":"19.88","10":"55.36","11":"177.8","12":"69.10"},{"1":"female_BBall","2":"4.11","3":"5.30","4":"37.3","5":"12.6","6":"69","7":"21.88","8":"126.4","9":"23.66","10":"57.18","11":"185.0","12":"74.90"},{"1":"female_BBall","2":"4.45","3":"6.80","4":"41.5","5":"14.0","6":"29","7":"18.96","8":"80.3","9":"17.64","10":"53.20","11":"184.6","12":"64.60"},{"1":"female_BBall","2":"4.10","3":"4.40","4":"37.4","5":"12.5","6":"42","7":"21.04","8":"75.2","9":"15.58","10":"53.77","11":"174.0","12":"63.70"},{"1":"female_BBall","2":"4.31","3":"5.30","4":"39.6","5":"12.8","6":"73","7":"21.69","8":"87.2","9":"19.99","10":"60.17","11":"186.2","12":"75.20"},{"1":"female_BBall","2":"4.42","3":"5.70","4":"39.9","5":"13.2","6":"44","7":"20.62","8":"97.9","9":"22.43","10":"48.33","11":"173.8","12":"62.30"},{"1":"female_BBall","2":"4.30","3":"8.90","4":"41.1","5":"13.5","6":"41","7":"22.64","8":"75.1","9":"17.95","10":"54.57","11":"171.4","12":"66.50"},{"1":"female_BBall","2":"4.51","3":"4.40","4":"41.6","5":"12.7","6":"44","7":"19.44","8":"65.1","9":"15.07","10":"53.42","11":"179.9","12":"62.90"},{"1":"female_BBall","2":"4.71","3":"5.30","4":"41.4","5":"14.0","6":"38","7":"25.75","8":"171.1","9":"28.83","10":"68.53","11":"193.4","12":"96.30"},{"1":"female_BBall","2":"4.62","3":"7.30","4":"43.8","5":"14.7","6":"26","7":"21.20","8":"76.8","9":"18.08","10":"61.85","11":"188.7","12":"75.50"},{"1":"female_BBall","2":"4.35","3":"7.80","4":"41.4","5":"14.1","6":"30","7":"22.03","8":"117.8","9":"23.30","10":"48.32","11":"169.1","12":"63.00"},{"1":"female_Row","2":"4.26","3":"6.20","4":"41.0","5":"13.9","6":"48","7":"25.44","8":"90.2","9":"17.71","10":"66.24","11":"177.9","12":"80.50"},{"1":"female_Row","2":"4.63","3":"6.00","4":"43.7","5":"14.7","6":"30","7":"22.63","8":"97.2","9":"18.77","10":"57.92","11":"177.5","12":"71.30"},{"1":"female_Row","2":"4.36","3":"5.80","4":"40.3","5":"13.3","6":"29","7":"21.86","8":"99.9","9":"19.83","10":"56.52","11":"179.6","12":"70.50"},{"1":"female_Row","2":"3.91","3":"7.30","4":"37.6","5":"12.9","6":"43","7":"22.27","8":"125.9","9":"25.16","10":"54.78","11":"181.3","12":"73.20"},{"1":"female_Row","2":"4.51","3":"8.30","4":"43.7","5":"14.7","6":"34","7":"21.27","8":"69.9","9":"18.04","10":"56.31","11":"179.7","12":"68.70"},{"1":"female_Row","2":"4.37","3":"8.10","4":"41.8","5":"14.3","6":"53","7":"23.47","8":"98.0","9":"21.79","10":"62.96","11":"185.2","12":"80.50"},{"1":"female_Row","2":"4.90","3":"6.90","4":"44.0","5":"14.5","6":"59","7":"23.19","8":"96.8","9":"22.25","10":"56.68","11":"177.3","12":"72.90"},{"1":"female_Row","2":"4.46","3":"5.70","4":"39.2","5":"13.0","6":"43","7":"23.17","8":"80.3","9":"16.25","10":"62.39","11":"179.3","12":"74.50"},{"1":"female_Row","2":"3.95","3":"3.30","4":"36.9","5":"12.5","6":"40","7":"24.54","8":"74.9","9":"16.38","10":"63.05","11":"175.3","12":"75.40"},{"1":"female_Row","2":"4.46","3":"9.50","4":"41.5","5":"14.5","6":"92","7":"22.96","8":"83.0","9":"19.35","10":"56.05","11":"174.0","12":"69.50"},{"1":"female_Row","2":"5.02","3":"6.40","4":"44.8","5":"15.2","6":"48","7":"19.76","8":"91.0","9":"19.20","10":"53.65","11":"183.3","12":"66.40"},{"1":"female_Row","2":"4.26","3":"5.80","4":"41.2","5":"14.1","6":"77","7":"23.36","8":"76.2","9":"17.89","10":"65.45","11":"184.7","12":"79.70"},{"1":"female_Row","2":"4.46","3":"5.60","4":"41.1","5":"14.3","6":"71","7":"22.67","8":"52.6","9":"12.20","10":"64.62","11":"180.2","12":"73.60"},{"1":"female_Row","2":"4.16","3":"5.80","4":"39.8","5":"13.3","6":"37","7":"24.24","8":"111.1","9":"23.70","10":"60.05","11":"180.2","12":"78.70"},{"1":"female_Row","2":"4.49","3":"7.60","4":"41.8","5":"14.4","6":"71","7":"24.21","8":"110.7","9":"24.69","10":"56.48","11":"176.0","12":"75.00"},{"1":"female_Row","2":"4.21","3":"7.50","4":"38.4","5":"13.2","6":"73","7":"20.46","8":"74.7","9":"16.58","10":"41.54","11":"156.0","12":"49.80"},{"1":"female_Row","2":"4.57","3":"6.60","4":"42.8","5":"14.5","6":"85","7":"20.81","8":"113.5","9":"21.47","10":"52.78","11":"179.7","12":"67.20"},{"1":"female_Row","2":"4.87","3":"6.40","4":"44.8","5":"15.0","6":"64","7":"20.17","8":"99.8","9":"20.12","10":"52.72","11":"180.9","12":"66.00"},{"1":"female_Row","2":"4.44","3":"10.10","4":"42.7","5":"14.0","6":"19","7":"23.06","8":"80.3","9":"17.51","10":"61.29","11":"179.5","12":"74.30"},{"1":"female_Row","2":"4.45","3":"6.60","4":"42.6","5":"14.1","6":"39","7":"24.40","8":"109.5","9":"23.70","10":"59.59","11":"178.9","12":"78.10"},{"1":"female_Row","2":"4.41","3":"5.90","4":"41.1","5":"13.5","6":"41","7":"23.97","8":"123.6","9":"22.39","10":"61.70","11":"182.1","12":"79.50"},{"1":"female_Row","2":"4.87","3":"7.30","4":"44.1","5":"14.8","6":"13","7":"22.62","8":"91.2","9":"20.43","10":"62.46","11":"186.3","12":"78.50"},{"1":"female_Swim","2":"4.36","3":"5.50","4":"41.4","5":"13.8","6":"82","7":"22.42","8":"71.3","9":"14.52","10":"55.39","11":"170.0","12":"64.80"},{"1":"female_Swim","2":"4.07","3":"5.90","4":"39.5","5":"13.3","6":"25","7":"20.42","8":"54.6","9":"11.47","10":"52.23","11":"170.0","12":"59.00"},{"1":"female_Swim","2":"4.17","3":"4.90","4":"38.9","5":"12.9","6":"86","7":"22.13","8":"88.2","9":"17.71","10":"59.33","11":"180.5","12":"72.10"},{"1":"female_Swim","2":"4.23","3":"8.10","4":"38.2","5":"12.7","6":"22","7":"25.17","8":"95.4","9":"18.48","10":"61.63","11":"173.3","12":"75.60"},{"1":"female_Swim","2":"4.46","3":"8.30","4":"42.2","5":"14.4","6":"30","7":"23.72","8":"47.5","9":"11.22","10":"63.39","11":"173.5","12":"71.40"},{"1":"female_Swim","2":"4.38","3":"5.80","4":"42.0","5":"14.0","6":"27","7":"21.28","8":"55.6","9":"13.61","10":"60.22","11":"181.0","12":"69.70"},{"1":"female_Swim","2":"4.31","3":"5.30","4":"41.1","5":"13.9","6":"60","7":"20.87","8":"62.9","9":"12.78","10":"55.73","11":"175.0","12":"63.90"},{"1":"female_Swim","2":"4.51","3":"5.10","4":"40.9","5":"14.0","6":"115","7":"19.00","8":"52.5","9":"11.85","10":"48.57","11":"170.3","12":"55.10"},{"1":"female_Swim","2":"4.13","3":"7.00","4":"39.7","5":"13.1","6":"124","7":"22.04","8":"62.6","9":"13.35","10":"51.99","11":"165.0","12":"60.00"},{"1":"female_Field","2":"4.48","3":"9.50","4":"36.5","5":"13.3","6":"54","7":"20.12","8":"49.9","9":"11.77","10":"51.17","11":"169.8","12":"58.00"},{"1":"female_T400m","2":"5.31","3":"9.50","4":"47.1","5":"15.9","6":"29","7":"21.35","8":"57.9","9":"11.07","10":"57.54","11":"174.1","12":"64.70"},{"1":"female_Field","2":"4.58","3":"5.80","4":"42.1","5":"14.7","6":"164","7":"28.57","8":"109.6","9":"21.30","10":"68.86","11":"175.0","12":"87.50"},{"1":"female_Field","2":"4.81","3":"6.80","4":"42.7","5":"15.3","6":"50","7":"26.95","8":"98.5","9":"20.10","10":"63.04","11":"171.1","12":"78.90"},{"1":"female_Field","2":"4.51","3":"9.00","4":"39.7","5":"14.3","6":"36","7":"28.13","8":"136.3","9":"24.88","10":"63.03","11":"172.7","12":"83.90"},{"1":"female_Field","2":"4.77","3":"7.10","4":"40.6","5":"14.6","6":"40","7":"26.85","8":"103.6","9":"19.26","10":"66.85","11":"175.6","12":"82.80"},{"1":"female_Field","2":"5.33","3":"9.30","4":"47.0","5":"15.0","6":"62","7":"25.27","8":"102.8","9":"19.51","10":"59.89","11":"171.6","12":"74.40"},{"1":"female_Field","2":"4.75","3":"7.50","4":"43.8","5":"15.2","6":"90","7":"31.93","8":"131.9","9":"23.01","10":"72.98","11":"172.3","12":"94.80"},{"1":"female_T400m","2":"4.11","3":"7.30","4":"38.7","5":"12.4","6":"12","7":"16.75","8":"33.8","9":"8.07","10":"45.23","11":"171.4","12":"49.20"},{"1":"female_TSprnt","2":"4.76","3":"7.60","4":"42.9","5":"13.4","6":"36","7":"19.54","8":"43.5","9":"11.05","10":"55.06","11":"178.0","12":"61.90"},{"1":"female_T400m","2":"4.27","3":"6.90","4":"44.1","5":"14.7","6":"45","7":"20.42","8":"46.2","9":"12.39","10":"46.96","11":"162.0","12":"53.60"},{"1":"female_T400m","2":"4.44","3":"6.10","4":"42.6","5":"13.9","6":"43","7":"22.76","8":"73.9","9":"15.95","10":"53.54","11":"167.3","12":"63.70"},{"1":"female_T400m","2":"4.20","3":"6.50","4":"39.1","5":"13.0","6":"51","7":"20.12","8":"36.8","9":"9.91","10":"47.57","11":"162.0","12":"52.80"},{"1":"female_T400m","2":"4.71","3":"6.90","4":"43.5","5":"13.8","6":"22","7":"22.35","8":"67.0","9":"16.20","10":"54.63","11":"170.8","12":"65.20"},{"1":"female_T400m","2":"4.09","3":"6.40","4":"40.1","5":"13.2","6":"44","7":"19.16","8":"41.1","9":"9.02","10":"46.31","11":"163.0","12":"50.90"},{"1":"female_T400m","2":"4.24","3":"6.60","4":"38.2","5":"12.6","6":"26","7":"20.77","8":"59.4","9":"14.26","10":"49.13","11":"166.1","12":"57.30"},{"1":"female_T400m","2":"3.90","3":"6.00","4":"38.9","5":"13.5","6":"16","7":"19.37","8":"48.4","9":"10.48","10":"53.71","11":"176.0","12":"60.00"},{"1":"female_TSprnt","2":"4.82","3":"7.60","4":"43.2","5":"14.4","6":"58","7":"22.37","8":"50.0","9":"11.64","10":"53.11","11":"163.9","12":"60.10"},{"1":"female_T400m","2":"4.32","3":"6.80","4":"40.6","5":"13.7","6":"46","7":"17.54","8":"54.6","9":"12.16","10":"46.12","11":"173.0","12":"52.50"},{"1":"female_T400m","2":"4.77","3":"7.20","4":"43.3","5":"14.8","6":"43","7":"19.06","8":"42.3","9":"10.53","10":"53.41","11":"177.0","12":"59.70"},{"1":"female_TSprnt","2":"5.16","3":"8.20","4":"45.3","5":"14.7","6":"34","7":"20.30","8":"46.1","9":"10.15","10":"51.48","11":"168.0","12":"57.30"},{"1":"female_TSprnt","2":"4.97","3":"7.80","4":"44.7","5":"14.2","6":"41","7":"20.15","8":"46.3","9":"10.74","10":"53.20","11":"172.0","12":"59.60"},{"1":"female_Tennis","2":"4.00","3":"4.20","4":"36.6","5":"12.0","6":"57","7":"25.36","8":"109.0","9":"20.86","10":"56.58","11":"167.9","12":"71.50"},{"1":"female_Tennis","2":"4.40","3":"4.00","4":"40.8","5":"13.9","6":"73","7":"22.12","8":"98.1","9":"19.64","10":"56.01","11":"177.5","12":"69.70"},{"1":"female_Tennis","2":"4.38","3":"7.90","4":"39.8","5":"13.5","6":"88","7":"21.25","8":"80.6","9":"17.07","10":"46.52","11":"162.5","12":"56.10"},{"1":"female_Tennis","2":"4.08","3":"6.60","4":"37.8","5":"12.1","6":"182","7":"20.53","8":"68.3","9":"15.31","10":"51.75","11":"172.5","12":"61.10"},{"1":"female_Tennis","2":"4.98","3":"6.40","4":"44.8","5":"14.8","6":"80","7":"17.06","8":"47.6","9":"11.07","10":"42.15","11":"166.7","12":"47.40"},{"1":"female_Tennis","2":"5.16","3":"7.20","4":"44.3","5":"14.5","6":"88","7":"18.29","8":"61.9","9":"12.92","10":"48.76","11":"175.0","12":"56.00"},{"1":"female_Tennis","2":"4.66","3":"6.40","4":"40.9","5":"13.9","6":"109","7":"18.37","8":"38.2","9":"8.45","10":"41.93","11":"157.9","12":"45.80"},{"1":"female_Gym","2":"4.19","3":"9.00","4":"39.0","5":"13.4","6":"69","7":"18.93","8":"43.5","9":"10.16","10":"42.95","11":"158.9","12":"47.80"},{"1":"female_Gym","2":"4.53","3":"5.00","4":"40.7","5":"14.0","6":"41","7":"17.79","8":"56.8","9":"12.55","10":"38.30","11":"156.9","12":"43.80"},{"1":"female_Gym","2":"4.09","3":"4.90","4":"36.0","5":"12.5","6":"66","7":"17.05","8":"41.6","9":"9.10","10":"34.36","11":"148.9","12":"37.80"},{"1":"female_Gym","2":"4.42","3":"6.40","4":"42.8","5":"14.5","6":"63","7":"20.31","8":"58.9","9":"13.46","10":"39.03","11":"149.0","12":"45.10"},{"1":"male_Swim","2":"5.13","3":"7.10","4":"46.8","5":"15.9","6":"34","7":"22.46","8":"44.5","9":"8.47","10":"61.00","11":"172.7","12":"67.00"},{"1":"male_Swim","2":"4.83","3":"7.60","4":"45.2","5":"15.2","6":"97","7":"23.88","8":"41.8","9":"7.68","10":"69.00","11":"176.5","12":"74.40"},{"1":"male_Swim","2":"5.09","3":"4.70","4":"46.6","5":"15.9","6":"55","7":"23.68","8":"33.7","9":"6.16","10":"74.00","11":"183.0","12":"79.30"},{"1":"male_Swim","2":"5.17","3":"4.10","4":"44.9","5":"15.0","6":"76","7":"23.15","8":"50.9","9":"8.56","10":"80.00","11":"194.4","12":"87.50"},{"1":"male_Swim","2":"5.11","3":"6.70","4":"46.1","5":"15.6","6":"93","7":"22.32","8":"40.5","9":"6.86","10":"78.00","11":"193.4","12":"83.50"},{"1":"male_Swim","2":"5.03","3":"7.10","4":"45.1","5":"15.2","6":"46","7":"24.02","8":"51.2","9":"9.40","10":"71.00","11":"180.2","12":"78.00"},{"1":"male_Swim","2":"5.32","3":"6.00","4":"47.5","5":"16.3","6":"155","7":"23.29","8":"54.4","9":"9.17","10":"71.00","11":"183.0","12":"78.00"},{"1":"male_Swim","2":"4.75","3":"8.60","4":"45.5","5":"15.2","6":"99","7":"25.11","8":"52.3","9":"8.54","10":"78.00","11":"184.0","12":"85.00"},{"1":"male_Swim","2":"5.34","3":"6.60","4":"48.6","5":"16.5","6":"35","7":"22.81","8":"57.0","9":"9.20","10":"77.00","11":"192.7","12":"84.70"},{"1":"male_Swim","2":"4.87","3":"4.80","4":"44.9","5":"15.4","6":"124","7":"26.25","8":"65.3","9":"11.72","10":"81.00","11":"187.2","12":"92.00"},{"1":"male_Swim","2":"5.33","3":"5.20","4":"47.8","5":"16.1","6":"176","7":"21.38","8":"52.0","9":"8.44","10":"66.00","11":"183.9","12":"72.30"},{"1":"male_Swim","2":"4.81","3":"6.20","4":"45.2","5":"15.3","6":"107","7":"22.52","8":"42.7","9":"7.19","10":"77.00","11":"192.0","12":"83.00"},{"1":"male_Swim","2":"4.32","3":"4.30","4":"41.6","5":"14.0","6":"177","7":"26.73","8":"35.2","9":"6.46","10":"91.00","11":"190.4","12":"96.90"},{"1":"male_Row","2":"4.87","3":"8.20","4":"43.8","5":"15.0","6":"130","7":"23.57","8":"49.2","9":"9.00","10":"78.00","11":"190.7","12":"85.70"},{"1":"male_Row","2":"5.04","3":"7.10","4":"44.0","5":"14.8","6":"64","7":"25.84","8":"61.8","9":"12.61","10":"75.00","11":"181.8","12":"85.40"},{"1":"male_Row","2":"4.40","3":"5.30","4":"42.5","5":"14.5","6":"109","7":"24.06","8":"46.5","9":"9.03","10":"78.00","11":"188.3","12":"85.30"},{"1":"male_Row","2":"4.95","3":"5.90","4":"45.4","5":"15.5","6":"125","7":"23.85","8":"34.8","9":"6.96","10":"87.00","11":"198.0","12":"93.50"},{"1":"male_Row","2":"4.78","3":"9.30","4":"43.0","5":"14.7","6":"150","7":"25.09","8":"60.2","9":"10.05","10":"78.00","11":"186.0","12":"86.80"},{"1":"male_Row","2":"5.21","3":"6.80","4":"44.5","5":"15.4","6":"115","7":"23.84","8":"48.1","9":"9.56","10":"79.00","11":"192.0","12":"87.90"},{"1":"male_Row","2":"5.22","3":"8.40","4":"47.5","5":"16.2","6":"89","7":"25.31","8":"44.5","9":"9.36","10":"79.00","11":"185.6","12":"87.20"},{"1":"male_Row","2":"5.18","3":"6.50","4":"45.4","5":"14.9","6":"93","7":"19.69","8":"54.0","9":"10.81","10":"48.00","11":"165.3","12":"53.80"},{"1":"male_Row","2":"5.40","3":"6.80","4":"49.5","5":"17.3","6":"183","7":"26.07","8":"44.7","9":"8.61","10":"82.00","11":"185.6","12":"89.80"},{"1":"male_Row","2":"4.92","3":"5.40","4":"46.2","5":"15.8","6":"84","7":"25.50","8":"64.9","9":"9.53","10":"82.00","11":"189.0","12":"91.10"},{"1":"male_Row","2":"5.24","3":"7.50","4":"46.5","5":"15.5","6":"70","7":"23.69","8":"43.8","9":"7.42","10":"82.00","11":"193.4","12":"88.60"},{"1":"male_Row","2":"5.09","3":"10.10","4":"44.9","5":"14.8","6":"118","7":"26.79","8":"58.3","9":"9.79","10":"83.00","11":"185.6","12":"92.30"},{"1":"male_Row","2":"4.83","3":"5.00","4":"43.8","5":"15.1","6":"61","7":"25.61","8":"52.8","9":"8.97","10":"88.00","11":"194.6","12":"97.00"},{"1":"male_Row","2":"5.22","3":"6.00","4":"46.6","5":"15.7","6":"72","7":"25.06","8":"43.1","9":"7.49","10":"83.00","11":"189.0","12":"89.50"},{"1":"male_Row","2":"4.71","3":"8.00","4":"45.5","5":"15.6","6":"91","7":"24.93","8":"78.0","9":"11.95","10":"78.00","11":"188.1","12":"88.20"},{"1":"male_BBall","2":"5.24","3":"7.20","4":"46.6","5":"15.9","6":"58","7":"22.96","8":"40.8","9":"7.35","10":"85.00","11":"200.4","12":"92.20"},{"1":"male_BBall","2":"4.54","3":"5.90","4":"44.4","5":"15.6","6":"97","7":"20.69","8":"41.5","9":"7.16","10":"73.00","11":"195.3","12":"78.90"},{"1":"male_BBall","2":"5.13","3":"5.80","4":"46.1","5":"15.9","6":"110","7":"23.97","8":"50.9","9":"8.77","10":"82.00","11":"194.1","12":"90.30"},{"1":"male_BBall","2":"5.00","3":"6.70","4":"45.3","5":"15.7","6":"72","7":"24.64","8":"49.6","9":"9.56","10":"79.00","11":"187.9","12":"87.00"},{"1":"male_BBall","2":"5.17","3":"8.00","4":"47.9","5":"16.4","6":"36","7":"25.93","8":"88.9","9":"14.53","10":"97.00","11":"209.4","12":"113.70"},{"1":"male_BBall","2":"4.89","3":"7.50","4":"41.6","5":"14.4","6":"53","7":"23.69","8":"48.3","9":"8.51","10":"90.00","11":"203.4","12":"98.00"},{"1":"male_BBall","2":"4.50","3":"9.20","4":"40.7","5":"13.7","6":"72","7":"25.38","8":"61.8","9":"10.64","10":"90.00","11":"198.7","12":"100.20"},{"1":"male_BBall","2":"4.84","3":"8.30","4":"46.3","5":"15.9","6":"39","7":"22.68","8":"43.0","9":"7.06","10":"74.00","11":"187.1","12":"79.40"},{"1":"male_BBall","2":"4.13","3":"8.90","4":"40.3","5":"13.5","6":"61","7":"23.36","8":"61.1","9":"8.87","10":"82.00","11":"196.6","12":"90.30"},{"1":"male_BBall","2":"4.87","3":"7.40","4":"43.5","5":"15.0","6":"49","7":"22.44","8":"43.8","9":"7.88","10":"72.00","11":"186.1","12":"77.70"},{"1":"male_BBall","2":"4.82","3":"6.40","4":"44.3","5":"14.8","6":"35","7":"22.57","8":"54.2","9":"9.20","10":"76.00","11":"192.8","12":"83.90"},{"1":"male_BBall","2":"4.73","3":"6.70","4":"42.8","5":"14.9","6":"8","7":"19.81","8":"41.8","9":"7.19","10":"70.00","11":"195.2","12":"75.50"},{"1":"male_T400m","2":"4.55","3":"5.55","4":"42.6","5":"14.4","6":"106","7":"21.19","8":"34.1","9":"6.06","10":"57.00","11":"169.1","12":"60.60"},{"1":"male_T400m","2":"4.71","3":"7.20","4":"43.6","5":"14.0","6":"32","7":"20.39","8":"30.5","9":"5.63","10":"67.00","11":"186.6","12":"71.00"},{"1":"male_T400m","2":"4.93","3":"7.30","4":"46.2","5":"15.1","6":"41","7":"21.12","8":"34.0","9":"6.59","10":"67.00","11":"184.4","12":"71.80"},{"1":"male_T400m","2":"5.21","3":"7.50","4":"47.5","5":"16.5","6":"20","7":"21.89","8":"46.7","9":"9.50","10":"70.00","11":"187.3","12":"76.80"},{"1":"male_Field","2":"5.09","3":"8.90","4":"46.3","5":"15.4","6":"44","7":"29.97","8":"71.1","9":"13.97","10":"88.00","11":"185.1","12":"102.70"},{"1":"male_Field","2":"5.11","3":"9.60","4":"48.2","5":"16.7","6":"103","7":"27.39","8":"65.9","9":"11.66","10":"83.00","11":"185.5","12":"94.25"},{"1":"male_Field","2":"4.94","3":"6.30","4":"45.7","5":"15.5","6":"50","7":"23.11","8":"34.3","9":"6.43","10":"74.00","11":"184.9","12":"79.00"},{"1":"male_T400m","2":"4.87","3":"6.30","4":"45.8","5":"16.1","6":"41","7":"21.75","8":"34.6","9":"6.99","10":"62.00","11":"175.0","12":"66.60"},{"1":"male_T400m","2":"4.41","3":"4.50","4":"44.2","5":"15.0","6":"101","7":"20.89","8":"31.8","9":"6.00","10":"67.00","11":"185.4","12":"71.80"},{"1":"male_T400m","2":"4.86","3":"3.90","4":"44.9","5":"15.4","6":"73","7":"22.83","8":"34.5","9":"6.56","10":"70.00","11":"181.0","12":"74.80"},{"1":"male_T400m","2":"4.91","3":"9.00","4":"46.3","5":"15.4","6":"56","7":"22.02","8":"31.0","9":"6.03","10":"64.00","11":"176.0","12":"68.20"},{"1":"male_T400m","2":"4.93","3":"7.30","4":"45.2","5":"15.8","6":"74","7":"20.07","8":"32.6","9":"6.33","10":"58.00","11":"176.2","12":"62.30"},{"1":"male_T400m","2":"4.20","3":"4.50","4":"41.2","5":"14.3","6":"58","7":"20.15","8":"31.5","9":"6.82","10":"57.00","11":"174.0","12":"61.00"},{"1":"male_T400m","2":"5.10","3":"6.10","4":"45.3","5":"14.9","6":"87","7":"21.24","8":"32.6","9":"6.20","10":"73.00","11":"191.0","12":"77.50"},{"1":"male_T400m","2":"4.50","3":"6.10","4":"42.2","5":"14.7","6":"139","7":"19.63","8":"31.0","9":"5.93","10":"54.00","11":"171.0","12":"57.40"},{"1":"male_TSprnt","2":"4.89","3":"5.80","4":"45.5","5":"15.6","6":"82","7":"23.58","8":"28.0","9":"5.80","10":"67.00","11":"174.0","12":"71.40"},{"1":"male_TSprnt","2":"5.13","3":"4.00","4":"44.1","5":"15.2","6":"87","7":"21.65","8":"33.7","9":"6.56","10":"66.00","11":"180.2","12":"70.30"},{"1":"male_TSprnt","2":"4.88","3":"4.30","4":"45.6","5":"15.5","6":"80","7":"25.17","8":"30.3","9":"6.76","10":"75.00","11":"178.5","12":"80.20"},{"1":"male_Field","2":"5.00","3":"8.20","4":"46.8","5":"14.7","6":"67","7":"23.25","8":"38.0","9":"7.22","10":"78.00","11":"190.3","12":"84.20"},{"1":"male_Field","2":"5.48","3":"4.60","4":"49.4","5":"18.0","6":"132","7":"32.52","8":"55.7","9":"8.51","10":"102.00","11":"185.0","12":"111.30"},{"1":"male_Field","2":"5.93","3":"6.40","4":"49.1","5":"16.1","6":"43","7":"22.59","8":"37.5","9":"7.72","10":"74.00","11":"189.0","12":"80.70"},{"1":"male_Field","2":"5.01","3":"8.90","4":"46.0","5":"15.9","6":"212","7":"30.18","8":"112.5","9":"19.94","10":"78.00","11":"180.1","12":"97.90"},{"1":"male_Field","2":"5.48","3":"6.20","4":"48.2","5":"16.3","6":"94","7":"34.42","8":"82.7","9":"13.91","10":"106.00","11":"189.2","12":"123.20"},{"1":"male_TSprnt","2":"5.16","3":"8.40","4":"44.4","5":"15.5","6":"213","7":"21.86","8":"29.7","9":"6.10","10":"68.00","11":"182.6","12":"72.90"},{"1":"male_TSprnt","2":"4.64","3":"9.00","4":"42.9","5":"14.9","6":"122","7":"23.99","8":"38.9","9":"7.52","10":"77.00","11":"186.0","12":"83.00"},{"1":"male_TSprnt","2":"6.72","3":"7.10","4":"59.7","5":"19.2","6":"76","7":"24.81","8":"44.8","9":"9.56","10":"69.00","11":"174.9","12":"75.90"},{"1":"male_T400m","2":"4.83","3":"6.60","4":"43.8","5":"14.3","6":"53","7":"21.68","8":"30.9","9":"6.06","10":"66.00","11":"180.6","12":"70.70"},{"1":"male_T400m","2":"5.34","3":"7.60","4":"48.3","5":"16.2","6":"91","7":"21.04","8":"44.0","9":"7.35","10":"62.00","11":"178.6","12":"67.10"},{"1":"male_T400m","2":"5.13","3":"4.60","4":"45.3","5":"16.8","6":"36","7":"23.12","8":"37.5","9":"6.00","10":"65.00","11":"173.0","12":"69.20"},{"1":"male_T400m","2":"4.68","3":"4.80","4":"43.0","5":"14.8","6":"101","7":"20.76","8":"37.6","9":"6.92","10":"62.00","11":"179.7","12":"67.05"},{"1":"male_TSprnt","2":"5.00","3":"5.20","4":"45.1","5":"15.1","6":"184","7":"23.13","8":"31.7","9":"6.33","10":"66.00","11":"174.6","12":"70.50"},{"1":"male_TSprnt","2":"4.99","3":"7.20","4":"41.4","5":"14.9","6":"44","7":"22.35","8":"36.6","9":"5.90","10":"67.00","11":"178.0","12":"70.80"},{"1":"male_T400m","2":"5.49","3":"5.90","4":"47.7","5":"15.9","6":"66","7":"22.28","8":"48.0","9":"8.84","10":"65.00","11":"178.5","12":"71.00"},{"1":"male_TSprnt","2":"5.59","3":"7.90","4":"49.7","5":"17.2","6":"220","7":"23.55","8":"41.9","9":"8.94","10":"63.00","11":"171.3","12":"69.10"},{"1":"male_T400m","2":"5.03","3":"6.60","4":"44.7","5":"15.9","6":"191","7":"19.85","8":"30.9","9":"6.53","10":"59.00","11":"178.0","12":"62.90"},{"1":"male_TSprnt","2":"5.50","3":"6.40","4":"48.1","5":"16.5","6":"40","7":"26.51","8":"52.8","9":"9.40","10":"86.00","11":"189.1","12":"94.80"},{"1":"male_Field","2":"5.11","3":"9.30","4":"45.4","5":"15.8","6":"189","7":"24.78","8":"43.2","9":"8.18","10":"87.00","11":"195.4","12":"94.60"},{"1":"male_Field","2":"4.96","3":"8.30","4":"45.3","5":"15.7","6":"141","7":"33.73","8":"113.5","9":"17.41","10":"89.00","11":"179.1","12":"108.20"},{"1":"male_Field","2":"5.01","3":"8.90","4":"46.0","5":"15.9","6":"212","7":"30.18","8":"96.9","9":"18.08","10":"80.00","11":"180.1","12":"97.90"},{"1":"male_Field","2":"5.11","3":"8.70","4":"46.5","5":"16.3","6":"97","7":"23.31","8":"49.3","9":"9.86","10":"68.00","11":"179.6","12":"75.20"},{"1":"male_TSprnt","2":"5.69","3":"10.80","4":"50.5","5":"18.5","6":"53","7":"24.51","8":"42.3","9":"7.29","10":"69.00","11":"174.7","12":"74.80"},{"1":"male_WPolo","2":"4.63","3":"9.10","4":"42.1","5":"14.4","6":"126","7":"25.37","8":"96.3","9":"18.72","10":"77.00","11":"192.7","12":"94.20"},{"1":"male_WPolo","2":"4.91","3":"10.20","4":"45.0","5":"15.2","6":"234","7":"23.67","8":"56.5","9":"10.12","10":"68.00","11":"179.3","12":"76.10"},{"1":"male_WPolo","2":"4.95","3":"7.50","4":"44.5","5":"15.0","6":"50","7":"24.28","8":"105.7","9":"19.17","10":"77.00","11":"197.5","12":"94.70"},{"1":"male_WPolo","2":"5.34","3":"10.00","4":"46.8","5":"16.2","6":"94","7":"25.82","8":"100.7","9":"17.24","10":"71.00","11":"182.7","12":"86.20"},{"1":"male_WPolo","2":"5.16","3":"12.90","4":"47.6","5":"15.6","6":"156","7":"21.93","8":"56.8","9":"9.89","10":"72.00","11":"190.5","12":"79.60"},{"1":"male_WPolo","2":"5.29","3":"12.70","4":"48.0","5":"16.2","6":"124","7":"23.38","8":"75.9","9":"13.06","10":"74.00","11":"191.0","12":"85.30"},{"1":"male_WPolo","2":"5.02","3":"6.10","4":"43.6","5":"14.8","6":"87","7":"23.07","8":"52.8","9":"8.84","10":"68.00","11":"179.6","12":"74.40"},{"1":"male_WPolo","2":"5.01","3":"9.80","4":"46.5","5":"15.8","6":"97","7":"25.21","8":"47.8","9":"8.87","10":"85.00","11":"192.6","12":"93.50"},{"1":"male_WPolo","2":"5.03","3":"7.50","4":"43.6","5":"14.4","6":"102","7":"23.25","8":"76.0","9":"14.69","10":"75.00","11":"194.1","12":"87.60"},{"1":"male_WPolo","2":"5.25","3":"7.40","4":"47.3","5":"15.8","6":"55","7":"22.93","8":"61.2","9":"8.64","10":"78.00","11":"193.0","12":"85.40"},{"1":"male_WPolo","2":"5.08","3":"8.50","4":"46.3","5":"15.6","6":"117","7":"26.86","8":"75.6","9":"14.98","10":"86.00","11":"193.9","12":"101.00"},{"1":"male_WPolo","2":"5.04","3":"6.00","4":"45.9","5":"15.0","6":"52","7":"21.26","8":"43.3","9":"7.82","10":"69.00","11":"187.7","12":"74.90"},{"1":"male_WPolo","2":"4.63","3":"14.30","4":"44.8","5":"15.0","6":"133","7":"25.43","8":"49.5","9":"8.97","10":"79.00","11":"185.3","12":"87.30"},{"1":"male_WPolo","2":"5.11","3":"7.00","4":"47.7","5":"15.8","6":"214","7":"24.54","8":"70.0","9":"11.63","10":"80.00","11":"191.5","12":"90.00"},{"1":"male_WPolo","2":"5.34","3":"6.20","4":"49.8","5":"17.2","6":"143","7":"27.79","8":"75.7","9":"13.49","10":"82.00","11":"184.6","12":"94.70"},{"1":"male_WPolo","2":"4.86","3":"8.90","4":"46.9","5":"15.8","6":"65","7":"23.58","8":"57.7","9":"10.25","10":"68.00","11":"179.9","12":"76.30"},{"1":"male_WPolo","2":"4.90","3":"7.60","4":"45.6","5":"16.0","6":"90","7":"27.56","8":"67.2","9":"11.79","10":"82.00","11":"183.9","12":"93.20"},{"1":"male_Tennis","2":"5.66","3":"8.30","4":"50.2","5":"17.7","6":"38","7":"23.76","8":"56.5","9":"10.05","10":"72.00","11":"183.5","12":"80.00"},{"1":"male_Tennis","2":"5.03","3":"6.40","4":"42.7","5":"14.3","6":"122","7":"22.01","8":"47.6","9":"8.51","10":"68.00","11":"183.1","12":"73.80"},{"1":"male_Tennis","2":"4.97","3":"8.80","4":"43.0","5":"14.9","6":"233","7":"22.34","8":"60.4","9":"11.50","10":"63.00","11":"178.4","12":"71.10"},{"1":"male_Tennis","2":"5.38","3":"6.30","4":"46.0","5":"15.7","6":"32","7":"21.07","8":"34.9","9":"6.26","10":"72.00","11":"190.8","12":"76.70"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I wasn’t expecting that to work!</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="3" type="a">
<li>Run a discriminant analysis “predicting” sport-gender combo from height and weight. Display the results. (No comment needed yet.)</li>
</ol>
<p>Solution</p>
<p>That would be this. I’m having my familiar trouble with names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>combo<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">lda</span>(combo <span class="sc">~</span> Ht <span class="sc">+</span> Wt, <span class="at">data =</span> athletesc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you used a new name for the data frame with the sport-gender combinations in it, use that new name here.</p>
<p>The output:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>combo<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
lda(combo ~ Ht + Wt, data = athletesc)

Prior probabilities of groups:
  BBall_female     BBall_male   Field_female     Field_male     Gym_female 
    0.06435644     0.05940594     0.03465347     0.05940594     0.01980198 
Netball_female     Row_female       Row_male    Swim_female      Swim_male 
    0.11386139     0.10891089     0.07425743     0.04455446     0.06435644 
  T400m_female     T400m_male  Tennis_female    Tennis_male  TSprnt_female 
    0.05445545     0.08910891     0.03465347     0.01980198     0.01980198 
   TSprnt_male     WPolo_male 
    0.05445545     0.08415842 

Group means:
                     Ht       Wt
BBall_female   182.2692 71.33077
BBall_male     195.5833 88.92500
Field_female   172.5857 80.04286
Field_male     185.2750 95.76250
Gym_female     153.4250 43.62500
Netball_female 176.0870 69.59348
Row_female     178.8591 72.90000
Row_male       187.5333 86.80667
Swim_female    173.1778 65.73333
Swim_male      185.6462 81.66154
T400m_female   169.3364 57.23636
T400m_male     179.1889 68.20833
Tennis_female  168.5714 58.22857
Tennis_male    183.9500 75.40000
TSprnt_female  170.4750 59.72500
TSprnt_male    178.5364 75.79091
WPolo_male     188.2235 86.72941

Coefficients of linear discriminants:
          LD1        LD2
Ht 0.08898971 -0.1888615
Wt 0.06825230  0.1305246

Proportion of trace:
   LD1    LD2 
0.7877 0.2123 </code></pre>
</div>
</div>
<p>I comment here that there are two linear discriminants because there are two variables (height and weight) and actually 17 groups (not quite <span class="math inline">\(2\times 10\)</span> because some sports are played by athletes of only one gender). The smaller of 2 and <span class="math inline">\(17-1\)</span> is 2. (I often ask about this, but am choosing not to here.)</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="4" type="a">
<li>What kind of height and weight would make an athlete have a large (positive) score on <code>LD1</code>? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>The Coefficients of Linear Discriminants for <code>LD1</code> are both positive, so an athlete with a large positive score on <code>LD1</code> has a large height and weight: that is to say, they are tall and heavy.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="5" type="a">
<li>Make a guess at the sport-gender combination that has the <em>highest</em> score on LD1. Why did you choose the combination you did?</li>
</ol>
<p>Solution</p>
<p>I could have made you guess the <em>smallest</em> score on LD1, but that would have been too easy (female gymnasts). For this one, you want a sport-gender combination that is typically tall and heavy, and you can look in the table of Group Means to help you find a candidate group. I think the two best guesses are male basketball players (tallest and nearly the heaviest) and male field athletes (heaviest and among the group of athletes that are second-tallest behind the male basketball players). I don’t so much mind what you guess, as long as you make a sensible call about a group that is reasonably tall and reasonably heavy (or, I suppose, that matches with what you said in the previous part, whatever that was).</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="6" type="a">
<li><a name="part:ld2"><em></em></a><em> What combination of height and weight would make an athlete have a </em>small* (that is, very negative) score on LD2? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>The italics in the question are something to do with questions that have a link to them in Bookdown. I don’t know how to fix that. Going back to the Coefficients of Linear Discriminants, the coefficient for Height is negative, and the one for Weight is positive. What will make an athlete come out small (very negative) on this is if they have a <em>large</em> height and a <em>small</em> weight. To clarify your thinking on this, think of the heights and weights as being standardized, so that a big one will be positive and a small one will be negative. To make <code>LD2</code> very negative, you want a “plus” height to multiply the minus sign, and a “minus” weight multiplying the plus sign. Extra: what is happening here is that <code>LD1</code> gives the most important way in which the groups differ, and <code>LD2</code> the next-most important. There is generally a positive correlation between height and weight (taller athletes are generally heavier), so the most important “dimension” is the big-small one with tall heavy athletes at one end and short light athletes at the other. The <code>Proportion of trace</code> in the output says that <code>LD1</code> is definitely more important, in terms of separating the groups, than <code>LD2</code> is, but the latter still has <em>some</em> value.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="7" type="a">
<li>Obtain predictions for the discriminant analysis, and use these to make a plot of <code>LD1</code> score against <code>LD2</code> score, with the individual athletes distinguished by what sport they play and gender they are. (You can use colour to distinguish them, or you can use shapes. If you want to go the latter way, there are clues in my solutions to the MANOVA question about these athletes.)</li>
</ol>
<p>Solution</p>
<p>The prediction part is only one step:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">predict</span>(combo<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>One point for this.</p>
<p>This, in case you are wondering, is obtaining predicted group membership and LD scores for the original data, that is, for our 202 athletes.</p>
<p>I prefer (no obligation) to take a look at what I have. My <code>p</code> is actually a <code>list</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ class    : Factor w/ 17 levels "BBall_female",..: 12 6 6 6 7 6 6 6 6 6 ...
 $ posterior: num [1:202, 1:17] 0.1235 0.0493 0.084 0.0282 0.1538 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:202] "1" "2" "3" "4" ...
  .. ..$ : chr [1:17] "BBall_female" "BBall_male" "Field_female" "Field_male" ...
 $ x        : num [1:202, 1:2] -1.325 -1.487 -0.96 -1.885 0.114 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:202] "1" "2" "3" "4" ...
  .. ..$ : chr [1:2] "LD1" "LD2"</code></pre>
</div>
</div>
<p>Our standard procedure is to <code>cbind</code> the predictions together with the original data (including the combo), and get a huge data frame (in this case):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(athletesc, p)</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["RCC"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["WCC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Hc"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Hg"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Ferr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["BMI"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["SSF"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["%Bfat"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["LBM"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["Ht"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Wt"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[13],"type":["fct"],"align":["left"]},{"label":["posterior.BBall_female"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["posterior.BBall_male"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["posterior.Field_female"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["posterior.Field_male"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["posterior.Gym_female"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["posterior.Netball_female"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["posterior.Row_female"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["posterior.Row_male"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["posterior.Swim_female"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["posterior.Swim_male"],"name":[23],"type":["dbl"],"align":["right"]},{"label":["posterior.T400m_female"],"name":[24],"type":["dbl"],"align":["right"]},{"label":["posterior.T400m_male"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["posterior.Tennis_female"],"name":[26],"type":["dbl"],"align":["right"]},{"label":["posterior.Tennis_male"],"name":[27],"type":["dbl"],"align":["right"]},{"label":["posterior.TSprnt_female"],"name":[28],"type":["dbl"],"align":["right"]},{"label":["posterior.TSprnt_male"],"name":[29],"type":["dbl"],"align":["right"]},{"label":["posterior.WPolo_male"],"name":[30],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[31],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[32],"type":["dbl"],"align":["right"]}],"data":[{"1":"Netball_female","2":"4.56","3":"13.3","4":"42.2","5":"13.6","6":"20","7":"19.16","8":"49.0","9":"11.29","10":"53.14","11":"176.8","12":"59.9","13":"T400m_male","14":"0.12348360","15":"3.479619e-04","16":"0.0002835604","17":"1.460578e-05","18":"4.206308e-05","19":"0.1699941","20":"0.1241779","21":"0.0023825007","22":"0.07434038","23":"0.011678465","24":"0.103051973","25":"0.25594274","26":"0.047204095","27":"0.017883433","28":"0.040192120","29":"0.02616911","30":"0.0028113441","31":"-1.3251857","32":"-1.34799600","_rn_":"1"},{"1":"Netball_female","2":"4.15","3":"6.0","4":"38.0","5":"12.7","6":"59","7":"21.15","8":"110.2","9":"25.26","10":"47.09","11":"172.6","12":"63.0","13":"Netball_female","14":"0.04927852","15":"7.263143e-05","16":"0.0041253799","17":"9.838207e-05","18":"3.101597e-04","19":"0.2333569","20":"0.1414225","21":"0.0025370630","22":"0.11730520","23":"0.009274681","24":"0.119270442","25":"0.13618567","26":"0.075858992","27":"0.008601514","28":"0.050772549","29":"0.04902216","30":"0.0025072687","31":"-1.4873604","32":"-0.15015145","_rn_":"2"},{"1":"Netball_female","2":"4.16","3":"7.6","4":"37.5","5":"12.3","6":"22","7":"21.40","8":"89.0","9":"19.39","10":"53.44","11":"176.0","12":"66.3","13":"Netball_female","14":"0.08402197","15":"4.567927e-04","16":"0.0032633771","17":"2.676308e-04","18":"3.414854e-05","19":"0.2291353","20":"0.1816810","21":"0.0077872436","22":"0.08659049","23":"0.023136399","24":"0.058696177","25":"0.17305732","26":"0.035224944","27":"0.017564554","28":"0.028170015","29":"0.06274649","30":"0.0081661381","31":"-0.9595628","32":"-0.36154960","_rn_":"3"},{"1":"Netball_female","2":"4.32","3":"6.4","4":"37.7","5":"12.3","6":"30","7":"21.03","8":"98.3","9":"19.63","10":"48.78","11":"169.9","12":"60.7","13":"Netball_female","14":"0.02820743","15":"1.539520e-05","16":"0.0048909758","17":"4.524089e-05","18":"1.531681e-03","19":"0.2122221","20":"0.1045723","21":"0.0009826883","22":"0.13254329","23":"0.004132741","24":"0.179336337","25":"0.09812128","26":"0.120824963","27":"0.004345342","28":"0.070141970","29":"0.03716409","30":"0.0009221631","31":"-1.8846129","32":"0.05956819","_rn_":"4"},{"1":"Netball_female","2":"4.06","3":"5.8","4":"38.7","5":"12.8","6":"78","7":"21.77","8":"122.1","9":"23.11","10":"56.05","11":"183.0","12":"72.9","13":"Row_female","14":"0.15383834","15":"1.197089e-02","16":"0.0011443415","17":"1.169322e-03","18":"2.247239e-07","19":"0.1326885","20":"0.1822427","21":"0.0456717871","22":"0.02802782","23":"0.089868173","24":"0.008428382","25":"0.17333438","26":"0.004456769","27":"0.046106286","28":"0.005144923","29":"0.06163897","30":"0.0542681927","31":"0.1138304","32":"-0.82211820","_rn_":"5"},{"1":"Netball_female","2":"4.12","3":"6.1","4":"36.6","5":"11.8","6":"21","7":"21.38","8":"90.4","9":"16.86","10":"56.45","11":"178.2","12":"67.9","13":"Netball_female","14":"0.11219817","15":"1.320889e-03","16":"0.0021761290","17":"3.751161e-04","18":"8.019783e-06","19":"0.2054332","20":"0.1917380","21":"0.0133925352","22":"0.06557996","23":"0.036249576","24":"0.036328215","25":"0.19213811","26":"0.020599135","27":"0.025565109","28":"0.018513425","29":"0.06367698","30":"0.0147074229","31":"-0.6545817","32":"-0.56820566","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>And so, to the graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">colour =</span> combo)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/athletes-d-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>If you can distinguish seventeen different colours, your eyes are better than mine! You might prefer to use seventeen different shapes, although I wonder how much better that will be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">shape =</span> combo)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/athletes-d-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You have to do something special to get as many as seventeen shapes. This idea came from the MANOVA question in the last assignment.</p>
<p>Or even this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> x.LD1, <span class="at">y =</span> x.LD2, <span class="at">shape =</span> combo, <span class="at">colour =</span> combo)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="discriminant-analysis_files/figure-html/athletes-d-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Perhaps having colours <em>and</em> shapes makes the combos easier to distinguish. We’re beginning to stray onto the boundary between statistics and aesthetics here!</p>
<p>Extra: earlier, I asked you to guess which group(s) of athletes had a high (positive) score on LD1. These are the ones on the right side of this plot: male basketball players bottom right and male field athletes top right. Was that what you guessed? What about the other guesses you might have made?</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol start="8" type="a">
<li>Look on your graph for the four athletes with the smallest (most negative) scores on <code>LD2</code>. What do they have in common? Does this make sense, given your answer to part (<a href="#part:ld2">here</a>)? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>These are the four athletes at the bottom of the plot. If you can distinguish the colours, two of these are red and two of them are orange, so they are all basketball players (two male and two female). If you plotted the shapes, and you used the same shapes I did, two of them are circles and the other two are upward-facing triangles, leading you to the same conclusion. (You could also denote each combo by a letter and plot with those letters, as per the solutions to the last assignment.) Back in part (<a href="#part:ld2">here</a>), I said that what would make an athlete come out very negative on <code>LD2</code> is if they were <em>tall</em> and <em>not heavy</em>. This is the stereotypical description of a basketball player, so it makes perfect sense to me.</p>
<p>Extra: some basketball players are tall and <em>heavier</em>; these are the ones on the right of the plot, with a larger <code>LD1</code> score, to reflect that they are both tall and heavy, but with an <code>LD2</code> score closer to zero, reflecting that, given how tall they are, their weight is about what you’d expect. LD2 is really saying something like “weight relative to height”, with someone at the top of the picture being unusually heavy and someone at the bottom unusually light.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>
<ol type="i">
<li>Obtain a (very large) square table, or a (very long) table with frequencies, of actual and predicted sport-gender combinations. You will probably have to make the square table very small to fit it on the page. For that, displaying the columns in two or more sets is OK (for example, six columns and all the rows, six more columns and all the rows, then the last five columns for all the rows). Are there any sport-gender combinations that seem relatively easy to classify correctly? Explain briefly.</li>
</ol>
<p>Solution</p>
<p>Let’s see what happens:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">with</span>(d, <span class="fu">table</span>(combo, class))</span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a>tab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                class
combo            BBall_female BBall_male Field_female Field_male Gym_female
  BBall_female              3          1            0          0          0
  BBall_male                0          9            0          0          0
  Field_female              0          0            5          0          0
  Field_male                0          1            0          7          0
  Gym_female                0          0            0          0          4
  Netball_female            0          0            1          0          0
  Row_female                0          0            0          0          1
  Row_male                  0          2            0          1          0
  Swim_female               0          0            0          0          0
  Swim_male                 0          4            0          0          0
  T400m_female              0          0            0          0          0
  T400m_male                3          1            0          0          0
  Tennis_female             0          0            1          0          1
  Tennis_male               1          0            0          0          0
  TSprnt_female             0          0            0          0          0
  TSprnt_male               0          0            0          0          0
  WPolo_male                1          3            0          2          0
                class
combo            Netball_female Row_female Row_male Swim_female Swim_male
  BBall_female                5          1        0           0         0
  BBall_male                  0          0        0           0         2
  Field_female                1          0        0           0         0
  Field_male                  0          2        0           0         0
  Gym_female                  0          0        0           0         0
  Netball_female             13          4        0           0         0
  Row_female                  5         10        0           0         1
  Row_male                    0          0        1           0         0
  Swim_female                 4          1        0           0         0
  Swim_male                   2          3        0           0         0
  T400m_female                3          0        0           0         0
  T400m_male                  5          3        0           0         0
  Tennis_female               2          0        0           0         0
  Tennis_male                 0          3        0           0         0
  TSprnt_female               1          0        0           0         0
  TSprnt_male                 6          3        0           0         0
  WPolo_male                  0          3        1           0         0
                class
combo            T400m_female T400m_male Tennis_female Tennis_male
  BBall_female              0          2             0           0
  BBall_male                0          0             0           0
  Field_female              1          0             0           0
  Field_male                0          0             0           0
  Gym_female                0          0             0           0
  Netball_female            1          4             0           0
  Row_female                0          4             0           0
  Row_male                  1          0             0           0
  Swim_female               3          1             0           0
  Swim_male                 0          1             0           0
  T400m_female              6          2             0           0
  T400m_male                1          5             0           0
  Tennis_female             2          1             0           0
  Tennis_male               0          0             0           0
  TSprnt_female             2          1             0           0
  TSprnt_male               0          0             0           0
  WPolo_male                0          0             0           0
                class
combo            TSprnt_female TSprnt_male WPolo_male
  BBall_female               0           0          1
  BBall_male                 0           0          1
  Field_female               0           0          0
  Field_male                 0           0          2
  Gym_female                 0           0          0
  Netball_female             0           0          0
  Row_female                 0           0          1
  Row_male                   0           0         10
  Swim_female                0           0          0
  Swim_male                  0           0          3
  T400m_female               0           0          0
  T400m_male                 0           0          0
  Tennis_female              0           0          0
  Tennis_male                0           0          0
  TSprnt_female              0           0          0
  TSprnt_male                0           0          2
  WPolo_male                 0           0          7</code></pre>
</div>
</div>
<p>That’s kind of long.</p>
<p>For combos that are easy to classify, you’re looking for a largish number on the diagonal of the table (classified correctly), bearing in mind that you only see about four columns of the table at once, and (much) smaller numbers in the rest of the row and column. I don’t mind which ones you pick out, but see if you can find a few:</p>
<ul>
<li><p>Male basketball players (9 out of 12 classified correctly)</p></li>
<li><p>Male field athletes (7 out of 10 classified correctly)</p></li>
<li><p>Female netball players (13 out of about 23)</p></li>
<li><p>Female rowers (10 out of about 22)</p></li>
</ul>
<p>Or you can turn it into a tibble:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"BBall_female","2":"BBall_female","3":"3"},{"1":"BBall_male","2":"BBall_female","3":"0"},{"1":"Field_female","2":"BBall_female","3":"0"},{"1":"Field_male","2":"BBall_female","3":"0"},{"1":"Gym_female","2":"BBall_female","3":"0"},{"1":"Netball_female","2":"BBall_female","3":"0"},{"1":"Row_female","2":"BBall_female","3":"0"},{"1":"Row_male","2":"BBall_female","3":"0"},{"1":"Swim_female","2":"BBall_female","3":"0"},{"1":"Swim_male","2":"BBall_female","3":"0"},{"1":"T400m_female","2":"BBall_female","3":"0"},{"1":"T400m_male","2":"BBall_female","3":"3"},{"1":"Tennis_female","2":"BBall_female","3":"0"},{"1":"Tennis_male","2":"BBall_female","3":"1"},{"1":"TSprnt_female","2":"BBall_female","3":"0"},{"1":"TSprnt_male","2":"BBall_female","3":"0"},{"1":"WPolo_male","2":"BBall_female","3":"1"},{"1":"BBall_female","2":"BBall_male","3":"1"},{"1":"BBall_male","2":"BBall_male","3":"9"},{"1":"Field_female","2":"BBall_male","3":"0"},{"1":"Field_male","2":"BBall_male","3":"1"},{"1":"Gym_female","2":"BBall_male","3":"0"},{"1":"Netball_female","2":"BBall_male","3":"0"},{"1":"Row_female","2":"BBall_male","3":"0"},{"1":"Row_male","2":"BBall_male","3":"2"},{"1":"Swim_female","2":"BBall_male","3":"0"},{"1":"Swim_male","2":"BBall_male","3":"4"},{"1":"T400m_female","2":"BBall_male","3":"0"},{"1":"T400m_male","2":"BBall_male","3":"1"},{"1":"Tennis_female","2":"BBall_male","3":"0"},{"1":"Tennis_male","2":"BBall_male","3":"0"},{"1":"TSprnt_female","2":"BBall_male","3":"0"},{"1":"TSprnt_male","2":"BBall_male","3":"0"},{"1":"WPolo_male","2":"BBall_male","3":"3"},{"1":"BBall_female","2":"Field_female","3":"0"},{"1":"BBall_male","2":"Field_female","3":"0"},{"1":"Field_female","2":"Field_female","3":"5"},{"1":"Field_male","2":"Field_female","3":"0"},{"1":"Gym_female","2":"Field_female","3":"0"},{"1":"Netball_female","2":"Field_female","3":"1"},{"1":"Row_female","2":"Field_female","3":"0"},{"1":"Row_male","2":"Field_female","3":"0"},{"1":"Swim_female","2":"Field_female","3":"0"},{"1":"Swim_male","2":"Field_female","3":"0"},{"1":"T400m_female","2":"Field_female","3":"0"},{"1":"T400m_male","2":"Field_female","3":"0"},{"1":"Tennis_female","2":"Field_female","3":"1"},{"1":"Tennis_male","2":"Field_female","3":"0"},{"1":"TSprnt_female","2":"Field_female","3":"0"},{"1":"TSprnt_male","2":"Field_female","3":"0"},{"1":"WPolo_male","2":"Field_female","3":"0"},{"1":"BBall_female","2":"Field_male","3":"0"},{"1":"BBall_male","2":"Field_male","3":"0"},{"1":"Field_female","2":"Field_male","3":"0"},{"1":"Field_male","2":"Field_male","3":"7"},{"1":"Gym_female","2":"Field_male","3":"0"},{"1":"Netball_female","2":"Field_male","3":"0"},{"1":"Row_female","2":"Field_male","3":"0"},{"1":"Row_male","2":"Field_male","3":"1"},{"1":"Swim_female","2":"Field_male","3":"0"},{"1":"Swim_male","2":"Field_male","3":"0"},{"1":"T400m_female","2":"Field_male","3":"0"},{"1":"T400m_male","2":"Field_male","3":"0"},{"1":"Tennis_female","2":"Field_male","3":"0"},{"1":"Tennis_male","2":"Field_male","3":"0"},{"1":"TSprnt_female","2":"Field_male","3":"0"},{"1":"TSprnt_male","2":"Field_male","3":"0"},{"1":"WPolo_male","2":"Field_male","3":"2"},{"1":"BBall_female","2":"Gym_female","3":"0"},{"1":"BBall_male","2":"Gym_female","3":"0"},{"1":"Field_female","2":"Gym_female","3":"0"},{"1":"Field_male","2":"Gym_female","3":"0"},{"1":"Gym_female","2":"Gym_female","3":"4"},{"1":"Netball_female","2":"Gym_female","3":"0"},{"1":"Row_female","2":"Gym_female","3":"1"},{"1":"Row_male","2":"Gym_female","3":"0"},{"1":"Swim_female","2":"Gym_female","3":"0"},{"1":"Swim_male","2":"Gym_female","3":"0"},{"1":"T400m_female","2":"Gym_female","3":"0"},{"1":"T400m_male","2":"Gym_female","3":"0"},{"1":"Tennis_female","2":"Gym_female","3":"1"},{"1":"Tennis_male","2":"Gym_female","3":"0"},{"1":"TSprnt_female","2":"Gym_female","3":"0"},{"1":"TSprnt_male","2":"Gym_female","3":"0"},{"1":"WPolo_male","2":"Gym_female","3":"0"},{"1":"BBall_female","2":"Netball_female","3":"5"},{"1":"BBall_male","2":"Netball_female","3":"0"},{"1":"Field_female","2":"Netball_female","3":"1"},{"1":"Field_male","2":"Netball_female","3":"0"},{"1":"Gym_female","2":"Netball_female","3":"0"},{"1":"Netball_female","2":"Netball_female","3":"13"},{"1":"Row_female","2":"Netball_female","3":"5"},{"1":"Row_male","2":"Netball_female","3":"0"},{"1":"Swim_female","2":"Netball_female","3":"4"},{"1":"Swim_male","2":"Netball_female","3":"2"},{"1":"T400m_female","2":"Netball_female","3":"3"},{"1":"T400m_male","2":"Netball_female","3":"5"},{"1":"Tennis_female","2":"Netball_female","3":"2"},{"1":"Tennis_male","2":"Netball_female","3":"0"},{"1":"TSprnt_female","2":"Netball_female","3":"1"},{"1":"TSprnt_male","2":"Netball_female","3":"6"},{"1":"WPolo_male","2":"Netball_female","3":"0"},{"1":"BBall_female","2":"Row_female","3":"1"},{"1":"BBall_male","2":"Row_female","3":"0"},{"1":"Field_female","2":"Row_female","3":"0"},{"1":"Field_male","2":"Row_female","3":"2"},{"1":"Gym_female","2":"Row_female","3":"0"},{"1":"Netball_female","2":"Row_female","3":"4"},{"1":"Row_female","2":"Row_female","3":"10"},{"1":"Row_male","2":"Row_female","3":"0"},{"1":"Swim_female","2":"Row_female","3":"1"},{"1":"Swim_male","2":"Row_female","3":"3"},{"1":"T400m_female","2":"Row_female","3":"0"},{"1":"T400m_male","2":"Row_female","3":"3"},{"1":"Tennis_female","2":"Row_female","3":"0"},{"1":"Tennis_male","2":"Row_female","3":"3"},{"1":"TSprnt_female","2":"Row_female","3":"0"},{"1":"TSprnt_male","2":"Row_female","3":"3"},{"1":"WPolo_male","2":"Row_female","3":"3"},{"1":"BBall_female","2":"Row_male","3":"0"},{"1":"BBall_male","2":"Row_male","3":"0"},{"1":"Field_female","2":"Row_male","3":"0"},{"1":"Field_male","2":"Row_male","3":"0"},{"1":"Gym_female","2":"Row_male","3":"0"},{"1":"Netball_female","2":"Row_male","3":"0"},{"1":"Row_female","2":"Row_male","3":"0"},{"1":"Row_male","2":"Row_male","3":"1"},{"1":"Swim_female","2":"Row_male","3":"0"},{"1":"Swim_male","2":"Row_male","3":"0"},{"1":"T400m_female","2":"Row_male","3":"0"},{"1":"T400m_male","2":"Row_male","3":"0"},{"1":"Tennis_female","2":"Row_male","3":"0"},{"1":"Tennis_male","2":"Row_male","3":"0"},{"1":"TSprnt_female","2":"Row_male","3":"0"},{"1":"TSprnt_male","2":"Row_male","3":"0"},{"1":"WPolo_male","2":"Row_male","3":"1"},{"1":"BBall_female","2":"Swim_female","3":"0"},{"1":"BBall_male","2":"Swim_female","3":"0"},{"1":"Field_female","2":"Swim_female","3":"0"},{"1":"Field_male","2":"Swim_female","3":"0"},{"1":"Gym_female","2":"Swim_female","3":"0"},{"1":"Netball_female","2":"Swim_female","3":"0"},{"1":"Row_female","2":"Swim_female","3":"0"},{"1":"Row_male","2":"Swim_female","3":"0"},{"1":"Swim_female","2":"Swim_female","3":"0"},{"1":"Swim_male","2":"Swim_female","3":"0"},{"1":"T400m_female","2":"Swim_female","3":"0"},{"1":"T400m_male","2":"Swim_female","3":"0"},{"1":"Tennis_female","2":"Swim_female","3":"0"},{"1":"Tennis_male","2":"Swim_female","3":"0"},{"1":"TSprnt_female","2":"Swim_female","3":"0"},{"1":"TSprnt_male","2":"Swim_female","3":"0"},{"1":"WPolo_male","2":"Swim_female","3":"0"},{"1":"BBall_female","2":"Swim_male","3":"0"},{"1":"BBall_male","2":"Swim_male","3":"2"},{"1":"Field_female","2":"Swim_male","3":"0"},{"1":"Field_male","2":"Swim_male","3":"0"},{"1":"Gym_female","2":"Swim_male","3":"0"},{"1":"Netball_female","2":"Swim_male","3":"0"},{"1":"Row_female","2":"Swim_male","3":"1"},{"1":"Row_male","2":"Swim_male","3":"0"},{"1":"Swim_female","2":"Swim_male","3":"0"},{"1":"Swim_male","2":"Swim_male","3":"0"},{"1":"T400m_female","2":"Swim_male","3":"0"},{"1":"T400m_male","2":"Swim_male","3":"0"},{"1":"Tennis_female","2":"Swim_male","3":"0"},{"1":"Tennis_male","2":"Swim_male","3":"0"},{"1":"TSprnt_female","2":"Swim_male","3":"0"},{"1":"TSprnt_male","2":"Swim_male","3":"0"},{"1":"WPolo_male","2":"Swim_male","3":"0"},{"1":"BBall_female","2":"T400m_female","3":"0"},{"1":"BBall_male","2":"T400m_female","3":"0"},{"1":"Field_female","2":"T400m_female","3":"1"},{"1":"Field_male","2":"T400m_female","3":"0"},{"1":"Gym_female","2":"T400m_female","3":"0"},{"1":"Netball_female","2":"T400m_female","3":"1"},{"1":"Row_female","2":"T400m_female","3":"0"},{"1":"Row_male","2":"T400m_female","3":"1"},{"1":"Swim_female","2":"T400m_female","3":"3"},{"1":"Swim_male","2":"T400m_female","3":"0"},{"1":"T400m_female","2":"T400m_female","3":"6"},{"1":"T400m_male","2":"T400m_female","3":"1"},{"1":"Tennis_female","2":"T400m_female","3":"2"},{"1":"Tennis_male","2":"T400m_female","3":"0"},{"1":"TSprnt_female","2":"T400m_female","3":"2"},{"1":"TSprnt_male","2":"T400m_female","3":"0"},{"1":"WPolo_male","2":"T400m_female","3":"0"},{"1":"BBall_female","2":"T400m_male","3":"2"},{"1":"BBall_male","2":"T400m_male","3":"0"},{"1":"Field_female","2":"T400m_male","3":"0"},{"1":"Field_male","2":"T400m_male","3":"0"},{"1":"Gym_female","2":"T400m_male","3":"0"},{"1":"Netball_female","2":"T400m_male","3":"4"},{"1":"Row_female","2":"T400m_male","3":"4"},{"1":"Row_male","2":"T400m_male","3":"0"},{"1":"Swim_female","2":"T400m_male","3":"1"},{"1":"Swim_male","2":"T400m_male","3":"1"},{"1":"T400m_female","2":"T400m_male","3":"2"},{"1":"T400m_male","2":"T400m_male","3":"5"},{"1":"Tennis_female","2":"T400m_male","3":"1"},{"1":"Tennis_male","2":"T400m_male","3":"0"},{"1":"TSprnt_female","2":"T400m_male","3":"1"},{"1":"TSprnt_male","2":"T400m_male","3":"0"},{"1":"WPolo_male","2":"T400m_male","3":"0"},{"1":"BBall_female","2":"Tennis_female","3":"0"},{"1":"BBall_male","2":"Tennis_female","3":"0"},{"1":"Field_female","2":"Tennis_female","3":"0"},{"1":"Field_male","2":"Tennis_female","3":"0"},{"1":"Gym_female","2":"Tennis_female","3":"0"},{"1":"Netball_female","2":"Tennis_female","3":"0"},{"1":"Row_female","2":"Tennis_female","3":"0"},{"1":"Row_male","2":"Tennis_female","3":"0"},{"1":"Swim_female","2":"Tennis_female","3":"0"},{"1":"Swim_male","2":"Tennis_female","3":"0"},{"1":"T400m_female","2":"Tennis_female","3":"0"},{"1":"T400m_male","2":"Tennis_female","3":"0"},{"1":"Tennis_female","2":"Tennis_female","3":"0"},{"1":"Tennis_male","2":"Tennis_female","3":"0"},{"1":"TSprnt_female","2":"Tennis_female","3":"0"},{"1":"TSprnt_male","2":"Tennis_female","3":"0"},{"1":"WPolo_male","2":"Tennis_female","3":"0"},{"1":"BBall_female","2":"Tennis_male","3":"0"},{"1":"BBall_male","2":"Tennis_male","3":"0"},{"1":"Field_female","2":"Tennis_male","3":"0"},{"1":"Field_male","2":"Tennis_male","3":"0"},{"1":"Gym_female","2":"Tennis_male","3":"0"},{"1":"Netball_female","2":"Tennis_male","3":"0"},{"1":"Row_female","2":"Tennis_male","3":"0"},{"1":"Row_male","2":"Tennis_male","3":"0"},{"1":"Swim_female","2":"Tennis_male","3":"0"},{"1":"Swim_male","2":"Tennis_male","3":"0"},{"1":"T400m_female","2":"Tennis_male","3":"0"},{"1":"T400m_male","2":"Tennis_male","3":"0"},{"1":"Tennis_female","2":"Tennis_male","3":"0"},{"1":"Tennis_male","2":"Tennis_male","3":"0"},{"1":"TSprnt_female","2":"Tennis_male","3":"0"},{"1":"TSprnt_male","2":"Tennis_male","3":"0"},{"1":"WPolo_male","2":"Tennis_male","3":"0"},{"1":"BBall_female","2":"TSprnt_female","3":"0"},{"1":"BBall_male","2":"TSprnt_female","3":"0"},{"1":"Field_female","2":"TSprnt_female","3":"0"},{"1":"Field_male","2":"TSprnt_female","3":"0"},{"1":"Gym_female","2":"TSprnt_female","3":"0"},{"1":"Netball_female","2":"TSprnt_female","3":"0"},{"1":"Row_female","2":"TSprnt_female","3":"0"},{"1":"Row_male","2":"TSprnt_female","3":"0"},{"1":"Swim_female","2":"TSprnt_female","3":"0"},{"1":"Swim_male","2":"TSprnt_female","3":"0"},{"1":"T400m_female","2":"TSprnt_female","3":"0"},{"1":"T400m_male","2":"TSprnt_female","3":"0"},{"1":"Tennis_female","2":"TSprnt_female","3":"0"},{"1":"Tennis_male","2":"TSprnt_female","3":"0"},{"1":"TSprnt_female","2":"TSprnt_female","3":"0"},{"1":"TSprnt_male","2":"TSprnt_female","3":"0"},{"1":"WPolo_male","2":"TSprnt_female","3":"0"},{"1":"BBall_female","2":"TSprnt_male","3":"0"},{"1":"BBall_male","2":"TSprnt_male","3":"0"},{"1":"Field_female","2":"TSprnt_male","3":"0"},{"1":"Field_male","2":"TSprnt_male","3":"0"},{"1":"Gym_female","2":"TSprnt_male","3":"0"},{"1":"Netball_female","2":"TSprnt_male","3":"0"},{"1":"Row_female","2":"TSprnt_male","3":"0"},{"1":"Row_male","2":"TSprnt_male","3":"0"},{"1":"Swim_female","2":"TSprnt_male","3":"0"},{"1":"Swim_male","2":"TSprnt_male","3":"0"},{"1":"T400m_female","2":"TSprnt_male","3":"0"},{"1":"T400m_male","2":"TSprnt_male","3":"0"},{"1":"Tennis_female","2":"TSprnt_male","3":"0"},{"1":"Tennis_male","2":"TSprnt_male","3":"0"},{"1":"TSprnt_female","2":"TSprnt_male","3":"0"},{"1":"TSprnt_male","2":"TSprnt_male","3":"0"},{"1":"WPolo_male","2":"TSprnt_male","3":"0"},{"1":"BBall_female","2":"WPolo_male","3":"1"},{"1":"BBall_male","2":"WPolo_male","3":"1"},{"1":"Field_female","2":"WPolo_male","3":"0"},{"1":"Field_male","2":"WPolo_male","3":"2"},{"1":"Gym_female","2":"WPolo_male","3":"0"},{"1":"Netball_female","2":"WPolo_male","3":"0"},{"1":"Row_female","2":"WPolo_male","3":"1"},{"1":"Row_male","2":"WPolo_male","3":"10"},{"1":"Swim_female","2":"WPolo_male","3":"0"},{"1":"Swim_male","2":"WPolo_male","3":"3"},{"1":"T400m_female","2":"WPolo_male","3":"0"},{"1":"T400m_male","2":"WPolo_male","3":"0"},{"1":"Tennis_female","2":"WPolo_male","3":"0"},{"1":"Tennis_male","2":"WPolo_male","3":"0"},{"1":"TSprnt_female","2":"WPolo_male","3":"0"},{"1":"TSprnt_male","2":"WPolo_male","3":"2"},{"1":"WPolo_male","2":"WPolo_male","3":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This makes the <code>tidyverse</code> output, with frequencies. You probably want to omit the zero ones:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"BBall_female","2":"BBall_female","3":"3"},{"1":"T400m_male","2":"BBall_female","3":"3"},{"1":"Tennis_male","2":"BBall_female","3":"1"},{"1":"WPolo_male","2":"BBall_female","3":"1"},{"1":"BBall_female","2":"BBall_male","3":"1"},{"1":"BBall_male","2":"BBall_male","3":"9"},{"1":"Field_male","2":"BBall_male","3":"1"},{"1":"Row_male","2":"BBall_male","3":"2"},{"1":"Swim_male","2":"BBall_male","3":"4"},{"1":"T400m_male","2":"BBall_male","3":"1"},{"1":"WPolo_male","2":"BBall_male","3":"3"},{"1":"Field_female","2":"Field_female","3":"5"},{"1":"Netball_female","2":"Field_female","3":"1"},{"1":"Tennis_female","2":"Field_female","3":"1"},{"1":"Field_male","2":"Field_male","3":"7"},{"1":"Row_male","2":"Field_male","3":"1"},{"1":"WPolo_male","2":"Field_male","3":"2"},{"1":"Gym_female","2":"Gym_female","3":"4"},{"1":"Row_female","2":"Gym_female","3":"1"},{"1":"Tennis_female","2":"Gym_female","3":"1"},{"1":"BBall_female","2":"Netball_female","3":"5"},{"1":"Field_female","2":"Netball_female","3":"1"},{"1":"Netball_female","2":"Netball_female","3":"13"},{"1":"Row_female","2":"Netball_female","3":"5"},{"1":"Swim_female","2":"Netball_female","3":"4"},{"1":"Swim_male","2":"Netball_female","3":"2"},{"1":"T400m_female","2":"Netball_female","3":"3"},{"1":"T400m_male","2":"Netball_female","3":"5"},{"1":"Tennis_female","2":"Netball_female","3":"2"},{"1":"TSprnt_female","2":"Netball_female","3":"1"},{"1":"TSprnt_male","2":"Netball_female","3":"6"},{"1":"BBall_female","2":"Row_female","3":"1"},{"1":"Field_male","2":"Row_female","3":"2"},{"1":"Netball_female","2":"Row_female","3":"4"},{"1":"Row_female","2":"Row_female","3":"10"},{"1":"Swim_female","2":"Row_female","3":"1"},{"1":"Swim_male","2":"Row_female","3":"3"},{"1":"T400m_male","2":"Row_female","3":"3"},{"1":"Tennis_male","2":"Row_female","3":"3"},{"1":"TSprnt_male","2":"Row_female","3":"3"},{"1":"WPolo_male","2":"Row_female","3":"3"},{"1":"Row_male","2":"Row_male","3":"1"},{"1":"WPolo_male","2":"Row_male","3":"1"},{"1":"BBall_male","2":"Swim_male","3":"2"},{"1":"Row_female","2":"Swim_male","3":"1"},{"1":"Field_female","2":"T400m_female","3":"1"},{"1":"Netball_female","2":"T400m_female","3":"1"},{"1":"Row_male","2":"T400m_female","3":"1"},{"1":"Swim_female","2":"T400m_female","3":"3"},{"1":"T400m_female","2":"T400m_female","3":"6"},{"1":"T400m_male","2":"T400m_female","3":"1"},{"1":"Tennis_female","2":"T400m_female","3":"2"},{"1":"TSprnt_female","2":"T400m_female","3":"2"},{"1":"BBall_female","2":"T400m_male","3":"2"},{"1":"Netball_female","2":"T400m_male","3":"4"},{"1":"Row_female","2":"T400m_male","3":"4"},{"1":"Swim_female","2":"T400m_male","3":"1"},{"1":"Swim_male","2":"T400m_male","3":"1"},{"1":"T400m_female","2":"T400m_male","3":"2"},{"1":"T400m_male","2":"T400m_male","3":"5"},{"1":"Tennis_female","2":"T400m_male","3":"1"},{"1":"TSprnt_female","2":"T400m_male","3":"1"},{"1":"BBall_female","2":"WPolo_male","3":"1"},{"1":"BBall_male","2":"WPolo_male","3":"1"},{"1":"Field_male","2":"WPolo_male","3":"2"},{"1":"Row_female","2":"WPolo_male","3":"1"},{"1":"Row_male","2":"WPolo_male","3":"10"},{"1":"Swim_male","2":"WPolo_male","3":"3"},{"1":"TSprnt_male","2":"WPolo_male","3":"2"},{"1":"WPolo_male","2":"WPolo_male","3":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This is the same output as below. See there for comments.</p>
<p>The other, perhaps easier, way to tackle this one is the <code>tidyverse</code> way, making a “long” table of frequencies. Here is some of it. You’ll be able to click to see more:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">count</span>(combo, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"BBall_female","2":"BBall_female","3":"3"},{"1":"BBall_female","2":"BBall_male","3":"1"},{"1":"BBall_female","2":"Netball_female","3":"5"},{"1":"BBall_female","2":"Row_female","3":"1"},{"1":"BBall_female","2":"T400m_male","3":"2"},{"1":"BBall_female","2":"WPolo_male","3":"1"},{"1":"BBall_male","2":"BBall_male","3":"9"},{"1":"BBall_male","2":"Swim_male","3":"2"},{"1":"BBall_male","2":"WPolo_male","3":"1"},{"1":"Field_female","2":"Field_female","3":"5"},{"1":"Field_female","2":"Netball_female","3":"1"},{"1":"Field_female","2":"T400m_female","3":"1"},{"1":"Field_male","2":"BBall_male","3":"1"},{"1":"Field_male","2":"Field_male","3":"7"},{"1":"Field_male","2":"Row_female","3":"2"},{"1":"Field_male","2":"WPolo_male","3":"2"},{"1":"Gym_female","2":"Gym_female","3":"4"},{"1":"Netball_female","2":"Field_female","3":"1"},{"1":"Netball_female","2":"Netball_female","3":"13"},{"1":"Netball_female","2":"Row_female","3":"4"},{"1":"Netball_female","2":"T400m_female","3":"1"},{"1":"Netball_female","2":"T400m_male","3":"4"},{"1":"Row_female","2":"Gym_female","3":"1"},{"1":"Row_female","2":"Netball_female","3":"5"},{"1":"Row_female","2":"Row_female","3":"10"},{"1":"Row_female","2":"Swim_male","3":"1"},{"1":"Row_female","2":"T400m_male","3":"4"},{"1":"Row_female","2":"WPolo_male","3":"1"},{"1":"Row_male","2":"BBall_male","3":"2"},{"1":"Row_male","2":"Field_male","3":"1"},{"1":"Row_male","2":"Row_male","3":"1"},{"1":"Row_male","2":"T400m_female","3":"1"},{"1":"Row_male","2":"WPolo_male","3":"10"},{"1":"Swim_female","2":"Netball_female","3":"4"},{"1":"Swim_female","2":"Row_female","3":"1"},{"1":"Swim_female","2":"T400m_female","3":"3"},{"1":"Swim_female","2":"T400m_male","3":"1"},{"1":"Swim_male","2":"BBall_male","3":"4"},{"1":"Swim_male","2":"Netball_female","3":"2"},{"1":"Swim_male","2":"Row_female","3":"3"},{"1":"Swim_male","2":"T400m_male","3":"1"},{"1":"Swim_male","2":"WPolo_male","3":"3"},{"1":"T400m_female","2":"Netball_female","3":"3"},{"1":"T400m_female","2":"T400m_female","3":"6"},{"1":"T400m_female","2":"T400m_male","3":"2"},{"1":"T400m_male","2":"BBall_female","3":"3"},{"1":"T400m_male","2":"BBall_male","3":"1"},{"1":"T400m_male","2":"Netball_female","3":"5"},{"1":"T400m_male","2":"Row_female","3":"3"},{"1":"T400m_male","2":"T400m_female","3":"1"},{"1":"T400m_male","2":"T400m_male","3":"5"},{"1":"TSprnt_female","2":"Netball_female","3":"1"},{"1":"TSprnt_female","2":"T400m_female","3":"2"},{"1":"TSprnt_female","2":"T400m_male","3":"1"},{"1":"TSprnt_male","2":"Netball_female","3":"6"},{"1":"TSprnt_male","2":"Row_female","3":"3"},{"1":"TSprnt_male","2":"WPolo_male","3":"2"},{"1":"Tennis_female","2":"Field_female","3":"1"},{"1":"Tennis_female","2":"Gym_female","3":"1"},{"1":"Tennis_female","2":"Netball_female","3":"2"},{"1":"Tennis_female","2":"T400m_female","3":"2"},{"1":"Tennis_female","2":"T400m_male","3":"1"},{"1":"Tennis_male","2":"BBall_female","3":"1"},{"1":"Tennis_male","2":"Row_female","3":"3"},{"1":"WPolo_male","2":"BBall_female","3":"1"},{"1":"WPolo_male","2":"BBall_male","3":"3"},{"1":"WPolo_male","2":"Field_male","3":"2"},{"1":"WPolo_male","2":"Row_female","3":"3"},{"1":"WPolo_male","2":"Row_male","3":"1"},{"1":"WPolo_male","2":"WPolo_male","3":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The zeroes never show up here. The <code>combo</code> column is the truth, and the <code>class</code> column is the prediction. Again, you can see where the big frequencies are; a lot of the female netball players were gotten right, but there were a lot of them to begin with.</p>
<p>Extra: let’s see if we can work out <em>proportions</em> correct. I’ve changed my mind from how I originally wrote this. I still use <code>count</code>, but I start with the overall misclassification. Let’s take it in steps:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["stat"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"BBall_female","2":"BBall_female","3":"3","4":"correct"},{"1":"BBall_female","2":"BBall_male","3":"1","4":"wrong"},{"1":"BBall_female","2":"Netball_female","3":"5","4":"wrong"},{"1":"BBall_female","2":"Row_female","3":"1","4":"wrong"},{"1":"BBall_female","2":"T400m_male","3":"2","4":"wrong"},{"1":"BBall_female","2":"WPolo_male","3":"1","4":"wrong"},{"1":"BBall_male","2":"BBall_male","3":"9","4":"correct"},{"1":"BBall_male","2":"Swim_male","3":"2","4":"wrong"},{"1":"BBall_male","2":"WPolo_male","3":"1","4":"wrong"},{"1":"Field_female","2":"Field_female","3":"5","4":"correct"},{"1":"Field_female","2":"Netball_female","3":"1","4":"wrong"},{"1":"Field_female","2":"T400m_female","3":"1","4":"wrong"},{"1":"Field_male","2":"BBall_male","3":"1","4":"wrong"},{"1":"Field_male","2":"Field_male","3":"7","4":"correct"},{"1":"Field_male","2":"Row_female","3":"2","4":"wrong"},{"1":"Field_male","2":"WPolo_male","3":"2","4":"wrong"},{"1":"Gym_female","2":"Gym_female","3":"4","4":"correct"},{"1":"Netball_female","2":"Field_female","3":"1","4":"wrong"},{"1":"Netball_female","2":"Netball_female","3":"13","4":"correct"},{"1":"Netball_female","2":"Row_female","3":"4","4":"wrong"},{"1":"Netball_female","2":"T400m_female","3":"1","4":"wrong"},{"1":"Netball_female","2":"T400m_male","3":"4","4":"wrong"},{"1":"Row_female","2":"Gym_female","3":"1","4":"wrong"},{"1":"Row_female","2":"Netball_female","3":"5","4":"wrong"},{"1":"Row_female","2":"Row_female","3":"10","4":"correct"},{"1":"Row_female","2":"Swim_male","3":"1","4":"wrong"},{"1":"Row_female","2":"T400m_male","3":"4","4":"wrong"},{"1":"Row_female","2":"WPolo_male","3":"1","4":"wrong"},{"1":"Row_male","2":"BBall_male","3":"2","4":"wrong"},{"1":"Row_male","2":"Field_male","3":"1","4":"wrong"},{"1":"Row_male","2":"Row_male","3":"1","4":"correct"},{"1":"Row_male","2":"T400m_female","3":"1","4":"wrong"},{"1":"Row_male","2":"WPolo_male","3":"10","4":"wrong"},{"1":"Swim_female","2":"Netball_female","3":"4","4":"wrong"},{"1":"Swim_female","2":"Row_female","3":"1","4":"wrong"},{"1":"Swim_female","2":"T400m_female","3":"3","4":"wrong"},{"1":"Swim_female","2":"T400m_male","3":"1","4":"wrong"},{"1":"Swim_male","2":"BBall_male","3":"4","4":"wrong"},{"1":"Swim_male","2":"Netball_female","3":"2","4":"wrong"},{"1":"Swim_male","2":"Row_female","3":"3","4":"wrong"},{"1":"Swim_male","2":"T400m_male","3":"1","4":"wrong"},{"1":"Swim_male","2":"WPolo_male","3":"3","4":"wrong"},{"1":"T400m_female","2":"Netball_female","3":"3","4":"wrong"},{"1":"T400m_female","2":"T400m_female","3":"6","4":"correct"},{"1":"T400m_female","2":"T400m_male","3":"2","4":"wrong"},{"1":"T400m_male","2":"BBall_female","3":"3","4":"wrong"},{"1":"T400m_male","2":"BBall_male","3":"1","4":"wrong"},{"1":"T400m_male","2":"Netball_female","3":"5","4":"wrong"},{"1":"T400m_male","2":"Row_female","3":"3","4":"wrong"},{"1":"T400m_male","2":"T400m_female","3":"1","4":"wrong"},{"1":"T400m_male","2":"T400m_male","3":"5","4":"correct"},{"1":"TSprnt_female","2":"Netball_female","3":"1","4":"wrong"},{"1":"TSprnt_female","2":"T400m_female","3":"2","4":"wrong"},{"1":"TSprnt_female","2":"T400m_male","3":"1","4":"wrong"},{"1":"TSprnt_male","2":"Netball_female","3":"6","4":"wrong"},{"1":"TSprnt_male","2":"Row_female","3":"3","4":"wrong"},{"1":"TSprnt_male","2":"WPolo_male","3":"2","4":"wrong"},{"1":"Tennis_female","2":"Field_female","3":"1","4":"wrong"},{"1":"Tennis_female","2":"Gym_female","3":"1","4":"wrong"},{"1":"Tennis_female","2":"Netball_female","3":"2","4":"wrong"},{"1":"Tennis_female","2":"T400m_female","3":"2","4":"wrong"},{"1":"Tennis_female","2":"T400m_male","3":"1","4":"wrong"},{"1":"Tennis_male","2":"BBall_female","3":"1","4":"wrong"},{"1":"Tennis_male","2":"Row_female","3":"3","4":"wrong"},{"1":"WPolo_male","2":"BBall_female","3":"1","4":"wrong"},{"1":"WPolo_male","2":"BBall_male","3":"3","4":"wrong"},{"1":"WPolo_male","2":"Field_male","3":"2","4":"wrong"},{"1":"WPolo_male","2":"Row_female","3":"3","4":"wrong"},{"1":"WPolo_male","2":"Row_male","3":"1","4":"wrong"},{"1":"WPolo_male","2":"WPolo_male","3":"7","4":"correct"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>That makes a new column <code>stat</code> that contains whether the predicted sport-gender combination was correct or wrong. For an overall misclassification rate we have to count these, but <em>not</em> simply counting the number of rows; rather, we need to total up the things in the <code>n</code> column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb220-3"><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb220-4"><a href="#cb220-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(stat, <span class="at">wt =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"correct","2":"70"},{"1":"wrong","2":"132"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This tells us how many predictions overall were right and how many wrong.</p>
<p>To make those into proportions, another <code>mutate</code>, dividing by the total of <code>n</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb221-5"><a href="#cb221-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"correct","2":"70","3":"0.3465347"},{"1":"wrong","2":"132","3":"0.6534653"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>65% of the sport-gender combinations were misclassified. This is awful, but is a lot better than guessing (we’d then get about 5% of them right and about 95% wrong).</p>
<p>There’s a subtlety here that will make sense when we do the corresponding calculation by sport-gender combination. To do <em>that</em>, we put a <code>group_by(combo)</code> either before or after we define <code>stat</code> (it doesn’t matter which way):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(combo) <span class="sc">%&gt;%</span></span>
<span id="cb222-4"><a href="#cb222-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb222-5"><a href="#cb222-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb222-6"><a href="#cb222-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["stat"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["proportion"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"BBall_female","2":"correct","3":"3","4":"0.23076923"},{"1":"BBall_female","2":"wrong","3":"10","4":"0.76923077"},{"1":"BBall_male","2":"correct","3":"9","4":"0.75000000"},{"1":"BBall_male","2":"wrong","3":"3","4":"0.25000000"},{"1":"Field_female","2":"correct","3":"5","4":"0.71428571"},{"1":"Field_female","2":"wrong","3":"2","4":"0.28571429"},{"1":"Field_male","2":"correct","3":"7","4":"0.58333333"},{"1":"Field_male","2":"wrong","3":"5","4":"0.41666667"},{"1":"Gym_female","2":"correct","3":"4","4":"1.00000000"},{"1":"Netball_female","2":"correct","3":"13","4":"0.56521739"},{"1":"Netball_female","2":"wrong","3":"10","4":"0.43478261"},{"1":"Row_female","2":"correct","3":"10","4":"0.45454545"},{"1":"Row_female","2":"wrong","3":"12","4":"0.54545455"},{"1":"Row_male","2":"correct","3":"1","4":"0.06666667"},{"1":"Row_male","2":"wrong","3":"14","4":"0.93333333"},{"1":"Swim_female","2":"wrong","3":"9","4":"1.00000000"},{"1":"Swim_male","2":"wrong","3":"13","4":"1.00000000"},{"1":"T400m_female","2":"correct","3":"6","4":"0.54545455"},{"1":"T400m_female","2":"wrong","3":"5","4":"0.45454545"},{"1":"T400m_male","2":"correct","3":"5","4":"0.27777778"},{"1":"T400m_male","2":"wrong","3":"13","4":"0.72222222"},{"1":"TSprnt_female","2":"wrong","3":"4","4":"1.00000000"},{"1":"TSprnt_male","2":"wrong","3":"11","4":"1.00000000"},{"1":"Tennis_female","2":"wrong","3":"7","4":"1.00000000"},{"1":"Tennis_male","2":"wrong","3":"4","4":"1.00000000"},{"1":"WPolo_male","2":"correct","3":"7","4":"0.41176471"},{"1":"WPolo_male","2":"wrong","3":"10","4":"0.58823529"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>That last <code>sum(n)</code>: what is it summing over? The answer is “within <code>combo</code>”, since that is the <code>group_by</code>. You see that the two <code>proportion</code> values within, say, <code>BBall_female</code>, add up to 1.</p>
<p>We don’t actually see all the answers, because there are too many of them. Let’s try to get the proportion correct and wrong in their own columns. This almost works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(combo) <span class="sc">%&gt;%</span></span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb223-5"><a href="#cb223-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb223-6"><a href="#cb223-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb223-7"><a href="#cb223-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>stat, <span class="at">values_from=</span>proportion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["correct"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wrong"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"BBall_female","2":"3","3":"0.23076923","4":"NA"},{"1":"BBall_female","2":"10","3":"NA","4":"0.7692308"},{"1":"BBall_male","2":"9","3":"0.75000000","4":"NA"},{"1":"BBall_male","2":"3","3":"NA","4":"0.2500000"},{"1":"Field_female","2":"5","3":"0.71428571","4":"NA"},{"1":"Field_female","2":"2","3":"NA","4":"0.2857143"},{"1":"Field_male","2":"7","3":"0.58333333","4":"NA"},{"1":"Field_male","2":"5","3":"NA","4":"0.4166667"},{"1":"Gym_female","2":"4","3":"1.00000000","4":"NA"},{"1":"Netball_female","2":"13","3":"0.56521739","4":"NA"},{"1":"Netball_female","2":"10","3":"NA","4":"0.4347826"},{"1":"Row_female","2":"10","3":"0.45454545","4":"NA"},{"1":"Row_female","2":"12","3":"NA","4":"0.5454545"},{"1":"Row_male","2":"1","3":"0.06666667","4":"NA"},{"1":"Row_male","2":"14","3":"NA","4":"0.9333333"},{"1":"Swim_female","2":"9","3":"NA","4":"1.0000000"},{"1":"Swim_male","2":"13","3":"NA","4":"1.0000000"},{"1":"T400m_female","2":"6","3":"0.54545455","4":"NA"},{"1":"T400m_female","2":"5","3":"NA","4":"0.4545455"},{"1":"T400m_male","2":"5","3":"0.27777778","4":"NA"},{"1":"T400m_male","2":"13","3":"NA","4":"0.7222222"},{"1":"TSprnt_female","2":"4","3":"NA","4":"1.0000000"},{"1":"TSprnt_male","2":"11","3":"NA","4":"1.0000000"},{"1":"Tennis_female","2":"7","3":"NA","4":"1.0000000"},{"1":"Tennis_male","2":"4","3":"NA","4":"1.0000000"},{"1":"WPolo_male","2":"7","3":"0.41176471","4":"NA"},{"1":"WPolo_male","2":"10","3":"NA","4":"0.5882353"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This doesn’t work because everything outside of the <code>pivot_wider</code> is tested for uniqueness; if it’s unique, it gets its own row. Thus, <code>BBall_male</code> and 3 is different from <code>BBall_male</code> and 9. But we only want one row of <code>BBall_male</code>. I think the easiest way around this is to get rid of <code>n</code>, since it has served its purpose:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb224-3"><a href="#cb224-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(combo) <span class="sc">%&gt;%</span></span>
<span id="cb224-4"><a href="#cb224-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb224-5"><a href="#cb224-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb224-6"><a href="#cb224-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb224-7"><a href="#cb224-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb224-8"><a href="#cb224-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>stat, <span class="at">values_from=</span>proportion, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">proportion=</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["correct"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["wrong"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"BBall_female","2":"0.23076923","3":"0.7692308"},{"1":"BBall_male","2":"0.75000000","3":"0.2500000"},{"1":"Field_female","2":"0.71428571","3":"0.2857143"},{"1":"Field_male","2":"0.58333333","3":"0.4166667"},{"1":"Gym_female","2":"1.00000000","3":"0.0000000"},{"1":"Netball_female","2":"0.56521739","3":"0.4347826"},{"1":"Row_female","2":"0.45454545","3":"0.5454545"},{"1":"Row_male","2":"0.06666667","3":"0.9333333"},{"1":"Swim_female","2":"0.00000000","3":"1.0000000"},{"1":"Swim_male","2":"0.00000000","3":"1.0000000"},{"1":"T400m_female","2":"0.54545455","3":"0.4545455"},{"1":"T400m_male","2":"0.27777778","3":"0.7222222"},{"1":"TSprnt_female","2":"0.00000000","3":"1.0000000"},{"1":"TSprnt_male","2":"0.00000000","3":"1.0000000"},{"1":"Tennis_female","2":"0.00000000","3":"1.0000000"},{"1":"Tennis_male","2":"0.00000000","3":"1.0000000"},{"1":"WPolo_male","2":"0.41176471","3":"0.5882353"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>One extra thing: some of the <code>proportion</code> values were missing, because there weren’t any misclassified (or maybe correctly-classified!) athletes. The <code>values_fill</code> sets any missings in <code>proportion</code> to zero.</p>
<p>While we’re about it, let’s arrange in order of misclassification probability:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(combo) <span class="sc">%&gt;%</span></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(stat, <span class="at">wt =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span>stat, <span class="at">values_from=</span>proportion, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">proportion=</span><span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb225-9"><a href="#cb225-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">correct =</span> <span class="dv">0</span>, <span class="at">wrong =</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb225-10"><a href="#cb225-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(wrong)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["correct"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["wrong"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Gym_female","2":"1.00000000","3":"0.0000000"},{"1":"BBall_male","2":"0.75000000","3":"0.2500000"},{"1":"Field_female","2":"0.71428571","3":"0.2857143"},{"1":"Field_male","2":"0.58333333","3":"0.4166667"},{"1":"Netball_female","2":"0.56521739","3":"0.4347826"},{"1":"T400m_female","2":"0.54545455","3":"0.4545455"},{"1":"Row_female","2":"0.45454545","3":"0.5454545"},{"1":"WPolo_male","2":"0.41176471","3":"0.5882353"},{"1":"T400m_male","2":"0.27777778","3":"0.7222222"},{"1":"BBall_female","2":"0.23076923","3":"0.7692308"},{"1":"Row_male","2":"0.06666667","3":"0.9333333"},{"1":"Swim_female","2":"0.00000000","3":"1.0000000"},{"1":"Swim_male","2":"0.00000000","3":"1.0000000"},{"1":"TSprnt_female","2":"0.00000000","3":"1.0000000"},{"1":"TSprnt_male","2":"0.00000000","3":"1.0000000"},{"1":"Tennis_female","2":"0.00000000","3":"1.0000000"},{"1":"Tennis_male","2":"0.00000000","3":"1.0000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The most distinctive athletes were the female gymnasts (tiny!), followed by the male basketball players (tall) and the female field athletes (heavy). These were easiest to predict from their height and weight. The ones at the bottom of the list were very confusible since the discriminant analysis guessed them all wrong! So what were the most common <em>misclassifications</em>? Let’s go back to this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["RCC"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["WCC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Hc"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Hg"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Ferr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["BMI"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["SSF"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["%Bfat"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["LBM"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["Ht"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Wt"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["class"],"name":[13],"type":["fct"],"align":["left"]},{"label":["posterior.BBall_female"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["posterior.BBall_male"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["posterior.Field_female"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["posterior.Field_male"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["posterior.Gym_female"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["posterior.Netball_female"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["posterior.Row_female"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["posterior.Row_male"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["posterior.Swim_female"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["posterior.Swim_male"],"name":[23],"type":["dbl"],"align":["right"]},{"label":["posterior.T400m_female"],"name":[24],"type":["dbl"],"align":["right"]},{"label":["posterior.T400m_male"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["posterior.Tennis_female"],"name":[26],"type":["dbl"],"align":["right"]},{"label":["posterior.Tennis_male"],"name":[27],"type":["dbl"],"align":["right"]},{"label":["posterior.TSprnt_female"],"name":[28],"type":["dbl"],"align":["right"]},{"label":["posterior.TSprnt_male"],"name":[29],"type":["dbl"],"align":["right"]},{"label":["posterior.WPolo_male"],"name":[30],"type":["dbl"],"align":["right"]},{"label":["x.LD1"],"name":[31],"type":["dbl"],"align":["right"]},{"label":["x.LD2"],"name":[32],"type":["dbl"],"align":["right"]}],"data":[{"1":"Netball_female","2":"4.56","3":"13.3","4":"42.2","5":"13.6","6":"20","7":"19.16","8":"49.0","9":"11.29","10":"53.14","11":"176.8","12":"59.9","13":"T400m_male","14":"0.12348360","15":"3.479619e-04","16":"0.0002835604","17":"1.460578e-05","18":"4.206308e-05","19":"0.1699941","20":"0.1241779","21":"0.0023825007","22":"0.07434038","23":"0.011678465","24":"0.103051973","25":"0.25594274","26":"0.047204095","27":"0.017883433","28":"0.040192120","29":"0.02616911","30":"0.0028113441","31":"-1.3251857","32":"-1.34799600","_rn_":"1"},{"1":"Netball_female","2":"4.15","3":"6.0","4":"38.0","5":"12.7","6":"59","7":"21.15","8":"110.2","9":"25.26","10":"47.09","11":"172.6","12":"63.0","13":"Netball_female","14":"0.04927852","15":"7.263143e-05","16":"0.0041253799","17":"9.838207e-05","18":"3.101597e-04","19":"0.2333569","20":"0.1414225","21":"0.0025370630","22":"0.11730520","23":"0.009274681","24":"0.119270442","25":"0.13618567","26":"0.075858992","27":"0.008601514","28":"0.050772549","29":"0.04902216","30":"0.0025072687","31":"-1.4873604","32":"-0.15015145","_rn_":"2"},{"1":"Netball_female","2":"4.16","3":"7.6","4":"37.5","5":"12.3","6":"22","7":"21.40","8":"89.0","9":"19.39","10":"53.44","11":"176.0","12":"66.3","13":"Netball_female","14":"0.08402197","15":"4.567927e-04","16":"0.0032633771","17":"2.676308e-04","18":"3.414854e-05","19":"0.2291353","20":"0.1816810","21":"0.0077872436","22":"0.08659049","23":"0.023136399","24":"0.058696177","25":"0.17305732","26":"0.035224944","27":"0.017564554","28":"0.028170015","29":"0.06274649","30":"0.0081661381","31":"-0.9595628","32":"-0.36154960","_rn_":"3"},{"1":"Netball_female","2":"4.32","3":"6.4","4":"37.7","5":"12.3","6":"30","7":"21.03","8":"98.3","9":"19.63","10":"48.78","11":"169.9","12":"60.7","13":"Netball_female","14":"0.02820743","15":"1.539520e-05","16":"0.0048909758","17":"4.524089e-05","18":"1.531681e-03","19":"0.2122221","20":"0.1045723","21":"0.0009826883","22":"0.13254329","23":"0.004132741","24":"0.179336337","25":"0.09812128","26":"0.120824963","27":"0.004345342","28":"0.070141970","29":"0.03716409","30":"0.0009221631","31":"-1.8846129","32":"0.05956819","_rn_":"4"},{"1":"Netball_female","2":"4.06","3":"5.8","4":"38.7","5":"12.8","6":"78","7":"21.77","8":"122.1","9":"23.11","10":"56.05","11":"183.0","12":"72.9","13":"Row_female","14":"0.15383834","15":"1.197089e-02","16":"0.0011443415","17":"1.169322e-03","18":"2.247239e-07","19":"0.1326885","20":"0.1822427","21":"0.0456717871","22":"0.02802782","23":"0.089868173","24":"0.008428382","25":"0.17333438","26":"0.004456769","27":"0.046106286","28":"0.005144923","29":"0.06163897","30":"0.0542681927","31":"0.1138304","32":"-0.82211820","_rn_":"5"},{"1":"Netball_female","2":"4.12","3":"6.1","4":"36.6","5":"11.8","6":"21","7":"21.38","8":"90.4","9":"16.86","10":"56.45","11":"178.2","12":"67.9","13":"Netball_female","14":"0.11219817","15":"1.320889e-03","16":"0.0021761290","17":"3.751161e-04","18":"8.019783e-06","19":"0.2054332","20":"0.1917380","21":"0.0133925352","22":"0.06557996","23":"0.036249576","24":"0.036328215","25":"0.19213811","26":"0.020599135","27":"0.025565109","28":"0.018513425","29":"0.06367698","30":"0.0147074229","31":"-0.6545817","32":"-0.56820566","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["stat"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"BBall_female","2":"BBall_female","3":"3","4":"correct"},{"1":"BBall_female","2":"BBall_male","3":"1","4":"wrong"},{"1":"BBall_female","2":"Netball_female","3":"5","4":"wrong"},{"1":"BBall_female","2":"Row_female","3":"1","4":"wrong"},{"1":"BBall_female","2":"T400m_male","3":"2","4":"wrong"},{"1":"BBall_female","2":"WPolo_male","3":"1","4":"wrong"},{"1":"BBall_male","2":"BBall_male","3":"9","4":"correct"},{"1":"BBall_male","2":"Swim_male","3":"2","4":"wrong"},{"1":"BBall_male","2":"WPolo_male","3":"1","4":"wrong"},{"1":"Field_female","2":"Field_female","3":"5","4":"correct"},{"1":"Field_female","2":"Netball_female","3":"1","4":"wrong"},{"1":"Field_female","2":"T400m_female","3":"1","4":"wrong"},{"1":"Field_male","2":"BBall_male","3":"1","4":"wrong"},{"1":"Field_male","2":"Field_male","3":"7","4":"correct"},{"1":"Field_male","2":"Row_female","3":"2","4":"wrong"},{"1":"Field_male","2":"WPolo_male","3":"2","4":"wrong"},{"1":"Gym_female","2":"Gym_female","3":"4","4":"correct"},{"1":"Netball_female","2":"Field_female","3":"1","4":"wrong"},{"1":"Netball_female","2":"Netball_female","3":"13","4":"correct"},{"1":"Netball_female","2":"Row_female","3":"4","4":"wrong"},{"1":"Netball_female","2":"T400m_female","3":"1","4":"wrong"},{"1":"Netball_female","2":"T400m_male","3":"4","4":"wrong"},{"1":"Row_female","2":"Gym_female","3":"1","4":"wrong"},{"1":"Row_female","2":"Netball_female","3":"5","4":"wrong"},{"1":"Row_female","2":"Row_female","3":"10","4":"correct"},{"1":"Row_female","2":"Swim_male","3":"1","4":"wrong"},{"1":"Row_female","2":"T400m_male","3":"4","4":"wrong"},{"1":"Row_female","2":"WPolo_male","3":"1","4":"wrong"},{"1":"Row_male","2":"BBall_male","3":"2","4":"wrong"},{"1":"Row_male","2":"Field_male","3":"1","4":"wrong"},{"1":"Row_male","2":"Row_male","3":"1","4":"correct"},{"1":"Row_male","2":"T400m_female","3":"1","4":"wrong"},{"1":"Row_male","2":"WPolo_male","3":"10","4":"wrong"},{"1":"Swim_female","2":"Netball_female","3":"4","4":"wrong"},{"1":"Swim_female","2":"Row_female","3":"1","4":"wrong"},{"1":"Swim_female","2":"T400m_female","3":"3","4":"wrong"},{"1":"Swim_female","2":"T400m_male","3":"1","4":"wrong"},{"1":"Swim_male","2":"BBall_male","3":"4","4":"wrong"},{"1":"Swim_male","2":"Netball_female","3":"2","4":"wrong"},{"1":"Swim_male","2":"Row_female","3":"3","4":"wrong"},{"1":"Swim_male","2":"T400m_male","3":"1","4":"wrong"},{"1":"Swim_male","2":"WPolo_male","3":"3","4":"wrong"},{"1":"T400m_female","2":"Netball_female","3":"3","4":"wrong"},{"1":"T400m_female","2":"T400m_female","3":"6","4":"correct"},{"1":"T400m_female","2":"T400m_male","3":"2","4":"wrong"},{"1":"T400m_male","2":"BBall_female","3":"3","4":"wrong"},{"1":"T400m_male","2":"BBall_male","3":"1","4":"wrong"},{"1":"T400m_male","2":"Netball_female","3":"5","4":"wrong"},{"1":"T400m_male","2":"Row_female","3":"3","4":"wrong"},{"1":"T400m_male","2":"T400m_female","3":"1","4":"wrong"},{"1":"T400m_male","2":"T400m_male","3":"5","4":"correct"},{"1":"TSprnt_female","2":"Netball_female","3":"1","4":"wrong"},{"1":"TSprnt_female","2":"T400m_female","3":"2","4":"wrong"},{"1":"TSprnt_female","2":"T400m_male","3":"1","4":"wrong"},{"1":"TSprnt_male","2":"Netball_female","3":"6","4":"wrong"},{"1":"TSprnt_male","2":"Row_female","3":"3","4":"wrong"},{"1":"TSprnt_male","2":"WPolo_male","3":"2","4":"wrong"},{"1":"Tennis_female","2":"Field_female","3":"1","4":"wrong"},{"1":"Tennis_female","2":"Gym_female","3":"1","4":"wrong"},{"1":"Tennis_female","2":"Netball_female","3":"2","4":"wrong"},{"1":"Tennis_female","2":"T400m_female","3":"2","4":"wrong"},{"1":"Tennis_female","2":"T400m_male","3":"1","4":"wrong"},{"1":"Tennis_male","2":"BBall_female","3":"1","4":"wrong"},{"1":"Tennis_male","2":"Row_female","3":"3","4":"wrong"},{"1":"WPolo_male","2":"BBall_female","3":"1","4":"wrong"},{"1":"WPolo_male","2":"BBall_male","3":"3","4":"wrong"},{"1":"WPolo_male","2":"Field_male","3":"2","4":"wrong"},{"1":"WPolo_male","2":"Row_female","3":"3","4":"wrong"},{"1":"WPolo_male","2":"Row_male","3":"1","4":"wrong"},{"1":"WPolo_male","2":"WPolo_male","3":"7","4":"correct"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>We want to express those <code>n</code> values as proportions out of their actual sport-gender combo, so we group by <code>combo</code> before defining the proportions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(combo) <span class="sc">%&gt;%</span></span>
<span id="cb228-5"><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["stat"],"name":[4],"type":["chr"],"align":["left"]},{"label":["proportion"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"BBall_female","2":"BBall_female","3":"3","4":"correct","5":"0.23076923"},{"1":"BBall_female","2":"BBall_male","3":"1","4":"wrong","5":"0.07692308"},{"1":"BBall_female","2":"Netball_female","3":"5","4":"wrong","5":"0.38461538"},{"1":"BBall_female","2":"Row_female","3":"1","4":"wrong","5":"0.07692308"},{"1":"BBall_female","2":"T400m_male","3":"2","4":"wrong","5":"0.15384615"},{"1":"BBall_female","2":"WPolo_male","3":"1","4":"wrong","5":"0.07692308"},{"1":"BBall_male","2":"BBall_male","3":"9","4":"correct","5":"0.75000000"},{"1":"BBall_male","2":"Swim_male","3":"2","4":"wrong","5":"0.16666667"},{"1":"BBall_male","2":"WPolo_male","3":"1","4":"wrong","5":"0.08333333"},{"1":"Field_female","2":"Field_female","3":"5","4":"correct","5":"0.71428571"},{"1":"Field_female","2":"Netball_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Field_female","2":"T400m_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Field_male","2":"BBall_male","3":"1","4":"wrong","5":"0.08333333"},{"1":"Field_male","2":"Field_male","3":"7","4":"correct","5":"0.58333333"},{"1":"Field_male","2":"Row_female","3":"2","4":"wrong","5":"0.16666667"},{"1":"Field_male","2":"WPolo_male","3":"2","4":"wrong","5":"0.16666667"},{"1":"Gym_female","2":"Gym_female","3":"4","4":"correct","5":"1.00000000"},{"1":"Netball_female","2":"Field_female","3":"1","4":"wrong","5":"0.04347826"},{"1":"Netball_female","2":"Netball_female","3":"13","4":"correct","5":"0.56521739"},{"1":"Netball_female","2":"Row_female","3":"4","4":"wrong","5":"0.17391304"},{"1":"Netball_female","2":"T400m_female","3":"1","4":"wrong","5":"0.04347826"},{"1":"Netball_female","2":"T400m_male","3":"4","4":"wrong","5":"0.17391304"},{"1":"Row_female","2":"Gym_female","3":"1","4":"wrong","5":"0.04545455"},{"1":"Row_female","2":"Netball_female","3":"5","4":"wrong","5":"0.22727273"},{"1":"Row_female","2":"Row_female","3":"10","4":"correct","5":"0.45454545"},{"1":"Row_female","2":"Swim_male","3":"1","4":"wrong","5":"0.04545455"},{"1":"Row_female","2":"T400m_male","3":"4","4":"wrong","5":"0.18181818"},{"1":"Row_female","2":"WPolo_male","3":"1","4":"wrong","5":"0.04545455"},{"1":"Row_male","2":"BBall_male","3":"2","4":"wrong","5":"0.13333333"},{"1":"Row_male","2":"Field_male","3":"1","4":"wrong","5":"0.06666667"},{"1":"Row_male","2":"Row_male","3":"1","4":"correct","5":"0.06666667"},{"1":"Row_male","2":"T400m_female","3":"1","4":"wrong","5":"0.06666667"},{"1":"Row_male","2":"WPolo_male","3":"10","4":"wrong","5":"0.66666667"},{"1":"Swim_female","2":"Netball_female","3":"4","4":"wrong","5":"0.44444444"},{"1":"Swim_female","2":"Row_female","3":"1","4":"wrong","5":"0.11111111"},{"1":"Swim_female","2":"T400m_female","3":"3","4":"wrong","5":"0.33333333"},{"1":"Swim_female","2":"T400m_male","3":"1","4":"wrong","5":"0.11111111"},{"1":"Swim_male","2":"BBall_male","3":"4","4":"wrong","5":"0.30769231"},{"1":"Swim_male","2":"Netball_female","3":"2","4":"wrong","5":"0.15384615"},{"1":"Swim_male","2":"Row_female","3":"3","4":"wrong","5":"0.23076923"},{"1":"Swim_male","2":"T400m_male","3":"1","4":"wrong","5":"0.07692308"},{"1":"Swim_male","2":"WPolo_male","3":"3","4":"wrong","5":"0.23076923"},{"1":"T400m_female","2":"Netball_female","3":"3","4":"wrong","5":"0.27272727"},{"1":"T400m_female","2":"T400m_female","3":"6","4":"correct","5":"0.54545455"},{"1":"T400m_female","2":"T400m_male","3":"2","4":"wrong","5":"0.18181818"},{"1":"T400m_male","2":"BBall_female","3":"3","4":"wrong","5":"0.16666667"},{"1":"T400m_male","2":"BBall_male","3":"1","4":"wrong","5":"0.05555556"},{"1":"T400m_male","2":"Netball_female","3":"5","4":"wrong","5":"0.27777778"},{"1":"T400m_male","2":"Row_female","3":"3","4":"wrong","5":"0.16666667"},{"1":"T400m_male","2":"T400m_female","3":"1","4":"wrong","5":"0.05555556"},{"1":"T400m_male","2":"T400m_male","3":"5","4":"correct","5":"0.27777778"},{"1":"TSprnt_female","2":"Netball_female","3":"1","4":"wrong","5":"0.25000000"},{"1":"TSprnt_female","2":"T400m_female","3":"2","4":"wrong","5":"0.50000000"},{"1":"TSprnt_female","2":"T400m_male","3":"1","4":"wrong","5":"0.25000000"},{"1":"TSprnt_male","2":"Netball_female","3":"6","4":"wrong","5":"0.54545455"},{"1":"TSprnt_male","2":"Row_female","3":"3","4":"wrong","5":"0.27272727"},{"1":"TSprnt_male","2":"WPolo_male","3":"2","4":"wrong","5":"0.18181818"},{"1":"Tennis_female","2":"Field_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Tennis_female","2":"Gym_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Tennis_female","2":"Netball_female","3":"2","4":"wrong","5":"0.28571429"},{"1":"Tennis_female","2":"T400m_female","3":"2","4":"wrong","5":"0.28571429"},{"1":"Tennis_female","2":"T400m_male","3":"1","4":"wrong","5":"0.14285714"},{"1":"Tennis_male","2":"BBall_female","3":"1","4":"wrong","5":"0.25000000"},{"1":"Tennis_male","2":"Row_female","3":"3","4":"wrong","5":"0.75000000"},{"1":"WPolo_male","2":"BBall_female","3":"1","4":"wrong","5":"0.05882353"},{"1":"WPolo_male","2":"BBall_male","3":"3","4":"wrong","5":"0.17647059"},{"1":"WPolo_male","2":"Field_male","3":"2","4":"wrong","5":"0.11764706"},{"1":"WPolo_male","2":"Row_female","3":"3","4":"wrong","5":"0.17647059"},{"1":"WPolo_male","2":"Row_male","3":"1","4":"wrong","5":"0.05882353"},{"1":"WPolo_male","2":"WPolo_male","3":"7","4":"correct","5":"0.41176471"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Only pick out the ones that were gotten wrong, and arrange the remaining proportions in descending order:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(combo, class) <span class="sc">%&gt;%</span></span>
<span id="cb229-3"><a href="#cb229-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stat =</span> <span class="fu">ifelse</span>(combo <span class="sc">==</span> class, <span class="st">"correct"</span>, <span class="st">"wrong"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb229-4"><a href="#cb229-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(combo) <span class="sc">%&gt;%</span></span>
<span id="cb229-5"><a href="#cb229-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb229-6"><a href="#cb229-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stat <span class="sc">==</span> <span class="st">"wrong"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb229-7"><a href="#cb229-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(proportion))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["combo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["class"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["stat"],"name":[4],"type":["chr"],"align":["left"]},{"label":["proportion"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Tennis_male","2":"Row_female","3":"3","4":"wrong","5":"0.75000000"},{"1":"Row_male","2":"WPolo_male","3":"10","4":"wrong","5":"0.66666667"},{"1":"TSprnt_male","2":"Netball_female","3":"6","4":"wrong","5":"0.54545455"},{"1":"TSprnt_female","2":"T400m_female","3":"2","4":"wrong","5":"0.50000000"},{"1":"Swim_female","2":"Netball_female","3":"4","4":"wrong","5":"0.44444444"},{"1":"BBall_female","2":"Netball_female","3":"5","4":"wrong","5":"0.38461538"},{"1":"Swim_female","2":"T400m_female","3":"3","4":"wrong","5":"0.33333333"},{"1":"Swim_male","2":"BBall_male","3":"4","4":"wrong","5":"0.30769231"},{"1":"Tennis_female","2":"Netball_female","3":"2","4":"wrong","5":"0.28571429"},{"1":"Tennis_female","2":"T400m_female","3":"2","4":"wrong","5":"0.28571429"},{"1":"T400m_male","2":"Netball_female","3":"5","4":"wrong","5":"0.27777778"},{"1":"T400m_female","2":"Netball_female","3":"3","4":"wrong","5":"0.27272727"},{"1":"TSprnt_male","2":"Row_female","3":"3","4":"wrong","5":"0.27272727"},{"1":"TSprnt_female","2":"Netball_female","3":"1","4":"wrong","5":"0.25000000"},{"1":"TSprnt_female","2":"T400m_male","3":"1","4":"wrong","5":"0.25000000"},{"1":"Tennis_male","2":"BBall_female","3":"1","4":"wrong","5":"0.25000000"},{"1":"Swim_male","2":"Row_female","3":"3","4":"wrong","5":"0.23076923"},{"1":"Swim_male","2":"WPolo_male","3":"3","4":"wrong","5":"0.23076923"},{"1":"Row_female","2":"Netball_female","3":"5","4":"wrong","5":"0.22727273"},{"1":"Row_female","2":"T400m_male","3":"4","4":"wrong","5":"0.18181818"},{"1":"T400m_female","2":"T400m_male","3":"2","4":"wrong","5":"0.18181818"},{"1":"TSprnt_male","2":"WPolo_male","3":"2","4":"wrong","5":"0.18181818"},{"1":"WPolo_male","2":"BBall_male","3":"3","4":"wrong","5":"0.17647059"},{"1":"WPolo_male","2":"Row_female","3":"3","4":"wrong","5":"0.17647059"},{"1":"Netball_female","2":"Row_female","3":"4","4":"wrong","5":"0.17391304"},{"1":"Netball_female","2":"T400m_male","3":"4","4":"wrong","5":"0.17391304"},{"1":"BBall_male","2":"Swim_male","3":"2","4":"wrong","5":"0.16666667"},{"1":"Field_male","2":"Row_female","3":"2","4":"wrong","5":"0.16666667"},{"1":"Field_male","2":"WPolo_male","3":"2","4":"wrong","5":"0.16666667"},{"1":"T400m_male","2":"BBall_female","3":"3","4":"wrong","5":"0.16666667"},{"1":"T400m_male","2":"Row_female","3":"3","4":"wrong","5":"0.16666667"},{"1":"BBall_female","2":"T400m_male","3":"2","4":"wrong","5":"0.15384615"},{"1":"Swim_male","2":"Netball_female","3":"2","4":"wrong","5":"0.15384615"},{"1":"Field_female","2":"Netball_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Field_female","2":"T400m_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Tennis_female","2":"Field_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Tennis_female","2":"Gym_female","3":"1","4":"wrong","5":"0.14285714"},{"1":"Tennis_female","2":"T400m_male","3":"1","4":"wrong","5":"0.14285714"},{"1":"Row_male","2":"BBall_male","3":"2","4":"wrong","5":"0.13333333"},{"1":"WPolo_male","2":"Field_male","3":"2","4":"wrong","5":"0.11764706"},{"1":"Swim_female","2":"Row_female","3":"1","4":"wrong","5":"0.11111111"},{"1":"Swim_female","2":"T400m_male","3":"1","4":"wrong","5":"0.11111111"},{"1":"BBall_male","2":"WPolo_male","3":"1","4":"wrong","5":"0.08333333"},{"1":"Field_male","2":"BBall_male","3":"1","4":"wrong","5":"0.08333333"},{"1":"BBall_female","2":"BBall_male","3":"1","4":"wrong","5":"0.07692308"},{"1":"BBall_female","2":"Row_female","3":"1","4":"wrong","5":"0.07692308"},{"1":"BBall_female","2":"WPolo_male","3":"1","4":"wrong","5":"0.07692308"},{"1":"Swim_male","2":"T400m_male","3":"1","4":"wrong","5":"0.07692308"},{"1":"Row_male","2":"Field_male","3":"1","4":"wrong","5":"0.06666667"},{"1":"Row_male","2":"T400m_female","3":"1","4":"wrong","5":"0.06666667"},{"1":"WPolo_male","2":"BBall_female","3":"1","4":"wrong","5":"0.05882353"},{"1":"WPolo_male","2":"Row_male","3":"1","4":"wrong","5":"0.05882353"},{"1":"T400m_male","2":"BBall_male","3":"1","4":"wrong","5":"0.05555556"},{"1":"T400m_male","2":"T400m_female","3":"1","4":"wrong","5":"0.05555556"},{"1":"Row_female","2":"Gym_female","3":"1","4":"wrong","5":"0.04545455"},{"1":"Row_female","2":"Swim_male","3":"1","4":"wrong","5":"0.04545455"},{"1":"Row_female","2":"WPolo_male","3":"1","4":"wrong","5":"0.04545455"},{"1":"Netball_female","2":"Field_female","3":"1","4":"wrong","5":"0.04347826"},{"1":"Netball_female","2":"T400m_female","3":"1","4":"wrong","5":"0.04347826"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The embarrassment champion is the three male tennis players that were taken to be — female rowers! Most of the other mistakes are more forgivable: the male rowers being taken for male water polo players, for example.</p>
<p><span class="math inline">\(\blacksquare\)</span></p>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Grammatically, I am supposed to write this as “two hundred and forty-four” in words, since I am not supposed to start a sentence with a number. But, I say, deal with it. Or, I suppose, “there are 244 people who work…”.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>If you run into an error like “Argument 2 must have names” here, that means that the second thing, <code>class</code>, needs to have a name and doesn’t have one.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>This was why we were doing discriminant analysis in the first place.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>That sounds like the ultimate in evasiveness!<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Every time I do this, I forget to put the <code>summary</code> around the outside, so I get the long ugly version of the output rather than the short pretty version.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>For suitable definitions of fun.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Grammatically, I am supposed to write this as “two hundred and forty-four” in words, since I am not supposed to start a sentence with a number. But, I say, deal with it. Or, I suppose, “there are 244 people who work…”.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Until much later.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>When you’re <em>recording</em> the data, you may find it convenient to use short codes to represent the possibly long factor levels, but in that case you should also use a <a href="https://www.icpsr.umich.edu/icpsrweb/content/shared/ICPSR/faqs/what-is-a-codebook.html"><strong>codebook</strong></a> so that you know what the codes represent. When I read the data into R, I would create a factor with named levels, like I did here, if I don’t already have one.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>I discovered that I used <em>pp</em> twice, and I want to use the first one again later, so I had to rename this one.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>So we should do it, when assessing how good the classification is.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>I have to learn to come up with better names.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p><code>str-replace</code> is from <code>stringr</code>, and takes three inputs: a piece of text, the text to look for, and the text to replace it with. The piece of text in this case is one of the columns whose name starts with <code>posterior</code>; the dot represents <em>it</em>, that is to say “one of the columns whose name starts with <code>posterior</code>.<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>Rest assured that I did on the final exam!<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>The opposite of <code>unite</code> is <code>separate</code>, which splits a combined column like my <code>combo</code> into separate columns; it too uses underscore as the default separator.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>You used to have to group them, but you don’t any more. Hence my old code has them grouped, but my new code does not.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./repeated-measures.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Repeated measures</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./cluster.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Hierarchical cluster analysis</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>